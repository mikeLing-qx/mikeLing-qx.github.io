<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="RabbitMQÔºà‰∏ÄÔºâ ËØæÁ®ãÂõûÈ°æÔºö\n1„ÄÅOpenFeignËøõË°åËøúÁ®ãË∞ÉÁî®\n‰ªãÁªç ÂØπRestTemplateËøõË°å‰∫ÜÂ∞ÅË£Ö ÈÄöËøáÊõ¥Âä†‰ºòÈõÖÁöÑÊñπÂºè„ÄêÂÆ¢Êà∑Á´Ø ÁºñÂÜôFeignÁõ∏ÂΩì‰∫éÁºñÂÜôService„ÄëËøõË°åË∞ÉÁî® ÈõÜÊàê‰∫ÜË¥üËΩΩÂùáË°°„ÄÅÈõÜÊàê‰∫ÜÁÜîÊñ≠Âô®„ÄÅÊîØÊåÅÊó•Âøó„ÄÅÊîØÊåÅËØ∑Ê±Ç‰∏éÂìçÂ∫îÂéãÁº© ‰ª£Á†ÅÂÆûÁé∞ÔºöÁï• 2„ÄÅSpringCloudGatewayÁΩëÂÖ≥\n">
<title>RabbitMq_1</title>

<link rel='canonical' href='https://mikeLing-qx.github.io/p/rabbitmq_1/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="RabbitMq_1">
<meta property='og:description' content="RabbitMQÔºà‰∏ÄÔºâ ËØæÁ®ãÂõûÈ°æÔºö\n1„ÄÅOpenFeignËøõË°åËøúÁ®ãË∞ÉÁî®\n‰ªãÁªç ÂØπRestTemplateËøõË°å‰∫ÜÂ∞ÅË£Ö ÈÄöËøáÊõ¥Âä†‰ºòÈõÖÁöÑÊñπÂºè„ÄêÂÆ¢Êà∑Á´Ø ÁºñÂÜôFeignÁõ∏ÂΩì‰∫éÁºñÂÜôService„ÄëËøõË°åË∞ÉÁî® ÈõÜÊàê‰∫ÜË¥üËΩΩÂùáË°°„ÄÅÈõÜÊàê‰∫ÜÁÜîÊñ≠Âô®„ÄÅÊîØÊåÅÊó•Âøó„ÄÅÊîØÊåÅËØ∑Ê±Ç‰∏éÂìçÂ∫îÂéãÁº© ‰ª£Á†ÅÂÆûÁé∞ÔºöÁï• 2„ÄÅSpringCloudGatewayÁΩëÂÖ≥\n">
<meta property='og:url' content='https://mikeLing-qx.github.io/p/rabbitmq_1/'>
<meta property='og:site_name' content='lexqinMike'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='rabbitMq' /><meta property='article:tag' content='Ê∂àÊÅØÈòüÂàó' /><meta property='article:published_time' content='2023-08-08T16:15:32&#43;08:00'/><meta property='article:modified_time' content='2023-08-08T16:15:32&#43;08:00'/>
<meta name="twitter:title" content="RabbitMq_1">
<meta name="twitter:description" content="RabbitMQÔºà‰∏ÄÔºâ ËØæÁ®ãÂõûÈ°æÔºö\n1„ÄÅOpenFeignËøõË°åËøúÁ®ãË∞ÉÁî®\n‰ªãÁªç ÂØπRestTemplateËøõË°å‰∫ÜÂ∞ÅË£Ö ÈÄöËøáÊõ¥Âä†‰ºòÈõÖÁöÑÊñπÂºè„ÄêÂÆ¢Êà∑Á´Ø ÁºñÂÜôFeignÁõ∏ÂΩì‰∫éÁºñÂÜôService„ÄëËøõË°åË∞ÉÁî® ÈõÜÊàê‰∫ÜË¥üËΩΩÂùáË°°„ÄÅÈõÜÊàê‰∫ÜÁÜîÊñ≠Âô®„ÄÅÊîØÊåÅÊó•Âøó„ÄÅÊîØÊåÅËØ∑Ê±Ç‰∏éÂìçÂ∫îÂéãÁº© ‰ª£Á†ÅÂÆûÁé∞ÔºöÁï• 2„ÄÅSpringCloudGatewayÁΩëÂÖ≥\n">
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avator_hu1060881492573662444.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">lexqinMike</a></h1>
            <h2 class="site-description">welcome to my blog, ‰ª£Á†ÅÊó† bugÔºåÂíñÂï°Êó†ÈôêÁª≠„ÄÇ</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#rabbitmq‰∏Ä">RabbitMQÔºà‰∏ÄÔºâ</a></li>
    <li><a href="#1-Ê∂àÊÅØÈòüÂàóÊ¶ÇËø∞">1. Ê∂àÊÅØÈòüÂàóÊ¶ÇËø∞</a>
      <ul>
        <li><a href="#11-‰ªÄ‰πàÊòØmq">1.1. ‰ªÄ‰πàÊòØMQ</a></li>
        <li><a href="#12-Â∏∏ËßÅ‰∫ßÂìÅ">1.2 Â∏∏ËßÅ‰∫ßÂìÅ</a></li>
        <li><a href="#13-mqÁöÑÂ∏∏ËßÅÂ∫îÁî®Âú∫ÊôØ">1.3 MQÁöÑÂ∏∏ËßÅÂ∫îÁî®Âú∫ÊôØ</a>
          <ul>
            <li><a href="#131-Â∫îÁî®Ëß£ËÄ¶">1.3.1 Â∫îÁî®Ëß£ËÄ¶</a></li>
            <li><a href="#132-ÂºÇÊ≠•Â§ÑÁêÜ">1.3.2 ÂºÇÊ≠•Â§ÑÁêÜ</a></li>
            <li><a href="#133-ÊµÅÈáèÂâäÂ≥∞">1.3.3 ÊµÅÈáèÂâäÂ≥∞</a></li>
          </ul>
        </li>
        <li><a href="#14-ÊÄùËÄÉ">1.4 ÊÄùËÄÉ</a></li>
        <li><a href="#15-amqp-Âíå-jms">1.5 AMQP Âíå JMS</a></li>
      </ul>
    </li>
    <li><a href="#2-rabbitmq‰ªãÁªç‰ª•ÂèäÂÆâË£Ö">2. RabbitMQ‰ªãÁªç‰ª•ÂèäÂÆâË£Ö</a>
      <ul>
        <li><a href="#21-rabbitmq‰ªãÁªç">2.1 RabbitMQ‰ªãÁªç</a></li>
        <li><a href="#22-ÂÆâË£ÖËØ¥Êòé">2.2. ÂÆâË£ÖËØ¥Êòé</a></li>
        <li><a href="#23-Áî®Êà∑‰ª•Âèävirtual-hostsÈÖçÁΩÆ">2.3 Áî®Êà∑‰ª•ÂèäVirtual HostsÈÖçÁΩÆ</a>
          <ul>
            <li><a href="#231-ÈÖçÁΩÆË¥¶Âè∑">2.3.1 ÈÖçÁΩÆË¥¶Âè∑</a></li>
            <li><a href="#232-ÈÖçÁΩÆvirtual-hosts">2.3.2 ÈÖçÁΩÆVirtual Hosts</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#3-rabbitmqÂÖ•Èó®Á®ãÂ∫è">3 RabbitMQÂÖ•Èó®Á®ãÂ∫è</a>
      <ul>
        <li><a href="#31-ÂàõÂª∫Â∑•Á®ã">3.1 ÂàõÂª∫Â∑•Á®ã</a></li>
        <li><a href="#32-ÂàõÂª∫Áîü‰∫ßËÄÖ">3.2 ÂàõÂª∫Áîü‰∫ßËÄÖ</a>
          <ul>
            <li><a href="#321-ÂÆûÁé∞Ê≠•È™§">3.2.1 ÂÆûÁé∞Ê≠•È™§</a></li>
            <li><a href="#322-ÊïàÊûú">3.2.2 ÊïàÊûú</a></li>
          </ul>
        </li>
        <li><a href="#3--Ëá™Â∑±ÂÆûÁé∞‰ª£Á†Å">3  Ëá™Â∑±ÂÆûÁé∞‰ª£Á†Å</a>
          <ul>
            <li><a href="#323-queuesÂàóË°®ËØ¥Êòé">3.2.3 QueuesÂàóË°®ËØ¥Êòé</a></li>
          </ul>
        </li>
        <li><a href="#33-ÂàõÂª∫Ê∂àË¥πËÄÖ">3.3 ÂàõÂª∫Ê∂àË¥πËÄÖ</a>
          <ul>
            <li><a href="#332-consoleÊéßÂà∂Âè∞">3.3.2 consoleÊéßÂà∂Âè∞</a></li>
            <li><a href="#333-rabbitmqÊéßÂà∂Âè∞">3.3.3 RabbitMQÊéßÂà∂Âè∞</a></li>
          </ul>
        </li>
        <li><a href="#34-‰ª£Á†ÅÊäΩÂèñ">3.4 ‰ª£Á†ÅÊäΩÂèñ</a></li>
        <li><a href="#34-Â∞èÁªì">3.4 Â∞èÁªì</a></li>
      </ul>
    </li>
    <li><a href="#4-rabbitmqÂ∑•‰ΩúÊ®°Âºè">4. RabbitMQÂ∑•‰ΩúÊ®°Âºè</a>
      <ul>
        <li><a href="#41-work-queuesÂ∑•‰ΩúÈòüÂàóÊ®°Âºè">4.1 Work queuesÂ∑•‰ΩúÈòüÂàóÊ®°Âºè</a>
          <ul>
            <li><a href="#411-Ê®°ÂºèËØ¥Êòé">4.1.1 Ê®°ÂºèËØ¥Êòé</a></li>
            <li><a href="#412-‰ª£Á†ÅÂÆûÁé∞">4.1.2 ‰ª£Á†ÅÂÆûÁé∞</a>
              <ul>
                <li><a href="#4121-ÂàõÂª∫Áîü‰∫ßËÄÖ">4.1.2.1 ÂàõÂª∫Áîü‰∫ßËÄÖ</a></li>
                <li><a href="#4122-ÂàõÂª∫Ê∂àË¥πËÄÖ1">4.1.2.2 ÂàõÂª∫Ê∂àË¥πËÄÖ1</a></li>
                <li><a href="#4123-ÂàõÂª∫Ê∂àË¥πËÄÖ2">4.1.2.3 ÂàõÂª∫Ê∂àË¥πËÄÖ2</a></li>
              </ul>
            </li>
            <li><a href="#413-ÊµãËØï">4.1.3 ÊµãËØï</a></li>
            <li><a href="#414-Â∞èÁªì">4.1.4 Â∞èÁªì</a></li>
          </ul>
        </li>
        <li><a href="#42-fanoutÂπøÊí≠Ê®°Âºè">4.2 FanoutÂπøÊí≠Ê®°Âºè</a>
          <ul>
            <li><a href="#421-Ê®°ÂºèËØ¥Êòé">4.2.1 Ê®°ÂºèËØ¥Êòé</a></li>
            <li><a href="#422-‰ª£Á†Å">4.2.2 ‰ª£Á†Å</a>
              <ul>
                <li><a href="#4221-ÂàõÂª∫Áîü‰∫ßËÄÖ">4.2.2.1 ÂàõÂª∫Áîü‰∫ßËÄÖ</a></li>
                <li><a href="#4222-ÂàõÂª∫Ê∂àË¥πËÄÖ1">4.2.2.2 ÂàõÂª∫Ê∂àË¥πËÄÖ1</a></li>
                <li><a href="#4223-ÂàõÂª∫Ê∂àË¥πËÄÖ2">4.2.2.3 ÂàõÂª∫Ê∂àË¥πËÄÖ2</a></li>
              </ul>
            </li>
            <li><a href="#423-ÊµãËØï">4.2.3 ÊµãËØï</a></li>
            <li><a href="#424-Â∞èÁªì">4.2.4 Â∞èÁªì</a></li>
          </ul>
        </li>
        <li><a href="#43-routingË∑ØÁî±Ê®°Âºè">4.3 RoutingË∑ØÁî±Ê®°Âºè</a>
          <ul>
            <li><a href="#431-Ê®°ÂºèËØ¥Êòé">4.3.1. Ê®°ÂºèËØ¥Êòé</a></li>
            <li><a href="#432-‰ª£Á†Å">4.3.2 ‰ª£Á†Å</a>
              <ul>
                <li><a href="#4321-ÂàõÂª∫Áîü‰∫ßËÄÖ">4.3.2.1 ÂàõÂª∫Áîü‰∫ßËÄÖ</a></li>
                <li><a href="#4322-ÂàõÂª∫Ê∂àË¥πËÄÖ1">4.3.2.2 ÂàõÂª∫Ê∂àË¥πËÄÖ1</a></li>
                <li><a href="#4323-ÂàõÂª∫Ê∂àË¥πËÄÖ2">4.3.2.3 ÂàõÂª∫Ê∂àË¥πËÄÖ2</a></li>
              </ul>
            </li>
            <li><a href="#433-ÊµãËØï">4.3.3 ÊµãËØï</a></li>
            <li><a href="#434-Â∞èÁªì">4.3.4 Â∞èÁªì</a></li>
          </ul>
        </li>
        <li><a href="#44-topicsÈÄöÈÖçÁ¨¶Ê®°Âºè">4.4 TopicsÈÄöÈÖçÁ¨¶Ê®°Âºè</a>
          <ul>
            <li><a href="#441-Ê®°ÂºèËØ¥Êòé">4.4.1 Ê®°ÂºèËØ¥Êòé</a></li>
            <li><a href="#442-‰ª£Á†Å">4.4.2 ‰ª£Á†Å</a>
              <ul>
                <li><a href="#4421-ÂàõÂª∫Áîü‰∫ßËÄÖ">4.4.2.1 ÂàõÂª∫Áîü‰∫ßËÄÖ</a></li>
                <li><a href="#4422-ÂàõÂª∫Ê∂àË¥πËÄÖ1">4.4.2.2 ÂàõÂª∫Ê∂àË¥πËÄÖ1</a></li>
                <li><a href="#4423-ÂàõÂª∫Ê∂àË¥πËÄÖ2">4.4.2.3 ÂàõÂª∫Ê∂àË¥πËÄÖ2</a></li>
              </ul>
            </li>
            <li><a href="#443-ÊµãËØï">4.4.3 ÊµãËØï</a></li>
            <li><a href="#444-Â∞èÁªì">4.4.4 Â∞èÁªì</a></li>
          </ul>
        </li>
        <li><a href="#45-rabbitmqÂ∑•‰ΩúÊ®°ÂºèÊÄªÁªì">4.5 RabbitMQÂ∑•‰ΩúÊ®°ÂºèÊÄªÁªì</a></li>
      </ul>
    </li>
    <li><a href="#5-spring-bootÈõÜÊàêrabbitmq">5 Spring BootÈõÜÊàêRabbitMQ</a>
      <ul>
        <li><a href="#51-ÁÆÄ‰ªã">5.1 ÁÆÄ‰ªã</a></li>
        <li><a href="#52-Êê≠Âª∫Áîü‰∫ßËÄÖÂ∑•Á®ã">5.2 Êê≠Âª∫Áîü‰∫ßËÄÖÂ∑•Á®ã</a>
          <ul>
            <li><a href="#521-ÂàõÂª∫Â∑•Á®ã">5.2.1 ÂàõÂª∫Â∑•Á®ã</a></li>
            <li><a href="#522-Ê∑ªÂä†‰æùËµñ">5.2.2 Ê∑ªÂä†‰æùËµñ</a></li>
            <li><a href="#523-ÂêØÂä®Á±ª">5.2.3 ÂêØÂä®Á±ª</a></li>
            <li><a href="#524-ÈÖçÁΩÆrabbitmq">5.2.4 ÈÖçÁΩÆRabbitMQ</a></li>
          </ul>
        </li>
        <li><a href="#53-Êê≠Âª∫Ê∂àË¥πËÄÖÂ∑•Á®ã">5.3 Êê≠Âª∫Ê∂àË¥πËÄÖÂ∑•Á®ã</a>
          <ul>
            <li><a href="#531-ÂàõÂª∫Â∑•Á®ã">5.3.1 ÂàõÂª∫Â∑•Á®ã</a></li>
            <li><a href="#532-Ê∑ªÂä†‰æùËµñ">5.3.2 Ê∑ªÂä†‰æùËµñ</a></li>
            <li><a href="#533-ÂêØÂä®Á±ª">5.3.3 ÂêØÂä®Á±ª</a></li>
            <li><a href="#534-ÈÖçÁΩÆrabbitmq">5.3.4 ÈÖçÁΩÆRabbitMQ</a></li>
            <li><a href="#535-Ê∂àÊÅØÁõëÂê¨Â§ÑÁêÜÁ±ª">5.3.5 Ê∂àÊÅØÁõëÂê¨Â§ÑÁêÜÁ±ª</a></li>
          </ul>
        </li>
        <li><a href="#54-ÊµãËØï">5.4 ÊµãËØï</a></li>
      </ul>
    </li>
    <li><a href="#6-ÂÆâË£ÖÈóÆÈ¢ò">6 ÂÆâË£ÖÈóÆÈ¢ò</a></li>
    <li><a href="#ÊÄªÁªì">ÊÄªÁªì</a></li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/rabbitmq/" >
                RabbitMq
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/rabbitmq_1/">RabbitMq_1</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Aug 08, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 29 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="rabbitmq‰∏Ä">RabbitMQÔºà‰∏ÄÔºâ
</h1><p>ËØæÁ®ãÂõûÈ°æÔºö</p>
<p>1„ÄÅOpenFeignËøõË°åËøúÁ®ãË∞ÉÁî®</p>
<ul>
<li>‰ªãÁªç
<ul>
<li>ÂØπRestTemplateËøõË°å‰∫ÜÂ∞ÅË£Ö</li>
<li>ÈÄöËøáÊõ¥Âä†‰ºòÈõÖÁöÑÊñπÂºè„ÄêÂÆ¢Êà∑Á´Ø    ÁºñÂÜôFeignÁõ∏ÂΩì‰∫éÁºñÂÜôService„ÄëËøõË°åË∞ÉÁî®</li>
<li>ÈõÜÊàê‰∫ÜË¥üËΩΩÂùáË°°„ÄÅÈõÜÊàê‰∫ÜÁÜîÊñ≠Âô®„ÄÅÊîØÊåÅÊó•Âøó„ÄÅÊîØÊåÅËØ∑Ê±Ç‰∏éÂìçÂ∫îÂéãÁº©</li>
<li>‰ª£Á†ÅÂÆûÁé∞ÔºöÁï•</li>
</ul>
</li>
</ul>
<p>2„ÄÅSpringCloudGatewayÁΩëÂÖ≥</p>
<ul>
<li>Âú∫ÊôØÔºöÈâ¥ÊùÉÊìç‰Ωú„ÄÅËÆ§ËØÅÊìç‰Ωú„ÄÅËÆ∞ÂΩïÊó•Âøó„ÄÅÈôêÊµÅÁ≠âÁ≠â</li>
<li>ÁΩëÂÖ≥‰ªãÁªçÔºö
<ul>
<li>Ë∑ØÁî±ÔºöËΩ¨ÂèëÂà∞Âì™‰∏™ÊúçÂä°‰∏ä</li>
<li>Êñ≠Ë®ÄÔºöÂåπÈÖçÂÖ∑‰ΩìÁöÑurlÂú∞ÂùÄ</li>
<li>ËøáÊª§Âô®ÔºöÂú®Êú¨Ê¨°ÁöÑËØ∑Ê±Ç‰∏≠ÔºåÈÄöËøáËøáÊª§Âô®ÂÆåÊàê‰∏Ä‰∫õÈôêÂà∂Ôºà‰∏öÂä°ÈúÄÊ±ÇÔºâ</li>
</ul>
</li>
<li><strong>ËøáÊª§Âô®</strong>Ôºö
<ul>
<li>Â±ÄÈÉ®ËøáÊª§Âô®</li>
<li>ÂÖ®Â±ÄËøáÊª§Âô®</li>
<li>ÂÆòÊñπËá™Â∏¶ÁöÑËøáÊª§Âô®</li>
<li>Ëá™ÂÆö‰πâËøáÊª§Âô®Ôºö
<ul>
<li>ÂÖ®Â±ÄËøáÊª§Âô®ÔºöÂÆûÁé∞GlobalFilterÊé•Âè£ÔºåËøòÂèØ‰ª•ÂÆûÁé∞OrderedÊé•Âè£ÔºåÊåáÂÆöËøáÊª§Âô®ÁöÑÊâßË°åÈ°∫Â∫èÁöÑ„Äê‰ª£ÊõøËØ•Êé•Âè£Ôºö@OrderÊ≥®Ëß£„Äë</li>
<li>Â±ÄÈÉ®ËøáÊª§Âô®Ôºö
<ul>
<li>ÁªßÊâøAbstractGatewayFilterFactory</li>
<li>Ëá™ÂÆö‰πâËøáÊª§Âô®ÁöÑÂêçÁß∞ËßÑËåÉÔºöXxxGatewayFilterFactory</li>
<li>ÈúÄË¶ÅÂú®ymlÊñá‰ª∂‰∏≠ÈÖçÁΩÆ</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>3„ÄÅSpringCloudConfigÔºöÈÖçÁΩÆ‰∏≠ÂøÉ</p>
<ul>
<li>ÈÖçÁΩÆ‰∏≠ÂøÉÔºöÁÆ°ÁêÜÊúçÂä°‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂ÁöÑ</li>
<li>ÊâßË°åÊµÅÁ®ãÔºöÊâòÁÆ°Âπ≥Âè∞ÔºàÁ†Å‰∫ë/GitHubÔºâ&mdash;&gt;ÈÖçÁΩÆ‰∏≠ÂøÉ&mdash;&gt;ÂàÜÂèëÂà∞ÂÖ∑‰ΩìÁöÑÊúçÂä°‰∏≠</li>
</ul>
<p>Â≠¶‰π†ÁõÆÊ†áÔºöMQÔºöMessage QueueÔºàÊ∂àÊÅØÈòüÂàóÔºâ</p>
<p>1„ÄÅÊ∂àÊÅØÈòüÂàó‰ªãÁªç„Äê‰∫ÜËß£„Äë</p>
<p>2„ÄÅRabbitMQ‰ªãÁªç‰ª•ÂèäÂÆâË£Ö„ÄêÂ∫îÁî®„Äë</p>
<p>3„ÄÅÁºñÂÜôRabbitMQÁöÑÂÖ•Èó®Á®ãÂ∫è„ÄêÊéåÊè°„Äë</p>
<p>4„ÄÅRabbitMQÁöÑÈÄö‰ø°ÊñπÂºè„ÄêÈáçÁÇπ„Äë</p>
<p>5„ÄÅSpringBootÈõÜÊàêRabbitMQ„ÄêÊéåÊè°„Äë</p>
<h1 id="1-Ê∂àÊÅØÈòüÂàóÊ¶ÇËø∞">1. Ê∂àÊÅØÈòüÂàóÊ¶ÇËø∞
</h1><p>Â≠¶‰π†ËøáRedisÔºö5ÁßçÊï∞ÊçÆÁªìÊûÑ     ListÂèØ‰ª•‰Ωú‰∏∫Ê∂àÊÅØÈòüÂàó„ÄÇ</p>
<p><img src="/p/rabbitmq_1/assets/1589938458020.png"
	width="1119"
	height="330"
	
	loading="lazy"
	
		alt="1589938458020"
	
	
		class="gallery-image" 
		data-flex-grow="339"
		data-flex-basis="813px"
	
></p>
<h2 id="11-‰ªÄ‰πàÊòØmq">1.1. ‰ªÄ‰πàÊòØMQ
</h2><p>Ê∂àÊÅØÈòüÂàóÔºàMQÔºâÊòØ‰∏ÄÁßçÂ∫îÁî®Á®ãÂ∫èÂØπÂ∫îÁî®Á®ãÂ∫èÁöÑÈÄö‰ø°ÊñπÊ≥ï„ÄÇÂ∫îÁî®Á®ãÂ∫èÈÄöËøáÂÜôÂíåÊ£ÄÁ¥¢Âá∫ÂÖ•ÂàóÈòüÁöÑÈíàÂØπÂ∫îÁî®Á®ãÂ∫èÁöÑÊï∞ÊçÆÔºàÊ∂àÊÅØÔºâÊù•ÈÄö‰ø°ÔºåËÄåÊó†ÈúÄ‰∏ìÁî®ËøûÊé•Êù•ÈìæÊé•ÂÆÉ‰ª¨„ÄÇÊ∂àÊÅØ‰º†ÈÄíÊåáÁöÑÊòØÁ®ãÂ∫è‰πãÈó¥ÈÄöËøáÂú®Ê∂àÊÅØ‰∏≠ÂèëÈÄÅÊï∞ÊçÆËøõË°åÈÄö‰ø°ÔºåËÄå‰∏çÊòØÈÄöËøáÁõ¥Êé•Ë∞ÉÁî®ÂΩºÊ≠§Êù•ÈÄö‰ø°ÔºåÁõ¥Êé•Ë∞ÉÁî®ÈÄöÂ∏∏ÊòØÁî®‰∫éËØ∏Â¶ÇËøúÁ®ãËøáÁ®ãË∞ÉÁî®ÁöÑÊäÄÊúØ„ÄÇÊéíÈòüÊåáÁöÑÊòØÂ∫îÁî®Á®ãÂ∫èÈÄöËøáÈòüÂàóÊù•ÈÄö‰ø°„ÄÇÈòüÂàóÁöÑ‰ΩøÁî®Èô§Âéª‰∫ÜÊé•Êî∂ÂíåÂèëÈÄÅÂ∫îÁî®Á®ãÂ∫èÂêåÊó∂ÊâßË°åÁöÑË¶ÅÊ±Ç„ÄÇ</p>
<p>MQÂÖ®Áß∞‰∏∫Message QueueÔºåÊ∂àÊÅØÈòüÂàó‰ΩúÁî®Âú®Ôºà‰∏Ä‰∏™ÔºâÂ∫îÁî®Á®ãÂ∫èÂíåÔºà‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ôºâ<strong>Â∫îÁî®Á®ãÂ∫è‰πãÈó¥ËøõË°åÈÄö‰ø°ËøáÁ®ã‰∏≠‰øùÂ≠òÊ∂àÊÅØÁöÑÂÆπÂô®</strong>„ÄÇ„ÄêÊòØÂú®Ê∂àÊÅØÁöÑ‰º†ËæìËøáÁ®ã‰∏≠‰øùÂ≠òÊ∂àÊÅØÁöÑÂÆπÂô® „Äë</p>
<h2 id="12-Â∏∏ËßÅ‰∫ßÂìÅ">1.2 Â∏∏ËßÅ‰∫ßÂìÅ
</h2><p>Âú∫ÊôØÁöÑÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºàMOMÔºâ‰∫ßÂìÅÊúâÔºöRabbitMQ  ActiveMQ  RocketMQ  kafka</p>
<p><img src="/p/rabbitmq_1/assets/1564382934252.png"
	width="1292"
	height="454"
	
	loading="lazy"
	
		alt="1564382934252"
	
	
		class="gallery-image" 
		data-flex-grow="284"
		data-flex-basis="682px"
	
></p>
<ul>
<li>kafka</li>
</ul>
<pre><code class="language-properties">Apache‰∏ãÁöÑ‰∏Ä‰∏™Â≠êÈ°πÁõÆÔºå‰ΩøÁî®scalaÂÆûÁé∞ÁöÑ‰∏Ä‰∏™È´òÊÄßËÉΩÂàÜÂ∏ÉÂºèPublish/SubscribeÊ∂àÊÅØÈòüÂàóÁ≥ªÁªü„ÄÇ
	1.Âø´ÈÄüÊåÅ‰πÖÂåñÔºöÈÄöËøáÁ£ÅÁõòÈ°∫Â∫èËØªÂÜô‰∏éÈõ∂Êã∑Ë¥ùÊú∫Âà∂ÔºåÂèØ‰ª•Âú®O(1)ÁöÑÁ≥ªÁªüÂºÄÈîÄ‰∏ãËøõË°åÊ∂àÊÅØÊåÅ‰πÖÂåñÔºõ
	2.È´òÂêûÂêêÔºöÂú®‰∏ÄÂè∞ÊôÆÈÄöÁöÑÊúçÂä°Âô®‰∏äÊó¢ÂèØ‰ª•ËææÂà∞10W/sÁöÑÂêûÂêêÈÄüÁéáÔºõ
	3.È´òÂ†ÜÁßØÔºöÊîØÊåÅtopic‰∏ãÊ∂àË¥πËÄÖËæÉÈïøÊó∂Èó¥Á¶ªÁ∫øÔºåÊ∂àÊÅØÂ†ÜÁßØÈáèÂ§ßÔºõ
	4.ÂÆåÂÖ®ÁöÑÂàÜÂ∏ÉÂºèÁ≥ªÁªüÔºöBroker„ÄÅProducer„ÄÅConsumerÈÉΩÂéüÁîüËá™Âä®ÊîØÊåÅÂàÜÂ∏ÉÂºèÔºå‰æùËµñzookeeperËá™Âä®ÂÆûÁé∞Ë¥üËΩΩÂùáË°°Ôºõ
	5.ÊîØÊåÅHadoopÊï∞ÊçÆÂπ∂Ë°åÂä†ËΩΩÔºöÂØπ‰∫éÂÉèHadoopÁöÑ‰∏ÄÊ†∑ÁöÑÊó•ÂøóÊï∞ÊçÆÂíåÁ¶ªÁ∫øÂàÜÊûêÁ≥ªÁªüÔºå‰ΩÜÂèàË¶ÅÊ±ÇÂÆûÊó∂Â§ÑÁêÜÁöÑÈôêÂà∂ÔºåËøôÊòØ‰∏Ä‰∏™ÂèØË°åÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇ
</code></pre>
<h2 id="13-mqÁöÑÂ∏∏ËßÅÂ∫îÁî®Âú∫ÊôØ">1.3 MQÁöÑÂ∏∏ËßÅÂ∫îÁî®Âú∫ÊôØ
</h2><h3 id="131-Â∫îÁî®Ëß£ËÄ¶">1.3.1 Â∫îÁî®Ëß£ËÄ¶
</h3><p>Âèå11ÊòØË¥≠Áâ©ÁãÇËäÇ,Áî®Êà∑‰∏ãÂçïÂêé,ËÆ¢ÂçïÁ≥ªÁªüÈúÄË¶ÅÈÄöÁü•Â∫ìÂ≠òÁ≥ªÁªü,‰º†ÁªüÁöÑÂÅöÊ≥ïÂ∞±ÊòØËÆ¢ÂçïÁ≥ªÁªüË∞ÉÁî®Â∫ìÂ≠òÁ≥ªÁªüÁöÑÊé•Âè£.ËøôÁßçÂÅöÊ≥ïÊúâ‰∏Ä‰∏™Áº∫ÁÇπ:ÂΩìÂ∫ìÂ≠òÁ≥ªÁªüÂá∫Áé∞ÊïÖÈöúÊó∂,ËÆ¢ÂçïÂ∞±‰ºöÂ§±Ë¥•„ÄÇ(ËøôÊ†∑Êüê‰∫ë„ÄÅÊüê‰∏úÂ∞ÜÂ∞ëËµöÂ•ΩÂ§öÂ•ΩÂ§öÈí±)ËÆ¢ÂçïÁ≥ªÁªüÂíåÂ∫ìÂ≠òÁ≥ªÁªüÈ´òËÄ¶Âêà.</p>
<ul>
<li>Áî®Êà∑Êèê‰∫§ËÆ¢ÂçïÔºöÂêåÊ≠•Â§ÑÁêÜÔºåÈúÄË¶ÅÊâßË°åÁöÑÊó∂Èó¥Ôºö50ms * n</li>
</ul>
<p><img src="/p/rabbitmq_1/assets/1564383470643.png"
	width="994"
	height="123"
	
	loading="lazy"
	
		alt="1564383470643"
	
	
		class="gallery-image" 
		data-flex-grow="808"
		data-flex-basis="1939px"
	
></p>
<ul>
<li>ÊÄùËÄÉÔºöÂú®‰∏äËø∞‰∏öÂä°ÈÄªËæë‰∏≠ÔºåÂÖ∂ÂÆûÁî®Êà∑Âè™ÈúÄË¶ÅÂÖ≥ÂøÉËá™Â∑±ÁöÑËÆ¢ÂçïÊèê‰∫§ÊòØÂê¶ÊàêÂäüÂç≥ÂèØÔºåËá≥‰∫éÂÖ∂‰ªñÁöÑÊúçÂä°Ôºà‰∏öÂä°ÔºâÂ§ÑÁêÜ‰∏éÁî®Êà∑ÊòØÊ≤°Êúâ‰ªª‰ΩïÂÖ≥Á≥ªÁöÑÔºåÂõ†Ê≠§ÈíàÂØπËøô‰∏™Âú∫ÊôØÔºåÊàë‰ª¨ÊòØÂê¶ÂèØ‰ª•ËøôÊ†∑ÂéªÂÅöÂë¢Ôºü</li>
</ul>
<p><img src="/p/rabbitmq_1/assets/1564383948529.png"
	width="954"
	height="302"
	
	loading="lazy"
	
		alt="1564383948529"
	
	
		class="gallery-image" 
		data-flex-grow="315"
		data-flex-basis="758px"
	
></p>
<p>Áî±Ê≠§ÂèØ‰ª•ÁúãÂá∫,ÂºïÂÖ•Ê∂àÊÅØÈòüÂàóÂêéÔºåÁî®Êà∑ÁöÑÂìçÂ∫îÊó∂Èó¥Â∞±Á≠â‰∫éÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÁöÑÊó∂Èó¥+ÂÜôÂÖ•Ê∂àÊÅØÈòüÂàóÁöÑÊó∂Èó¥(ÂèØ‰ª•ÂøΩÁï•‰∏çËÆ°),ÂºïÂÖ•Ê∂àÊÅØÈòüÂàóÂêéÂ§ÑÁêÜÂêé,ÂìçÂ∫îÊó∂Èó¥ÊèêÈ´ò3ÂÄç„ÄÇ</p>
<p>ËÆ¢ÂçïÁ≥ªÁªü:Áî®Êà∑‰∏ãÂçïÂêé,ËÆ¢ÂçïÁ≥ªÁªüÂÆåÊàêÊåÅ‰πÖÂåñÂ§ÑÁêÜ,Â∞ÜÊ∂àÊÅØÂÜôÂÖ•Ê∂àÊÅØÈòüÂàó,ËøîÂõûÁî®Êà∑ËÆ¢Âçï‰∏ãÂçïÊàêÂäü„ÄÇÂ∫ìÂ≠òÁ≥ªÁªü:ËÆ¢ÈòÖ‰∏ãÂçïÁöÑÊ∂àÊÅØ,Ëé∑Âèñ‰∏ãÂçïÊ∂àÊÅØ,ËøõË°åÂ∫ìÊìç‰Ωú„ÄÇÂ∞±ÁÆóÂ∫ìÂ≠òÁ≥ªÁªüÂá∫Áé∞ÊïÖÈöú,Ê∂àÊÅØÈòüÂàó‰πüËÉΩ‰øùËØÅÊ∂àÊÅØÁöÑÂèØÈù†ÊäïÈÄí,‰∏ç‰ºöÂØºËá¥Ê∂àÊÅØ‰∏¢Â§±„ÄÇ</p>
<h3 id="132-ÂºÇÊ≠•Â§ÑÁêÜ">1.3.2 ÂºÇÊ≠•Â§ÑÁêÜ
</h3><p>‰æãÂ¶ÇÔºöÁî®Êà∑Ê≥®ÂÜå„ÄÇ</p>
<ul>
<li>Áî®Êà∑Ê≥®ÂÜåÔºåÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÔºåÁÑ∂ÂêéÁ≠âÂæÖÁ≥ªÁªüÂèëÈÄÅÁü≠‰ø°ÔºåÊî∂Âà∞Áü≠‰ø°ÂêéÁªßÁª≠Á≠âÂæÖÁ≥ªÁªüÂèëÈÄÅÈÇÆ‰ª∂„ÄÇËøô‰∏™ËøáÁ®ã‰∏≠Áü≠‰ø°‰∏öÂä°‰∏éÈÇÆ‰ª∂‰∏öÂä°‰∏éÁî®Êà∑‰πüÊòØÊó†ÂÖ≥ÁöÑÔºåÂõ†Ê≠§‰πüÂèØ‰ª•ÈÄöËøáMQÂéªËß£ÂÜ≥</li>
</ul>
<p><img src="/p/rabbitmq_1/assets/1564384216328.png"
	width="763"
	height="99"
	
	loading="lazy"
	
		alt="1564384216328"
	
	
		class="gallery-image" 
		data-flex-grow="770"
		data-flex-basis="1849px"
	
></p>
<ul>
<li>MQÔºöÁî®Êà∑Ê≥®ÂÜåËøáÁ®ã‰∏≠ÔºåÂè™ÈúÄË¶ÅÂ∞ÜÊâãÊú∫Âè∑ÂíåemailÂèëÈÄÅÂà∞MQ‰∏≠Âç≥ÂèØÔºåÁÑ∂ÂêéÁî±ÂÖ∂‰ªñÊúçÂä°ÁõëÂê¨MQÁÑ∂ÂêéËé∑ÂèñÊ∂àÊÅØÂπ∂‰∏îÂ§ÑÁêÜÁõ∏ÂÖ≥‰∏öÂä°„ÄÇ</li>
</ul>
<p><img src="/p/rabbitmq_1/assets/1564385009047.png"
	width="933"
	height="296"
	
	loading="lazy"
	
		alt="1564385009047"
	
	
		class="gallery-image" 
		data-flex-grow="315"
		data-flex-basis="756px"
	
></p>
<h3 id="133-ÊµÅÈáèÂâäÂ≥∞">1.3.3 ÊµÅÈáèÂâäÂ≥∞
</h3><p><img src="/p/rabbitmq_1/assets/1564385121615.png"
	width="591"
	height="167"
	
	loading="lazy"
	
		alt="1564385121615"
	
	
		class="gallery-image" 
		data-flex-grow="353"
		data-flex-basis="849px"
	
></p>
<p>ÊµÅÈáèÂâäÂ≥∞‰∏ÄËà¨Âú®ÁßíÊùÄÊ¥ªÂä®‰∏≠Â∫îÁî®ÂπøÊ≥õ„ÄÇÂú∫ÊôØ:ÁßíÊùÄÊ¥ªÂä®Ôºå‰∏ÄËà¨‰ºöÂõ†‰∏∫ÊµÅÈáèËøáÂ§ßÔºåÂØºËá¥Â∫îÁî®ÊåÇÊéâ,‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰∏ÄËà¨Âú®Â∫îÁî®ÂâçÁ´ØÂä†ÂÖ•Ê∂àÊÅØÈòüÂàó„ÄÇ ‰ΩúÁî®:</p>
<ul>
<li>ÂèØ‰ª•ÊéßÂà∂Ê¥ªÂä®‰∫∫Êï∞ÔºåË∂ÖËøáÊ≠§‰∏ÄÂÆöÈòÄÂÄºÁöÑËÆ¢ÂçïÁõ¥Êé•‰∏¢ÂºÉ(ËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πàÁßíÊùÄ‰∏ÄÊ¨°ÈÉΩÊ≤°ÊúâÊàêÂäüËøá:cry:)</li>
<li>ÂèØ‰ª•ÁºìËß£Áü≠Êó∂Èó¥ÁöÑÈ´òÊµÅÈáèÂéãÂûÆÂ∫îÁî®(Â∫îÁî®Á®ãÂ∫èÊåâËá™Â∑±ÁöÑÊúÄÂ§ßÂ§ÑÁêÜËÉΩÂäõËé∑ÂèñËÆ¢Âçï)</li>
<li>Áî®Êà∑ÁöÑËØ∑Ê±Ç,ÊúçÂä°Âô®Êî∂Âà∞‰πãÂêé,È¶ñÂÖàÂÜôÂÖ•Ê∂àÊÅØÈòüÂàó,Âä†ÂÖ•Ê∂àÊÅØÈòüÂàóÈïøÂ∫¶Ë∂ÖËøáÊúÄÂ§ßÂÄº,ÂàôÁõ¥Êé•ÊäõÂºÉÁî®Êà∑ËØ∑Ê±ÇÊàñË∑≥ËΩ¨Âà∞ÈîôËØØÈ°µÈù¢</li>
<li>ÁßíÊùÄ‰∏öÂä°Ê†πÊçÆÊ∂àÊÅØÈòüÂàó‰∏≠ÁöÑËØ∑Ê±Ç‰ø°ÊÅØÔºåÂÜçÂÅöÂêéÁª≠‰∏öÂä°Â§ÑÁêÜ</li>
</ul>
<h2 id="14-ÊÄùËÄÉ">1.4 ÊÄùËÄÉ
</h2><p>ÊâÄÊúâÊúçÂä°Èó¥Ë∞ÉÁî®ÊòØÂê¶ÈÉΩÂèØ‰ª•‰ΩøÁî®MQÔºü<strong>‰∏çÊòØ</strong>„ÄÇ</p>
<p>ËÆ∞‰Ωè‰∏Ä‰∏™ÂéüÂàôÔºöË∞ÉÁî®ÊñπÂÆûÊó∂‰æùËµñÊâßË°åÁªìÊûúÁöÑ‰∏öÂä°Âú∫ÊôØÔºå‰ΩøÁî®Áõ¥Êé•Ë∞ÉÁî®ÔºåËÄå‰∏çÊòØMQ „ÄÇ</p>
<p><img src="/p/rabbitmq_1/assets/1564382839184.png"
	width="989"
	height="363"
	
	loading="lazy"
	
		alt="1564382839184"
	
	
		class="gallery-image" 
		data-flex-grow="272"
		data-flex-basis="653px"
	
></p>
<h2 id="15-amqp-Âíå-jms">1.5 AMQP Âíå JMS
</h2><p><img src="/p/rabbitmq_1/assets/1564385585125.png"
	width="801"
	height="438"
	
	loading="lazy"
	
		alt="1564385585125"
	
	
		class="gallery-image" 
		data-flex-grow="182"
		data-flex-basis="438px"
	
></p>
<ul>
<li>
<p>AMQPÈ´òÁ∫ßÊ∂àÊÅØÈòüÂàóÂçèËÆÆÔºåÊòØ‰∏Ä‰∏™ËøõÁ®ãÈó¥‰º†ÈÄíÂºÇÊ≠•Ê∂àÊÅØÁöÑÁΩëÁªúÂçèËÆÆÔºåÊõ¥ÂáÜÁ°ÆÁöÑËØ¥ÊòØ‰∏ÄÁßçbinary wire-level protocolÔºàÈìæÊé•ÂçèËÆÆÔºâ„ÄÇËøôÊòØÂÖ∂ÂíåJMSÁöÑÊú¨Ë¥®Â∑ÆÂà´ÔºåAMQP‰∏ç‰ªéAPIÂ±ÇËøõË°åÈôêÂÆöÔºåËÄåÊòØÁõ¥Êé•ÂÆö‰πâÁΩëÁªú‰∫§Êç¢ÁöÑÊï∞ÊçÆÊ†ºÂºè„ÄÇ</p>
</li>
<li>
<p>JMSÂç≥JavaÊ∂àÊÅØÊúçÂä°ÔºàJavaMessage ServiceÔºâÂ∫îÁî®Á®ãÂ∫èÊé•Âè£ÔºåÊòØ‰∏Ä‰∏™JavaÂπ≥Âè∞‰∏≠ÂÖ≥‰∫éÈù¢ÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºàMOMÔºâÁöÑAPIÔºåÁî®‰∫éÂú®‰∏§‰∏™Â∫îÁî®Á®ãÂ∫è‰πãÈó¥ÔºåÊàñÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÂèëÈÄÅÊ∂àÊÅØÔºåËøõË°åÂºÇÊ≠•ÈÄö‰ø°„ÄÇ</p>
</li>
<li>
<p>JMSÂíåAMQPÂå∫Âà´</p>
<ul>
<li>
<p>JMSÊòØÂÆö‰πâ‰∫ÜÁªü‰∏ÄÁöÑÊé•Âè£ÔºåÊù•ÂØπÊ∂àÊÅØÊìç‰ΩúËøõË°åÁªü‰∏ÄÔºõAMQPÊòØÈÄöËøáËßÑÂÆöÂçèËÆÆÊù•Áªü‰∏ÄÊï∞ÊçÆ‰∫§‰∫íÁöÑÊ†ºÂºè</p>
</li>
<li>
<p>JMSÈôêÂÆö‰∫ÜÂøÖÈ°ª‰ΩøÁî®JavaËØ≠Ë®ÄÔºõAMQPÂè™ÊòØÂçèËÆÆÔºå‰∏çËßÑÂÆöÂÆûÁé∞ÊñπÂºèÔºåÂõ†Ê≠§ÊòØË∑®ËØ≠Ë®ÄÁöÑ„ÄÇ</p>
</li>
<li>
<p>JMSËßÑÂÆö‰∫Ü‰∏§ÁßçÊ∂àÊÅØÊ®°ÂºèÔºàP2P„ÄÅP/SÔºâÔºõËÄåAMQPÁöÑÊ∂àÊÅØÊ®°ÂºèÊõ¥Âä†‰∏∞ÂØå</p>
</li>
</ul>
</li>
</ul>
<p>JMSÔºöÂ∫îÁî®Â±ÇÊé•Âè£    AMQPÔºöÊ∂àÊÅØ‰º†ËæìÁöÑÂçèËÆÆ„ÄÇ</p>
<h1 id="2-rabbitmq‰ªãÁªç‰ª•ÂèäÂÆâË£Ö">2. RabbitMQ‰ªãÁªç‰ª•ÂèäÂÆâË£Ö
</h1><h2 id="21-rabbitmq‰ªãÁªç">2.1 RabbitMQ‰ªãÁªç
</h2><p>RabbitMQÊòØÁî±erlangËØ≠Ë®ÄÂºÄÂèëÔºåÂü∫‰∫éAMQPÔºàAdvanced Message Queue È´òÁ∫ßÊ∂àÊÅØÈòüÂàóÂçèËÆÆÔºâÂçèËÆÆÂÆûÁé∞ÁöÑÊ∂àÊÅØÈòüÂàóÔºåÂÆÉÊòØ‰∏ÄÁßçÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥ÁöÑÈÄö‰ø°ÊñπÊ≥ïÔºåÊ∂àÊÅØÈòüÂàóÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂºÄÂèë‰∏≠Â∫îÁî®ÈùûÂ∏∏ÂπøÊ≥õ„ÄÇ</p>
<p>RabbitMQÂÆòÊñπÂú∞ÂùÄÔºöhttp://www.rabbitmq.com/</p>
<p>RabbitMQÊèê‰æõ‰∫Ü5ÁßçÈÄö‰ø°Ê®°ÂºèÔºöÁÆÄÂçïÊ®°ÂºèÔºåworkÊ®°ÂºèÔºåPublish/SubscribeÂèëÂ∏É‰∏éËÆ¢ÈòÖÊ®°ÂºèÔºåRoutingË∑ØÁî±Ê®°ÂºèÔºåTopics‰∏ªÈ¢òÊ®°ÂºèÔºõ</p>
<p>ÂÆòÁΩëÂØπÂ∫îÊ®°Âºè‰ªãÁªçÔºöhttps://www.rabbitmq.com/getstarted.html</p>
<p><img src="/p/rabbitmq_1/assets/1555988678324.png"
	width="1014"
	height="551"
	
	loading="lazy"
	
		alt="1555988678324"
	
	
		class="gallery-image" 
		data-flex-grow="184"
		data-flex-basis="441px"
	
></p>
<h2 id="22-ÂÆâË£ÖËØ¥Êòé">2.2. ÂÆâË£ÖËØ¥Êòé
</h2><p>Áï•ÔºöËØ¶ÁªÜÊü•Áúã <code>ËµÑÊñô/ËΩØ‰ª∂/ÂÆâË£ÖWindows RabbitMQ.pdf</code> ÊñáÊ°£„ÄÇ</p>
<p>1„ÄÅÂÖàÂÆâË£Öerlang</p>
<p>2„ÄÅÂÜçÂÆâË£ÖmqÊúçÂä°</p>
<h2 id="23-Áî®Êà∑‰ª•Âèävirtual-hostsÈÖçÁΩÆ">2.3 Áî®Êà∑‰ª•ÂèäVirtual HostsÈÖçÁΩÆ
</h2><h3 id="231-ÈÖçÁΩÆË¥¶Âè∑">2.3.1 ÈÖçÁΩÆË¥¶Âè∑
</h3><p>RabbitMQÂú®ÂÆâË£ÖÂ•ΩÂêéÔºåÂèØ‰ª•ËÆøÈóÆhttp://localhost:15672 ÔºõÂÖ∂<strong>Ëá™Â∏¶‰∫Üguest/guestÁöÑÁî®Êà∑ÂêçÂíåÂØÜÁ†Å</strong>ÔºõÂ¶ÇÊûúÈúÄË¶ÅÂàõÂª∫Ëá™ÂÆö‰πâÁî®Êà∑ÔºõÈÇ£‰πà‰πüÂèØ‰ª•ÁôªÂΩïÁÆ°ÁêÜÁïåÈù¢ÂêéÔºåÂ¶Ç‰∏ãÊìç‰ΩúÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564386195991.png"
	width="832"
	height="576"
	
	loading="lazy"
	
		alt="1564386195991"
	
	
		class="gallery-image" 
		data-flex-grow="144"
		data-flex-basis="346px"
	
></p>
<p>ÂàõÂª∫Áî®Êà∑ÂêéÊïàÊûúÂ¶Ç‰∏ãÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564386635450.png"
	width="699"
	height="271"
	
	loading="lazy"
	
		alt="1564386635450"
	
	
		class="gallery-image" 
		data-flex-grow="257"
		data-flex-basis="619px"
	
></p>
<ul>
<li><strong>ËßíËâ≤ËØ¥Êòé</strong>Ôºö
<ul>
<li>Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëò(administrator)ÔºöÂèØÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞ÔºåÂèØÊü•ÁúãÊâÄÊúâÁöÑ‰ø°ÊÅØÔºåÂπ∂‰∏îÂèØ‰ª•ÂØπÁî®Êà∑ÔºåÁ≠ñÁï•(policy)ËøõË°åÊìç‰Ωú„ÄÇ</li>
<li>ÁõëÊéßËÄÖ(monitoring)ÔºöÂèØÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞ÔºåÂêåÊó∂ÂèØ‰ª•Êü•ÁúãrabbitmqËäÇÁÇπÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ(ËøõÁ®ãÊï∞ÔºåÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµÔºåÁ£ÅÁõò‰ΩøÁî®ÊÉÖÂÜµÁ≠â)</li>
<li>Á≠ñÁï•Âà∂ÂÆöËÄÖ(policymaker)ÔºöÂèØÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞, ÂêåÊó∂ÂèØ‰ª•ÂØπpolicyËøõË°åÁÆ°ÁêÜ„ÄÇ‰ΩÜÊó†Ê≥ïÊü•ÁúãËäÇÁÇπÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØ(‰∏äÂõæÁ∫¢Ê°ÜÊ†áËØÜÁöÑÈÉ®ÂàÜ)„ÄÇ</li>
<li>ÊôÆÈÄöÁÆ°ÁêÜËÄÖ(management)Ôºö‰ªÖÂèØÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞ÔºåÊó†Ê≥ïÁúãÂà∞ËäÇÁÇπ‰ø°ÊÅØÔºå‰πüÊó†Ê≥ïÂØπÁ≠ñÁï•ËøõË°åÁÆ°ÁêÜ„ÄÇ</li>
<li>ÂÖ∂‰ªñÔºöÊó†Ê≥ïÁôªÈôÜÁÆ°ÁêÜÊéßÂà∂Âè∞ÔºåÈÄöÂ∏∏Â∞±ÊòØÊôÆÈÄöÁöÑÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖ„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="232-ÈÖçÁΩÆvirtual-hosts">2.3.2 ÈÖçÁΩÆVirtual Hosts
</h3><p>ÂÉèmysqlÊã•ÊúâÊï∞ÊçÆÂ∫ìÁöÑÊ¶ÇÂøµÂπ∂‰∏îÂèØ‰ª•ÊåáÂÆöÁî®Êà∑ÂØπÂ∫ìÂíåË°®Á≠âÊìç‰ΩúÁöÑÊùÉÈôê„ÄÇRabbitMQ‰πüÊúâÁ±ª‰ººÁöÑÊùÉÈôêÁÆ°ÁêÜÔºõÂú®RabbitMQ‰∏≠ÂèØ‰ª•ËôöÊãüÊ∂àÊÅØÊúçÂä°Âô®Virtual HostÔºåÊØè‰∏™Virtual HostsÁõ∏ÂΩì‰∫é‰∏Ä‰∏™Áõ∏ÂØπÁã¨Á´ãÁöÑRabbitMQÊúçÂä°Âô®ÔºåÊØè‰∏™VirtualHost‰πãÈó¥ÊòØÁõ∏‰∫íÈöîÁ¶ªÁöÑ„ÄÇexchange„ÄÅqueue„ÄÅmessage‰∏çËÉΩ‰∫íÈÄö„ÄÇ Áõ∏ÂΩì‰∫émysqlÁöÑdb„ÄÇ<strong>Virtual Name‰∏ÄËà¨‰ª•/ÂºÄÂ§¥</strong>„ÄÇ</p>
<p><strong>Á¨¨‰∏ÄÊ≠•ÔºöÂàõÂª∫Virtual Hosts</strong></p>
<p><img src="/p/rabbitmq_1/assets/1564386791029.png"
	width="1292"
	height="344"
	
	loading="lazy"
	
		alt="1564386791029"
	
	
		class="gallery-image" 
		data-flex-grow="375"
		data-flex-basis="901px"
	
></p>
<p><strong>Á¨¨‰∫åÊ≠•ÔºöËÆæÁΩÆVirtual HostsÊùÉÈôê</strong></p>
<p>È¶ñÂÖàÔºöÁÇπÂáª„ÄêÂêçÁß∞„Äë</p>
<p><img src="/p/rabbitmq_1/assets/1564386931079.png"
	width="1298"
	height="277"
	
	loading="lazy"
	
		alt="1564386931079"
	
	
		class="gallery-image" 
		data-flex-grow="468"
		data-flex-basis="1124px"
	
></p>
<p>ÊùÉÈôêËÆæÁΩÆÔºöËøõÂÖ•ÊùÉÈôêËÆæÁΩÆÈ°µÈù¢ÂêéÔºåÂÖ≥ËÅî‰∏Ä‰∏™Áî®Êà∑ÔºåÁÑ∂ÂêéÁ°ÆÂÆö„ÄêSet permission„Äë„ÄÇ</p>
<p><img src="/p/rabbitmq_1/assets/1564387033583.png"
	width="759"
	height="414"
	
	loading="lazy"
	
		alt="1564387033583"
	
	
		class="gallery-image" 
		data-flex-grow="183"
		data-flex-basis="440px"
	
></p>
<p>ÊïàÊûúÂ¶Ç‰∏ãÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564387162595.png"
	width="633"
	height="225"
	
	loading="lazy"
	
		alt="1564387162595"
	
	
		class="gallery-image" 
		data-flex-grow="281"
		data-flex-basis="675px"
	
></p>
<p>ÂèÇÊï∞ËØ¥ÊòéÔºö</p>
<pre><code class="language-properties">userÔºöÁî®Êà∑Âêç
configure Ôºö‰∏Ä‰∏™Ê≠£ÂàôË°®ËææÂºèÔºåÁî®Êà∑ÂØπÁ¨¶ÂêàËØ•Ê≠£ÂàôË°®ËææÂºèÁöÑÊâÄÊúâËµÑÊ∫êÊã•Êúâ configure Êìç‰ΩúÁöÑÊùÉÈôê
writeÔºö‰∏Ä‰∏™Ê≠£ÂàôË°®ËææÂºèÔºåÁî®Êà∑ÂØπÁ¨¶ÂêàËØ•Ê≠£ÂàôË°®ËææÂºèÁöÑÊâÄÊúâËµÑÊ∫êÊã•Êúâ write Êìç‰ΩúÁöÑÊùÉÈôê
readÔºö‰∏Ä‰∏™Ê≠£ÂàôË°®ËææÂºèÔºåÁî®Êà∑ÂØπÁ¨¶ÂêàËØ•Ê≠£ÂàôË°®ËææÂºèÁöÑÊâÄÊúâËµÑÊ∫êÊã•Êúâ read Êìç‰ΩúÁöÑÊùÉÈôê
</code></pre>
<h1 id="3-rabbitmqÂÖ•Èó®Á®ãÂ∫è">3 RabbitMQÂÖ•Èó®Á®ãÂ∫è
</h1><p>ÂÖ•Èó®Ê°à‰æãÂ∞Ü‰ΩøÁî®RabbitMQÁöÑÁÆÄÂçïÊ®°ÂºèÂÆûÁé∞„ÄÇ</p>
<h2 id="31-ÂàõÂª∫Â∑•Á®ã">3.1 ÂàõÂª∫Â∑•Á®ã
</h2><p>ÂàõÂª∫Â∑•Á®ãÔºö<code>rabbitmq-day01-demo1-quickstart</code></p>
<p><img src="/p/rabbitmq_1/assets/1564389013218.png"
	width="792"
	height="303"
	
	loading="lazy"
	
		alt="1564389013218"
	
	
		class="gallery-image" 
		data-flex-grow="261"
		data-flex-basis="627px"
	
></p>
<p>Ê∑ªÂä†‰æùËµñÔºö</p>
<pre><code class="language-xml">&lt;!--Ê∑ªÂä†mq‰æùËµñ--&gt;
&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;
        &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;
        &lt;version&gt;5.6.0&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<h2 id="32-ÂàõÂª∫Áîü‰∫ßËÄÖ">3.2 ÂàõÂª∫Áîü‰∫ßËÄÖ
</h2><h3 id="321-ÂÆûÁé∞Ê≠•È™§">3.2.1 ÂÆûÁé∞Ê≠•È™§
</h3><p>ÂàõÂª∫Áîü‰∫ßËÄÖÂÖ∑‰ΩìÊ≠•È™§Ôºö</p>
<pre><code class="language-properties">// 1.ÂàõÂª∫ÈìæÊé•Â∑•ÂéÇÂØπË±°
// 2.ËÆæÁΩÆRabbitMQÊúçÂä°‰∏ªÊú∫Âú∞ÂùÄ,ÈªòËÆ§localhost
// 3.ËÆæÁΩÆRabbitMQÊúçÂä°Á´ØÂè£,ÈªòËÆ§5672
// 4.ËÆæÁΩÆËôöÊãü‰∏ªÊú∫ÂêçÂ≠óÔºåÈªòËÆ§/
// 5.ËÆæÁΩÆÁî®Êà∑ËøûÊé•ÂêçÔºåÈªòËÆ§guest
// 6.ËÆæÁΩÆÈìæÊé•ÂØÜÁ†ÅÔºåÈªòËÆ§guest
// 7.ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÈìæÊé•
// 8.ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
// 9.ÂàõÂª∫ÈòüÂàó
// 10.ÂàõÂª∫Ê∂àÊÅØ
// 11.Ê∂àÊÅØÂèëÈÄÅ
// 12.ÂÖ≥Èó≠ËµÑÊ∫ê
</code></pre>
<p>ÂàõÂª∫com.itheima.quickstart.ProducerÁ±ªÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class Producer {

    public static void main(String[] args) throws IOException, TimeoutException {
        // 1.ÂàõÂª∫ÈìæÊé•Â∑•ÂéÇÂØπË±°
        ConnectionFactory connectionFactory = new ConnectionFactory();
        // 2.ËÆæÁΩÆRabbitMQÊúçÂä°‰∏ªÊú∫Âú∞ÂùÄ,ÈªòËÆ§localhost
        connectionFactory.setHost(&quot;localhost&quot;);
        // 3.ËÆæÁΩÆRabbitMQÊúçÂä°Á´ØÂè£,ÈªòËÆ§5672
        connectionFactory.setPort(5672);
        // 4.ËÆæÁΩÆËôöÊãü‰∏ªÊú∫ÂêçÂ≠óÔºåÈªòËÆ§/
        connectionFactory.setVirtualHost(&quot;/sz_itcast&quot;);
        // 5.ËÆæÁΩÆÁî®Êà∑ËøûÊé•ÂêçÔºåÈªòËÆ§guest
        connectionFactory.setUsername(&quot;admin&quot;);
        // 6.ËÆæÁΩÆÈìæÊé•ÂØÜÁ†ÅÔºåÈªòËÆ§guest
        connectionFactory.setPassword(&quot;123456&quot;);
        // 7.ÂàõÂª∫ÈìæÊé•
        Connection connection = connectionFactory.newConnection();
        // 8.ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // 9.ÂàõÂª∫ÈòüÂàó
        // arg0ÔºöÈòüÂàóÂêçÁß∞ arg1ÔºöÊòØÂê¶ÊåÅ‰πÖÂåñ arg2ÔºöÊòØÂê¶ÊéíÂ§ñ arg3ÔºöÂÖ≥Èó≠ËøûÊé•Êó∂ÈòüÂàóÊòØÂê¶Ëá™Âä®Âà†Èô§ arg4ÔºöÈòüÂàóÂÖ∂‰ªñÂèÇÊï∞
        channel.queueDeclare(&quot;simple_queue&quot;, true, false, false, null);
        // 10.ÂàõÂª∫Ê∂àÊÅØ
        String message = &quot;‰Ω†Â•ΩÔºåÊ¨¢ËøéÊù•Âà∞Á®ãÂ∫èÂëò„ÄÇ&quot;;
        // 11.Ê∂àÊÅØÂèëÈÄÅ
        // arg0Ôºö‰∫§Êç¢Êú∫ÂêçÁß∞ÔºåÊ≤°ÊúâÊåáÂÆö‰ΩøÁî®ÈªòËÆ§ÁöÑDefault Exchange
        // arg1ÔºöË∑ØÁî±keyÔºåÁÇπÂØπÁÇπÊ®°ÂºèÂèØ‰ª•‰ΩøÁî®ÈòüÂàóÂêçÁß∞ arg2ÔºöÊåáÂÆöÊ∂àÊÅØÂÖ∂‰ªñÂ±ûÊÄß arg3ÔºöÊ∂àÊÅØÁöÑÂ≠óËäÇÁ†Å
        channel.basicPublish(&quot;&quot;, &quot;simple_queue&quot;, null, message.getBytes());
        // 12.ÂÖ≥Èó≠ËµÑÊ∫ê
        channel.close();
        connection.close();
    }
}

PSÔºöÂèÇÊï∞ËØ¶ÁªÜËØ¥Êòé
arg2 boolean exclusive ÊòØÂê¶ÊéíÂ§ñ
Â¶ÇÊûú‰∏çÊòØÊéíÂ§ñÁöÑÔºåÂèØ‰ª•‰ΩøÁî®‰∏§‰∏™Ê∂àË¥πËÄÖÈÉΩËÆøÈóÆÂêå‰∏Ä‰∏™ÈòüÂàóÔºåÊ≤°Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºåÂ¶ÇÊûúÊòØÊéíÂ§ñÁöÑÔºå‰ºöÂØπÂΩìÂâçÈòüÂàóÂä†ÈîÅÔºåÂÖ∂‰ªñÈÄöÈÅìchannelÊòØ‰∏çËÉΩËÆøÈóÆÁöÑÔºåÂ¶ÇÊûúÂº∫Âà∂ËÆøÈóÆ‰ºöÊä•ÂºÇÂ∏∏„ÄÇ

arg4:ÈòüÂàóÂÖ∂‰ªñÂèÇÊï∞ËÆæÁΩÆ
- Message TTL ËÆæÁΩÆÊ∂àÊÅØÁîüÂëΩÂë®Êúü
- Auto Expire ÂΩìÈòüÂàóÂú®ÊåáÂÆöÁöÑÊó∂Èó¥Ê≤°ÊúâË¢´ËÆøÈóÆÂ∞±‰ºöË¢´Âà†Èô§
- Max Length ÈôêÂÆöÈòüÂàóÁöÑÊ∂àÊÅØÁöÑÊúÄÂ§ßÂÄºÈïøÂ∫¶ÔºåË∂ÖËøáÊåáÂÆöÈïøÂ∫¶Â∞Ü‰ºöÊääÊúÄÊó©ÁöÑÂá†Êù°Âà†Èô§Êéâ
- Max Length Bytes ÈôêÂÆöÈòüÂàóÊúÄÂ§ßÂç†Áî®ÁöÑÁ©∫Èó¥Â§ßÂ∞è
- DLX ÂΩìÈòüÂàóÊ∂àÊÅØÈïøÂ∫¶Â§ß‰∫éÊúÄÂ§ßÈïøÂ∫¶„ÄÅÊàñËÄÖËøáÊúüÁöÑÁ≠âÔºåÂ∞Ü‰ªéÈòüÂàó‰∏≠Âà†Èô§ÁöÑÊ∂àÊÅØÊé®ÈÄÅÂà∞ÊåáÂÆöÁöÑ‰∫§Êç¢Êú∫‰∏≠ÂéªËÄå‰∏çÊòØ‰∏¢ÂºÉÊéâ
- DLK Â∞ÜÂà†Èô§ÁöÑÊ∂àÊÅØÊé®ÈÄÅÂà∞ÊåáÂÆö‰∫§Êç¢Êú∫ÁöÑÊåáÂÆöË∑ØÁî±ÈîÆÁöÑÈòüÂàó‰∏≠Âéª
- Maximum priority Â£∞Êòé‰ºòÂÖàÁ∫ßÈòüÂàó
- Lazy mode ÂÖàÂ∞ÜÊ∂àÊÅØ‰øùÂ≠òÂà∞Á£ÅÁõò‰∏äÔºå‰∏çÊîæÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÂΩìÊ∂àË¥πËÄÖÂºÄÂßãÊ∂àË¥πÁöÑÊó∂ÂÄôÊâçÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠
</code></pre>
<h3 id="322-ÊïàÊûú">3.2.2 ÊïàÊûú
</h3><p>Âú®ÊâßË°å‰∏äËø∞ÁöÑÊ∂àÊÅØÂèëÈÄÅ‰πãÂêéÔºõÂèØ‰ª•ÁôªÂΩïrabbitMQÁöÑÁÆ°ÁêÜÊéßÂà∂Âè∞Ôºö</p>
<p><img src="/p/rabbitmq_1/assets/1564390252163.png"
	width="822"
	height="359"
	
	loading="lazy"
	
		alt="1564390252163"
	
	
		class="gallery-image" 
		data-flex-grow="228"
		data-flex-basis="549px"
	
></p>
<p>Â¶ÇÊûúÊÉ≥Êü•ÁúãÊ∂àÊÅØÔºåÂèØ‰ª•ÁÇπÂáª<code>ÈòüÂàóÂêçÁß∞-&gt;Get Messages</code>,Â¶Ç‰∏ãÂõæÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564390303556.png"
	width="501"
	height="418"
	
	loading="lazy"
	
		alt="1564390303556"
	
	
		class="gallery-image" 
		data-flex-grow="119"
		data-flex-basis="287px"
	
></p>
<h2 id="3--Ëá™Â∑±ÂÆûÁé∞‰ª£Á†Å">3  Ëá™Â∑±ÂÆûÁé∞‰ª£Á†Å
</h2><pre><code>package com.itheima.simple;

import com.rabbitmq.client.Channel;
import com.rabbitmq.client.Connection;
import com.rabbitmq.client.ConnectionFactory;

import java.io.IOException;
import java.util.concurrent.TimeoutException;

/**
 * @description: ÁÆÄÂçïÊ®°Âºè Áîü‰∫ßËÄÖ  Ê≤°Êúâ‰∫§Êç¢Êú∫ , ÈòüÂàóÂêçÁß∞ = Ë∑ØÁî±Âô®ÂêçÁß∞
 * @author: QIXIANG LING
 * @date: 2020/5/23 19:25
 */
public class SimpleProducer {
    public static void main(String[] args) throws Exception {
        // 1. ÂàõÂª∫ËøûÊé•Â∑•ÂéÇ
        ConnectionFactory connectionFactory = new ConnectionFactory();

        // 2. ËÆæÁΩÆRabbitMqÊúçÂä°‰∏ªÊú∫Âú∞ÂùÄ
        connectionFactory.setHost(&quot;localhost&quot;);

        // 3, ËÆæÁΩÆRabbitMq ÊúçÂä°Á´ØÂè£, ÈªòËÆ§5672 (ÈÄö‰ø°Á´ØÂè£ TCP)    (15672 ÊòØÂ∫îÁî®Â±ÇÁöÑÁ´ØÂè£ http ËÆøÈóÆrabbitMQÂÆ¢Êà∑Á´ØÁöÑÁ´ØÂè£)

        connectionFactory.setPort(5672);

        // 4.ËÆæÁΩÆËôöÊãü‰∏ªÊú∫ÂêçÂ≠ó, ÈªòËÆ§/
        connectionFactory.setVirtualHost(&quot;/sz_itheima88&quot;);

        // 5. ËÆæÁΩÆÁî®Êà∑ËøûÊé•ÂêçÂíå ÂØÜÁ†Å
        connectionFactory.setUsername(&quot;Rina&quot;);
        connectionFactory.setPassword(&quot;123456&quot;);

        // 7. ÂàõÂª∫Êñ∞ËøûÊé•
        Connection connection = connectionFactory.newConnection();

        // 8. ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();

        // 9. ÂàõÂª∫ÈòüÂàó
        //  ÈúÄË¶ÅÂèÇÊï∞ String queue, boolean durable, boolean exclusive, boolean autoDelete,Map&lt;String, Object&gt; arguments

        // queue ÈòüÂàóÁöÑÂêçÁß∞ ; durable ÊòØÂê¶ÊåÅ‰πÖÂåñ ; exclusive ÊòØÂê¶ÊéíÂ§ñ (Êìç‰ΩúËøô‰∏™ÈòüÂàóÁöÑÊó∂ÂÄôÊòØÂê¶ÂÖÅËÆ∏Âà´‰∫∫‰πüÊìç‰Ωú)
        // autoDelete : ÊòØÂê¶Ëá™Âä®Âà†Èô§ ;  arguments (ÊåáÂÆöÈòüÂàóÁöÑ‰∏Ä‰∫õÈ¢ùÂ§ñÂ±ûÊÄß ) ÈòüÂàóÁöÑËøáÊúüÊó∂Èó¥ , ÈïøÂ∫¶

        channel.queueDeclare(&quot;simple-queue&quot;,true,false,false,null);

        // 10 . ÂàõÂª∫Ê∂àÊÅØ
        String message  = &quot;ÊúõÊúàÁêÜÂ•à,Â§èÊµ∑Èáå‰ºΩÂ≠ê,Ëä±È∏üÁé≤Áà±&quot;;


        // 11 .Ê∂àÊÅØÂèëÈÄÅ
        // String exchange (ÊåáÂÆö‰∫§Êç¢Êú∫ÁöÑÂêçÁß∞) , String routingKey (Ë∑ØÁî±Âô®ÁöÑÂêçÁß∞) , BasicProperties props (ÊåáÂÆöÊ∂àÊÅØÁöÑÂ±ûÊÄß :ÂèØÊåáÂÆöËøáÊúüÊó∂Èó¥), byte[] body
        channel.basicPublish(&quot;&quot;,&quot;simple-exchange&quot;,null,message.getBytes(&quot;UTF-8&quot;));
    }
}

</code></pre>
<h3 id="323-queuesÂàóË°®ËØ¥Êòé">3.2.3 QueuesÂàóË°®ËØ¥Êòé
</h3><pre><code class="language-properties">PSÔºöÂàóË°®ËØ¥Êòé
- FeaturesÊ∂àÊÅØÁâπÂæÅÔºö
  - DÔºöÊåÅ‰πÖÂåñ
- StateÔºöÂΩìÂâçÁöÑÁä∂ÊÄÅ
  - runningÔºöËøêË°å‰∏≠
  - idleÔºöÁ©∫Èó≤„ÄÇ 
- ReadyÔºöÂæÖÊ∂àË¥πÁöÑÊ∂àÊÅØÊÄªÊï∞ 
- UnackedÔºöÂæÖÂ∫îÁ≠îÁöÑÊ∂àÊÅØÊÄªÊï∞ 
- totalÔºöÊ∂àÊÅØÊÄªÊï∞ = Ready+Unacked 
- incomingÔºöÊ∂àÊÅØËøõÂÖ•ÁöÑÈÄüÁéá
- deliver/getÔºöÊ∂àÊÅØËé∑ÂèñÁöÑÈÄüÁéá
- ackÔºöÊ∂àÊÅØÂ∫îÁ≠îÁöÑÈÄüÁéá

</code></pre>
<h2 id="33-ÂàõÂª∫Ê∂àË¥πËÄÖ">3.3 ÂàõÂª∫Ê∂àË¥πËÄÖ
</h2><p>Ê∂àË¥πËÄÖÂàõÂª∫ÂèØ‰ª•ÊåâÁÖßÂ¶Ç‰∏ãÊ≠•È™§ÂÆûÁé∞Ôºö</p>
<pre><code class="language-properties">// 1.ÂàõÂª∫ÈìæÊé•Â∑•ÂéÇÂØπË±°
// 2.ËÆæÁΩÆRabbitMQÊúçÂä°‰∏ªÊú∫Âú∞ÂùÄ,ÈªòËÆ§localhost
// 3.ËÆæÁΩÆRabbitMQÊúçÂä°Á´ØÂè£,ÈªòËÆ§5672
// 4.ËÆæÁΩÆËôöÊãü‰∏ªÊú∫ÂêçÂ≠óÔºåÈªòËÆ§/
// 5.ËÆæÁΩÆÁî®Êà∑ËøûÊé•ÂêçÔºåÈªòËÆ§guest
// 6.ËÆæÁΩÆÈìæÊé•ÂØÜÁ†ÅÔºåÈªòËÆ§guest
// 7.ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÈìæÊé•
// 8.ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
// 9.ÂàõÂª∫ÈòüÂàó
// 10.ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂ËÆæÁΩÆÊ∂àÊÅØÂ§ÑÁêÜ
// 11.Ê∂àÊÅØÁõëÂê¨
// 12.ÂÖ≥Èó≠ËµÑÊ∫ê(‰∏çÂª∫ËÆÆÂÖ≥Èó≠ÔºåÂª∫ËÆÆ‰∏ÄÁõ¥ÁõëÂê¨Ê∂àÊÅØ)
</code></pre>
<p>ÊåâÁÖß‰∏äÈù¢ÁöÑÊ≠•È™§ÂàõÂª∫Ê∂àÊÅØÊ∂àË¥πËÄÖcom.itheima.rabbitmq.simple.Consumer‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class Consumer {

    public static void main(String[] args) throws IOException, TimeoutException {
        // 1.ÂàõÂª∫ÈìæÊé•Â∑•ÂéÇÂØπË±°
        ConnectionFactory connectionFactory = new ConnectionFactory();
        // 2.ËÆæÁΩÆRabbitMQÊúçÂä°‰∏ªÊú∫Âú∞ÂùÄ,ÈªòËÆ§localhost
        connectionFactory.setHost(&quot;localhost&quot;);
        // 3.ËÆæÁΩÆRabbitMQÊúçÂä°Á´ØÂè£,ÈªòËÆ§5672
        connectionFactory.setPort(5672);
        // 4.ËÆæÁΩÆËôöÊãü‰∏ªÊú∫ÂêçÂ≠óÔºåÈªòËÆ§/
        connectionFactory.setVirtualHost(&quot;/sz_itcast&quot;);
        // 5.ËÆæÁΩÆÁî®Êà∑ËøûÊé•ÂêçÔºåÈªòËÆ§guest
        connectionFactory.setUsername(&quot;admin&quot;);
        // 6.ËÆæÁΩÆÈìæÊé•ÂØÜÁ†ÅÔºåÈªòËÆ§guest
        connectionFactory.setPassword(&quot;123456&quot;);
        // 7.ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÈìæÊé•
        Connection connection = connectionFactory.newConnection();
        // 8.ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // 9.ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;simple_queue&quot;, true, false, false, null);
        // 10.ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂Ê∂àË¥πÊ∂àÊÅØ
        DefaultConsumer consumer = new DefaultConsumer(channel){
            /**
             * @param consumerTag Ê∂àË¥πËÄÖÊ†áÁ≠æÔºåÂú®channel.basicConsumeÊó∂ÂÄôÂèØ‰ª•ÊåáÂÆö
             * @param envelope Ê∂àÊÅØÂåÖÁöÑÂÜÖÂÆπÔºåÂèØ‰ªé‰∏≠Ëé∑ÂèñÊ∂àÊÅØidÔºåÊ∂àÊÅØrouting keyÔºå‰∫§Êç¢Êú∫ÔºåÊ∂àÊÅØÂíåÈáçÂèëÊ†áÂøó(Êî∂Âà∞Ê∂àÊÅØÂ§±Ë¥•ÂêéÊòØÂê¶ÈúÄË¶ÅÈáçÊñ∞ÂèëÈÄÅ)
             * @param properties Ê∂àÊÅØÂ±ûÊÄß‰ø°ÊÅØ
             * @param body Ê∂àÊÅØ‰Ωì
             **/
            @Override
            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {
                // Ë∑ØÁî±
                String routingKey = envelope.getRoutingKey();
                // ‰∫§Êç¢Êú∫
                String exchange = envelope.getExchange();
                // Ê∂àÊÅØid
                long deliveryTag = envelope.getDeliveryTag();
                // Ê∂àÊÅØ‰Ωì
                String message = new String(body, &quot;UTF-8&quot;);
                System.out.println(&quot;Ë∑ØÁî±Ôºö&quot; + routingKey + &quot;,‰∫§Êç¢Êú∫Ôºö&quot; + exchange + &quot;,Ê∂àÊÅØidÔºö&quot; + deliveryTag + &quot;,Ê∂àÊÅØ‰ΩìÔºö&quot; + message);
            }
        };
        // 11.Ê∂àÊÅØÁõëÂê¨ arg0ÔºöÁõëÂê¨ÁöÑÈòüÂàóÂêçÁß∞
        // arg1ÔºöÊòØÂê¶Ëá™Âä®Â∫îÁ≠îÔºåËÆæÁΩÆ‰∏∫true‰∏∫Ë°®Á§∫Ê∂àÊÅØÊé•Êî∂Âà∞Ëá™Âä®ÂêëmqÂõûÂ§çÊé•Êî∂Âà∞‰∫ÜÔºåmqÊé•Êî∂Âà∞ÂõûÂ§ç‰ºöÂà†Èô§Ê∂àÊÅØÔºåËÆæÁΩÆ‰∏∫falseÂàôÈúÄË¶ÅÊâãÂä®Á°ÆËÆ§
        // arg2ÔºöÊ∂àË¥πËÄÖÊé•Êî∂Ê∂àÊÅØÂà∞ÂêéÂõûË∞ÉÔºàÊ∂àË¥πÊ∂àÊÅØÔºâ
        channel.basicConsume(&quot;simple_queue&quot;, true, consumer);
        // 12.ÂÖ≥Èó≠ËµÑÊ∫ê(‰∏çÂª∫ËÆÆÂÖ≥Èó≠ÔºåÂª∫ËÆÆ‰∏ÄÁõ¥ÁõëÂê¨Ê∂àÊÅØ)
    }
}

PSÔºöÂêå‰∏Ä‰∏™‰ºöËØùÔºå consumerTag ÊòØÂõ∫ÂÆöÁöÑ ÂèØ‰ª•ÂÅöÊ≠§‰ºöËØùÁöÑÂêçÂ≠óÔºå deliveryTag ÊØèÊ¨°Êé•Êî∂Ê∂àÊÅØ+1ÔºåÂèØ‰ª•ÂÅöÊ≠§Ê∂àÊÅØÂ§ÑÁêÜÈÄöÈÅìÁöÑÂêçÂ≠ó
</code></pre>
<h3 id="332-consoleÊéßÂà∂Âè∞">3.3.2 consoleÊéßÂà∂Âè∞
</h3><p>ÊâßË°åÂêéÔºåÊéßÂà∂Âè∞ËæìÂÖ•Â¶Ç‰∏ãÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564391734810.png"
	width="918"
	height="391"
	
	loading="lazy"
	
		alt="1564391734810"
	
	
		class="gallery-image" 
		data-flex-grow="234"
		data-flex-basis="563px"
	
></p>
<h3 id="333-rabbitmqÊéßÂà∂Âè∞">3.3.3 RabbitMQÊéßÂà∂Âè∞
</h3><p><img src="/p/rabbitmq_1/assets/1564391840497.png"
	width="805"
	height="307"
	
	loading="lazy"
	
		alt="1564391840497"
	
	
		class="gallery-image" 
		data-flex-grow="262"
		data-flex-basis="629px"
	
></p>
<h2 id="34-‰ª£Á†ÅÊäΩÂèñ">3.4 ‰ª£Á†ÅÊäΩÂèñ
</h2><ul>
<li>ÈáçÂ§ç‰ª£Á†ÅÔºö</li>
</ul>
<p><img src="/p/rabbitmq_1/assets/1564394914493.png"
	width="829"
	height="295"
	
	loading="lazy"
	
		alt="1564394914493"
	
	
		class="gallery-image" 
		data-flex-grow="281"
		data-flex-basis="674px"
	
></p>
<p>Êó†ËÆ∫ÊòØÊ∂àË¥πËÄÖÔºåËøòÊòØÁîü‰∫ßËÄÖÔºåÈÉΩÈúÄË¶ÅÂàõÂª∫ËøûÊé•ÔºåÂõ†Ê≠§Êàë‰ª¨ÂèØ‰ª•Â∞ÜËøôÊÆµÂÖ¨ÂÖ±ÁöÑ‰ª£Á†ÅÊäΩÂèñÂà∞Â∑•ÂÖ∑Á±ª‰∏≠„ÄÇÂàõÂª∫com.itheima.rabbitmq.util.ConnectionUtilÂ∑•ÂÖ∑Á±ªÂØπË±°ÔºåÁî®‰∫éÂàõÂª∫ConnectionÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564395167481.png"
	width="1072"
	height="491"
	
	loading="lazy"
	
		alt="1564395167481"
	
	
		class="gallery-image" 
		data-flex-grow="218"
		data-flex-basis="523px"
	
></p>
<pre><code class="language-java">public class ConnectionUtils {

    // Êèê‰æõ‰∏Ä‰∏™ÂÖ¨ÂÖ±ÁöÑÈùôÊÄÅÁöÑËÆøÈóÆÊñπÊ≥ï
    public static Connection getConnection() throws Exception {
        // 1.ÂàõÂª∫ÈìæÊé•Â∑•ÂéÇÂØπË±°
        ConnectionFactory connectionFactory = new ConnectionFactory();
        // 2.ËÆæÁΩÆRabbitMQÊúçÂä°‰∏ªÊú∫Âú∞ÂùÄ,ÈªòËÆ§localhost
        connectionFactory.setHost(&quot;localhost&quot;);
        // 3.ËÆæÁΩÆRabbitMQÊúçÂä°Á´ØÂè£,ÈªòËÆ§5672
        connectionFactory.setPort(5672);
        // 4.ËÆæÁΩÆËôöÊãü‰∏ªÊú∫ÂêçÂ≠óÔºåÈªòËÆ§/
        connectionFactory.setVirtualHost(&quot;/sz_itcast&quot;);
        // 5.ËÆæÁΩÆÁî®Êà∑ËøûÊé•ÂêçÔºåÈªòËÆ§guest
        connectionFactory.setUsername(&quot;admin&quot;);
        // 6.ËÆæÁΩÆÈìæÊé•ÂØÜÁ†ÅÔºåÈªòËÆ§guest
        connectionFactory.setPassword(&quot;123456&quot;);
        // 7.ÂàõÂª∫ÈìæÊé•
        Connection connection = connectionFactory.newConnection();
        return connection;
    }
}
</code></pre>
<ul>
<li>Áîü‰∫ßËÄÖ‰ºòÂåñ</li>
</ul>
<p>‰øÆÊîπProducerÔºåÈìæÊé•ÂØπË±°‰ΩøÁî®‰∏äÈù¢ÁöÑConnectionUtilÂ∑•ÂÖ∑Á±ªÂàõÂª∫Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">//ÂàõÂª∫ÈìæÊé•
Connection connection = ConnectionUtil.getConnection();
</code></pre>
<ul>
<li>Ê∂àË¥πËÄÖ‰ºòÂåñ</li>
</ul>
<p>‰øÆÊîπConsumerÔºåÈìæÊé•ÂØπË±°‰ΩøÁî®‰∏äÈù¢ÁöÑConnectionUtilÂ∑•ÂÖ∑Á±ªÂàõÂª∫Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">//ÂàõÂª∫ÈìæÊé•
Connection connection = ConnectionUtil.getConnection();
</code></pre>
<h2 id="34-Â∞èÁªì">3.4 Â∞èÁªì
</h2><p>‰∏äËø∞ÁöÑÂÖ•Èó®Ê°à‰æã‰∏≠‰ΩøÁî®ÁöÑÊòØÂ¶Ç‰∏ãÁöÑAMQPÊúÄÁÆÄÂçïÁöÑP2PÈÄö‰ø°ÊñπÂºèÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1555991074575.png"
	width="902"
	height="151"
	
	loading="lazy"
	
		alt="1555991074575"
	
	
		class="gallery-image" 
		data-flex-grow="597"
		data-flex-basis="1433px"
	
></p>
<p>Âú®‰∏äÂõæÁöÑÊ®°Âûã‰∏≠ÔºåÊúâ‰ª•‰∏ãÊ¶ÇÂøµÔºö</p>
<pre><code class="language-properties">PÔºöÁîü‰∫ßËÄÖÔºå‰πüÂ∞±ÊòØË¶ÅÂèëÈÄÅÊ∂àÊÅØÁöÑÁ®ãÂ∫è
CÔºöÊ∂àË¥πËÄÖÔºöÊ∂àÊÅØÁöÑÊé•ÂèóËÄÖÔºå‰ºö‰∏ÄÁõ¥Á≠âÂæÖÊ∂àÊÅØÂà∞Êù•„ÄÇ
queueÔºöÊ∂àÊÅØÈòüÂàóÔºåÂõæ‰∏≠Á∫¢Ëâ≤ÈÉ®ÂàÜ„ÄÇÁ±ª‰ºº‰∏Ä‰∏™ÈÇÆÁÆ±ÔºåÂèØ‰ª•ÁºìÂ≠òÊ∂àÊÅØÔºõÁîü‰∫ßËÄÖÂêëÂÖ∂‰∏≠ÊäïÈÄíÊ∂àÊÅØÔºåÊ∂àË¥πËÄÖ‰ªéÂÖ∂‰∏≠ÂèñÂá∫Ê∂àÊÅØ„ÄÇ

Âú®rabbitMQ‰∏≠ÁöÑÊ∂àË¥πËÄÖÊòØ‰∏ÄÂÆöË¶ÅÁõëÂê¨Êüê‰∏™Ê∂àÊÅØÈòüÂàóÊâçËÉΩËé∑ÂèñÊ∂àÊÅØ„ÄÇ
</code></pre>
<h1 id="4-rabbitmqÂ∑•‰ΩúÊ®°Âºè">4. RabbitMQÂ∑•‰ΩúÊ®°Âºè
</h1><p>RabbitMQÊèê‰æõ‰∫Ü6ÁßçÊ®°ÂºèÔºöÁÆÄÂçïÊ®°ÂºèÔºåworkÊ®°ÂºèÔºåPublish/SubscribeÂèëÂ∏É‰∏éËÆ¢ÈòÖÊ®°ÂºèÔºåRoutingË∑ØÁî±Ê®°ÂºèÔºåTopics‰∏ªÈ¢òÊ®°Âºè„ÄÇ</p>
<h2 id="41-work-queuesÂ∑•‰ΩúÈòüÂàóÊ®°Âºè">4.1 Work queuesÂ∑•‰ΩúÈòüÂàóÊ®°Âºè
</h2><h3 id="411-Ê®°ÂºèËØ¥Êòé">4.1.1 Ê®°ÂºèËØ¥Êòé
</h3><p><img src="/p/rabbitmq_1/assets/1562516450360.png"
	width="935"
	height="189"
	
	loading="lazy"
	
		alt="1562516450360"
	
	
		class="gallery-image" 
		data-flex-grow="494"
		data-flex-basis="1187px"
	
></p>
<p><code>Work Queues</code>‰∏éÂÖ•Èó®Á®ãÂ∫èÁöÑ<code>ÁÆÄÂçïÊ®°Âºè</code>Áõ∏ÊØîÔºåÂ§ö‰∫Ü‰∏Ä‰∏™ÊàñÂ§ö‰∏™Ê∂àË¥πÁ´ØÔºåÂ§ö‰∏™Ê∂àË¥πÁ´ØÂÖ±ÂêåÊ∂àË¥πÂêå‰∏Ä‰∏™ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØ„ÄÇ</p>
<p><strong>Â∫îÁî®Âú∫ÊôØ</strong>ÔºöÂØπ‰∫é‰ªªÂä°ËøáÈáçÊàñ‰ªªÂä°ËæÉÂ§öÊÉÖÂÜµ‰ΩøÁî®Â∑•‰ΩúÈòüÂàóÂèØ‰ª•ÊèêÈ´ò‰ªªÂä°Â§ÑÁêÜÁöÑÈÄüÂ∫¶Ôºà‰πüÂ∞±ÊòØÂ§ö‰∫∫Â§ÑÁêÜÔºâ„ÄÇ</p>
<h3 id="412-‰ª£Á†ÅÂÆûÁé∞">4.1.2 ‰ª£Á†ÅÂÆûÁé∞
</h3><p><code>Work Queues</code>‰∏éÂÖ•Èó®Á®ãÂ∫èÁöÑ<code>ÁÆÄÂçïÊ®°Âºè</code>ÁöÑ‰ª£Á†ÅÊòØÂá†‰πé‰∏ÄÊ†∑ÁöÑÔºõÂèØ‰ª•ÂÆåÂÖ®Â§çÂà∂ÔºåÂπ∂Â§çÂà∂Â§ö‰∏Ä‰∏™Ê∂àË¥πËÄÖËøõË°åÂ§ö‰∏™Ê∂àË¥πËÄÖÂêåÊó∂Ê∂àË¥πÊ∂àÊÅØÁöÑÊµãËØï„ÄÇ</p>
<p><img src="/p/rabbitmq_1/assets/1564396531411.png"
	width="524"
	height="273"
	
	loading="lazy"
	
		alt="1564396531411"
	
	
		class="gallery-image" 
		data-flex-grow="191"
		data-flex-basis="460px"
	
></p>
<h4 id="4121-ÂàõÂª∫Áîü‰∫ßËÄÖ">4.1.2.1 ÂàõÂª∫Áîü‰∫ßËÄÖ
</h4><p>ÂàõÂª∫WorkProducerÊ∂àÊÅØÁîü‰∫ßËÄÖÂØπË±°Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class WorkProducer {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        channel.queueDeclare(&quot;work_queue&quot;, true, false, false, null);
        for (int i = 0; i &lt; 10; i++){
            // ÂàõÂª∫Ê∂àÊÅØ
            String message = &quot;‰Ω†Â•ΩÔºåÊ¨¢ËøéÊù•Âà∞ÈªëÈ©¨Á®ãÂ∫èÂëòÔºåÂ≠¶Âè∑Ôºö&quot; + i;
            // Ê∂àÊÅØÂèëÈÄÅ
            channel.basicPublish(&quot;&quot;, &quot;work_queue&quot;, null, message.getBytes());
        }
        // ÂÖ≥Èó≠ËµÑÊ∫ê
        channel.close();
        connection.close();
    }
}
</code></pre>
<h4 id="4122-ÂàõÂª∫Ê∂àË¥πËÄÖ1">4.1.2.2 ÂàõÂª∫Ê∂àË¥πËÄÖ1
</h4><p>WorkConsumer1,‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class WorkConsumer1 {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;work_queue&quot;, true, false, false, null);
        // ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂Ê∂àË¥πÊ∂àÊÅØ
        DefaultConsumer consumer = new DefaultConsumer(channel){
            @Override
            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {
                // Ë∑ØÁî±
                String routingKey = envelope.getRoutingKey();
                // ‰∫§Êç¢Êú∫
                String exchange = envelope.getExchange();
                // Ê∂àÊÅØid
                long deliveryTag = envelope.getDeliveryTag();
                // Ê∂àÊÅØ‰Ωì
                String message = new String(body, &quot;UTF-8&quot;);
                System.out.println(&quot;Ê∂àË¥πËÄÖ1Ëé∑ÂèñÁöÑÊï∞ÊçÆÔºö&quot; + &quot;Ë∑ØÁî±Ôºö&quot; + routingKey + &quot;,‰∫§Êç¢Êú∫Ôºö&quot; + exchange + &quot;,Ê∂àÊÅØidÔºö&quot; + deliveryTag + &quot;,Ê∂àÊÅØ‰ΩìÔºö&quot; + message);
            }
        };
        // 11.Ê∂àÊÅØÁõëÂê¨ arg0ÔºöÁõëÂê¨ÁöÑÈòüÂàóÂêçÁß∞
        channel.basicConsume(&quot;work_queue&quot;, true, consumer);
    }
}
</code></pre>
<h4 id="4123-ÂàõÂª∫Ê∂àË¥πËÄÖ2">4.1.2.3 ÂàõÂª∫Ê∂àË¥πËÄÖ2
</h4><p>ÂàõÂª∫WorkConsumer2Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class WorkConsumer2 {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;work_queue&quot;, true, false, false, null);
        // ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂Ê∂àË¥πÊ∂àÊÅØ
        DefaultConsumer consumer = new DefaultConsumer(channel){
            @Override
            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {
                // Ë∑ØÁî±
                String routingKey = envelope.getRoutingKey();
                // ‰∫§Êç¢Êú∫
                String exchange = envelope.getExchange();
                // Ê∂àÊÅØid
                long deliveryTag = envelope.getDeliveryTag();
                // Ê∂àÊÅØ‰Ωì
                String message = new String(body, &quot;UTF-8&quot;);
                System.out.println(&quot;Ê∂àË¥πËÄÖ2Ëé∑ÂèñÁöÑÊï∞ÊçÆÔºö&quot; + &quot;Ë∑ØÁî±Ôºö&quot; + routingKey + &quot;,‰∫§Êç¢Êú∫Ôºö&quot; + exchange + &quot;,Ê∂àÊÅØidÔºö&quot; + deliveryTag + &quot;,Ê∂àÊÅØ‰ΩìÔºö&quot; + message);
            }
        };
        // 11.Ê∂àÊÅØÁõëÂê¨ arg0ÔºöÁõëÂê¨ÁöÑÈòüÂàóÂêçÁß∞
        channel.basicConsume(&quot;work_queue&quot;, true, consumer);
    }
}
</code></pre>
<h3 id="413-ÊµãËØï">4.1.3 ÊµãËØï
</h3><p>ÂêØÂä®‰∏§‰∏™Ê∂àË¥πËÄÖÔºåÁÑ∂ÂêéÂÜçÂêØÂä®Áîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØÔºõÂà∞IDEAÁöÑ‰∏§‰∏™Ê∂àË¥πËÄÖÂØπÂ∫îÁöÑÊéßÂà∂Âè∞Êü•ÁúãÊòØÂê¶Á´û‰∫âÊÄßÁöÑÊé•Êî∂Âà∞Ê∂àÊÅØ„ÄÇ</p>
<ul>
<li>Ê∂àË¥πËÄÖ1Ôºö</li>
</ul>
<p><img src="/p/rabbitmq_1/assets/1564397871582.png"
	width="860"
	height="125"
	
	loading="lazy"
	
		alt="1564397871582"
	
	
		class="gallery-image" 
		data-flex-grow="688"
		data-flex-basis="1651px"
	
></p>
<ul>
<li>Ê∂àË¥πËÄÖ2Ôºö</li>
</ul>
<p><img src="/p/rabbitmq_1/assets/1564397884743.png"
	width="836"
	height="129"
	
	loading="lazy"
	
		alt="1564397884743"
	
	
		class="gallery-image" 
		data-flex-grow="648"
		data-flex-basis="1555px"
	
></p>
<h3 id="414-Â∞èÁªì">4.1.4 Â∞èÁªì
</h3><p>Âú®‰∏Ä‰∏™ÈòüÂàó‰∏≠Â¶ÇÊûúÊúâÂ§ö‰∏™Ê∂àË¥πËÄÖÔºåÈÇ£‰πàÊ∂àË¥πËÄÖ‰πãÈó¥ÂØπ‰∫éÂêå‰∏Ä‰∏™Ê∂àÊÅØÁöÑÂÖ≥Á≥ªÊòØ<strong>Á´û‰∫â</strong>ÁöÑÂÖ≥Á≥ª„ÄÇ</p>
<p>ÈªòËÆ§ÔºåRabbitMQ‰ºö‰∏Ä‰∏™‰∏Ä‰∏™ÁöÑÂèëÈÄÅ‰ø°ÊÅØÁªô‰∏ã‰∏Ä‰∏™Ê∂àË¥πËÄÖ(consumer)ÔºåËÄå‰∏çËÄÉËôëÊØè‰∏™‰ªªÂä°ÁöÑÊó∂Èïø‰∏î<strong>ÊòØ‰∏ÄÊ¨°ÊÄßÂàÜÈÖçÔºåÂπ∂Èùû‰∏Ä‰∏™‰∏Ä‰∏™ÂàÜÈÖç</strong>„ÄÇÂπ≥ÂùáÁöÑÊØè‰∏™Ê∂àË¥πËÄÖÂ∞Ü‰ºöËé∑ÂæóÁõ∏Á≠âÊï∞ÈáèÁöÑÊ∂àÊÅØ„ÄÇËøôÁßçÂèëÈÄÅÊ∂àÊÅØÂæóÊñπÂºèÂè´ÂÅö‚Äî‚ÄîËΩÆËØ¢Ôºàround-robinÔºâ„ÄÇ</p>
<p>P/SÔºöÊ∂àÊÅØÁöÑÂèëÂ∏É‰∏éËÆ¢ÈòÖËÄÖ</p>
<ul>
<li>FanoutÔºöÂπøÊí≠Ê®°Âºè</li>
<li>RoutingKeyÔºöË∑ØÁî±Ê®°Âºè</li>
<li>TopicÔºö‰∏ªÈ¢òÊ®°Âºè</li>
</ul>
<h2 id="42-fanoutÂπøÊí≠Ê®°Âºè">4.2 FanoutÂπøÊí≠Ê®°Âºè
</h2><h3 id="421-Ê®°ÂºèËØ¥Êòé">4.2.1 Ê®°ÂºèËØ¥Êòé
</h3><p><img src="/p/rabbitmq_1/assets/1562518625240.png"
	width="956"
	height="193"
	
	loading="lazy"
	
		alt="1562518625240"
	
	
		class="gallery-image" 
		data-flex-grow="495"
		data-flex-basis="1188px"
	
></p>
<p>ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°ÂºèÔºö</p>
<pre><code class="language-properties">1.ÊØè‰∏™Ê∂àË¥πËÄÖÁõëÂê¨Ëá™Â∑±ÁöÑÈòüÂàó„ÄÇ
2.Áîü‰∫ßËÄÖÂ∞ÜÊ∂àÊÅØÂèëÁªôbrokerÔºåÁî±‰∫§Êç¢Êú∫Â∞ÜÊ∂àÊÅØËΩ¨ÂèëÂà∞ÁªëÂÆöÊ≠§‰∫§Êç¢Êú∫ÁöÑÊØè‰∏™ÈòüÂàóÔºåÊØè‰∏™ÁªëÂÆö‰∫§Êç¢Êú∫ÁöÑÈòüÂàóÈÉΩÂ∞ÜÊé•Êî∂
Âà∞Ê∂àÊÅØ
</code></pre>
<p>ËÄåÂú®ËÆ¢ÈòÖÊ®°Âûã‰∏≠ÔºåÂ§ö‰∫Ü‰∏Ä‰∏™exchangeËßíËâ≤ÔºåËÄå‰∏îËøáÁ®ãÁï•ÊúâÂèòÂåñÔºö</p>
<pre><code class="language-properties">PÔºöÁîü‰∫ßËÄÖÔºå‰πüÂ∞±ÊòØË¶ÅÂèëÈÄÅÊ∂àÊÅØÁöÑÁ®ãÂ∫èÔºå‰ΩÜÊòØ‰∏çÂÜçÂèëÈÄÅÂà∞ÈòüÂàó‰∏≠ÔºåËÄåÊòØÂèëÁªôXÔºà‰∫§Êç¢Êú∫Ôºâ
CÔºöÊ∂àË¥πËÄÖÔºåÊ∂àÊÅØÁöÑÊé•ÂèóËÄÖÔºå‰ºö‰∏ÄÁõ¥Á≠âÂæÖÊ∂àÊÅØÂà∞Êù•„ÄÇ
QueueÔºöÊ∂àÊÅØÈòüÂàóÔºåÊé•Êî∂Ê∂àÊÅØ„ÄÅÁºìÂ≠òÊ∂àÊÅØ„ÄÇ
ExchangeÔºö‰∫§Êç¢Êú∫ÔºåÂõæ‰∏≠ÁöÑX„ÄÇ‰∏ÄÊñπÈù¢ÔºåÊé•Êî∂Áîü‰∫ßËÄÖÂèëÈÄÅÁöÑÊ∂àÊÅØ„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÁü•ÈÅìÂ¶Ç‰ΩïÂ§ÑÁêÜÊ∂àÊÅØÔºå‰æãÂ¶ÇÈÄí‰∫§ÁªôÊüê‰∏™ÁâπÂà´ÈòüÂàó„ÄÅÈÄí‰∫§ÁªôÊâÄÊúâÈòüÂàó„ÄÅÊàñÊòØÂ∞ÜÊ∂àÊÅØ‰∏¢ÂºÉ„ÄÇÂà∞Â∫ïÂ¶Ç‰ΩïÊìç‰ΩúÔºåÂèñÂÜ≥‰∫éExchangeÁöÑÁ±ªÂûã„ÄÇExchangeÊúâÂ∏∏ËßÅ‰ª•‰∏ã3ÁßçÁ±ªÂûãÔºö
	FanoutÔºöÂπøÊí≠ÔºåÂ∞ÜÊ∂àÊÅØ‰∫§ÁªôÊâÄÊúâÁªëÂÆöÂà∞‰∫§Êç¢Êú∫ÁöÑÈòüÂàó
	DirectÔºöÂÆöÂêëÔºåÊääÊ∂àÊÅØ‰∫§ÁªôÁ¨¶ÂêàÊåáÂÆörouting key ÁöÑÈòüÂàó
	TopicÔºöÈÄöÈÖçÁ¨¶ÔºåÊääÊ∂àÊÅØ‰∫§ÁªôÁ¨¶Âêàrouting patternÔºàË∑ØÁî±Ê®°ÂºèÔºâ ÁöÑÈòüÂàó
</code></pre>
<p><strong>ExchangeÔºà‰∫§Êç¢Êú∫ÔºâÂè™Ë¥üË¥£ËΩ¨ÂèëÊ∂àÊÅØÔºå‰∏çÂÖ∑Â§áÂ≠òÂÇ®Ê∂àÊÅØÁöÑËÉΩÂäõ</strong>ÔºåÂõ†Ê≠§Â¶ÇÊûúÊ≤°Êúâ‰ªª‰ΩïÈòüÂàó‰∏éExchangeÁªëÂÆöÔºåÊàñËÄÖÊ≤°ÊúâÁ¨¶ÂêàË∑ØÁî±ËßÑÂàôÁöÑÈòüÂàóÔºåÈÇ£‰πàÊ∂àÊÅØ‰ºö‰∏¢Â§±ÔºÅ</p>
<h3 id="422-‰ª£Á†Å">4.2.2 ‰ª£Á†Å
</h3><h4 id="4221-ÂàõÂª∫Áîü‰∫ßËÄÖ">4.2.2.1 ÂàõÂª∫Áîü‰∫ßËÄÖ
</h4><p>Áîü‰∫ßËÄÖÈúÄË¶ÅÊ≥®ÊÑèÂ¶Ç‰∏ã3ÁÇπÔºö</p>
<pre><code class="language-properties">1.Â£∞Êòé‰∫§Êç¢Êú∫
2.Â£∞ÊòéÈòüÂàó
3.ÈòüÂàóÈúÄË¶ÅÁªëÂÆöÊåáÂÆöÁöÑ‰∫§Êç¢Êú∫
</code></pre>
<p>ÂàõÂª∫FanoutProducerÊ∂àÊÅØÁîü‰∫ßËÄÖÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class FanoutProducer {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;fanout_queue1&quot;, true, false, false, null);
        channel.queueDeclare(&quot;fanout_queue2&quot;, true, false, false, null);
        // ÂàõÂª∫‰∫§Êç¢Êú∫Ôºöarg0,‰∫§Êç¢Êú∫ÂêçÁß∞  arg1,‰∫§Êç¢Êú∫Á±ªÂûãÔºàÂπøÊí≠Ôºâ
        channel.exchangeDeclare(&quot;fanout_exchange&quot;, BuiltinExchangeType.FANOUT);
        // Â∞ÜÈòüÂàóÁªëÂÆöÂà∞‰∫§Êç¢Êú∫
        channel.queueBind(&quot;fanout_queue1&quot;, &quot;fanout_exchange&quot;, &quot;&quot;);
        channel.queueBind(&quot;fanout_queue2&quot;, &quot;fanout_exchange&quot;, &quot;&quot;);
        for (int i = 0; i &lt; 10; i++){
            // ÂàõÂª∫Ê∂àÊÅØ
            String message = &quot;‰Ω†Â•ΩÔºåÊ¨¢ËøéÊù•Âà∞Á®ãÂ∫èÂëòÔºåfanoutÔºö&quot; + i;
            // Ê∂àÊÅØÂèëÈÄÅ
            channel.basicPublish(&quot;fanout_exchange&quot;, &quot;&quot;, null, message.getBytes());
        }
        // ÂÖ≥Èó≠ËµÑÊ∫ê
        channel.close();
        connection.close();
    }
}
</code></pre>
<h4 id="4222-ÂàõÂª∫Ê∂àË¥πËÄÖ1">4.2.2.2 ÂàõÂª∫Ê∂àË¥πËÄÖ1
</h4><p>ÂàõÂª∫FanoutConsumer1Ê∂àË¥πËÄÖÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class FanoutConsumer1 {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;fanout_queue1&quot;, true, false, false, null);
        // ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂Ê∂àË¥πÊ∂àÊÅØ
        DefaultConsumer consumer = new DefaultConsumer(channel){
            @Override
            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {
                // Ë∑ØÁî±
                String routingKey = envelope.getRoutingKey();
                // ‰∫§Êç¢Êú∫
                String exchange = envelope.getExchange();
                // Ê∂àÊÅØid
                long deliveryTag = envelope.getDeliveryTag();
                // Ê∂àÊÅØ‰Ωì
                String message = new String(body, &quot;UTF-8&quot;);
                System.out.println(&quot;Ê∂àË¥πËÄÖ1Ëé∑ÂèñÁöÑÊï∞ÊçÆÔºö&quot; + &quot;Ë∑ØÁî±Ôºö&quot; + routingKey + &quot;,‰∫§Êç¢Êú∫Ôºö&quot; + exchange + &quot;,Ê∂àÊÅØidÔºö&quot; + deliveryTag + &quot;,Ê∂àÊÅØ‰ΩìÔºö&quot; + message);
            }
        };
        // 11.Ê∂àÊÅØÁõëÂê¨ arg0ÔºöÁõëÂê¨ÁöÑÈòüÂàóÂêçÁß∞
        channel.basicConsume(&quot;fanout_queue1&quot;, true, consumer);
    }
}
</code></pre>
<h4 id="4223-ÂàõÂª∫Ê∂àË¥πËÄÖ2">4.2.2.3 ÂàõÂª∫Ê∂àË¥πËÄÖ2
</h4><p>ÂàõÂª∫FanoutConsumer2Ê∂àË¥πËÄÖÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class FanoutConsumer2 {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;fanout_queue2&quot;, true, false, false, null);
        // ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂Ê∂àË¥πÊ∂àÊÅØ
        DefaultConsumer consumer = new DefaultConsumer(channel){
            @Override
            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {
                // Ë∑ØÁî±
                String routingKey = envelope.getRoutingKey();
                // ‰∫§Êç¢Êú∫
                String exchange = envelope.getExchange();
                // Ê∂àÊÅØid
                long deliveryTag = envelope.getDeliveryTag();
                // Ê∂àÊÅØ‰Ωì
                String message = new String(body, &quot;UTF-8&quot;);
                System.out.println(&quot;Ê∂àË¥πËÄÖ2Ëé∑ÂèñÁöÑÊï∞ÊçÆÔºö&quot; + &quot;Ë∑ØÁî±Ôºö&quot; + routingKey + &quot;,‰∫§Êç¢Êú∫Ôºö&quot; + exchange + &quot;,Ê∂àÊÅØidÔºö&quot; + deliveryTag + &quot;,Ê∂àÊÅØ‰ΩìÔºö&quot; + message);
            }
        };
        // 11.Ê∂àÊÅØÁõëÂê¨ arg0ÔºöÁõëÂê¨ÁöÑÈòüÂàóÂêçÁß∞
        channel.basicConsume(&quot;fanout_queue2&quot;, true, consumer);
    }
}
</code></pre>
<h3 id="423-ÊµãËØï">4.2.3 ÊµãËØï
</h3><p>ÂêØÂä®ÊâÄÊúâÊ∂àË¥πËÄÖÔºåÁÑ∂Âêé‰ΩøÁî®Áîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØÔºõÂú®ÊØè‰∏™Ê∂àË¥πËÄÖÂØπÂ∫îÁöÑÊéßÂà∂Âè∞ÂèØ‰ª•Êü•ÁúãÂà∞Áîü‰∫ßËÄÖÂèëÈÄÅÁöÑÊâÄÊúâÊ∂àÊÅØÔºõÂà∞Ëææ<strong>ÂπøÊí≠</strong>ÁöÑÊïàÊûú„ÄÇ</p>
<p>Ê∂àË¥πËÄÖ1Ôºö</p>
<p><img src="/p/rabbitmq_1/assets/1564497091180.png"
	width="934"
	height="293"
	
	loading="lazy"
	
		alt="1564497091180"
	
	
		class="gallery-image" 
		data-flex-grow="318"
		data-flex-basis="765px"
	
></p>
<p>Ê∂àË¥πËÄÖ2Ôºö</p>
<p><img src="/p/rabbitmq_1/assets/1564497107892.png"
	width="942"
	height="303"
	
	loading="lazy"
	
		alt="1564497107892"
	
	
		class="gallery-image" 
		data-flex-grow="310"
		data-flex-basis="746px"
	
></p>
<p>Âú®ÊâßË°åÂÆåÊµãËØï‰ª£Á†ÅÂêéÔºåÂÖ∂ÂÆûÂà∞RabbitMQÁöÑÁÆ°ÁêÜÂêéÂè∞ÊâæÂà∞<code>Exchanges</code>ÈÄâÈ°πÂç°ÔºåÁÇπÂáª <code>fanout_exchange</code> ÁöÑ‰∫§Êç¢Êú∫ÔºåÂèØ‰ª•Êü•ÁúãÂà∞Â¶Ç‰∏ãÁöÑÁªëÂÆöÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564497143772.png"
	width="742"
	height="483"
	
	loading="lazy"
	
		alt="1564497143772"
	
	
		class="gallery-image" 
		data-flex-grow="153"
		data-flex-basis="368px"
	
></p>
<h3 id="424-Â∞èÁªì">4.2.4 Â∞èÁªì
</h3><p>‰∫§Êç¢Êú∫ÈúÄË¶Å‰∏éÈòüÂàóËøõË°åÁªëÂÆöÔºåÁªëÂÆö‰πãÂêéÔºõ‰∏Ä‰∏™Ê∂àÊÅØÂèØ‰ª•Ë¢´Â§ö‰∏™Ê∂àË¥πËÄÖÈÉΩÊî∂Âà∞„ÄÇ</p>
<p><strong>ÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè‰∏éworkÈòüÂàóÊ®°ÂºèÁöÑÂå∫Âà´</strong></p>
<pre><code class="language-properties">1„ÄÅworkÈòüÂàóÊ®°Âºè‰∏çÁî®ÂÆö‰πâ‰∫§Êç¢Êú∫ÔºåËÄåÂèëÂ∏É/ËÆ¢ÈòÖÊ®°ÂºèÈúÄË¶ÅÂÆö‰πâ‰∫§Êç¢Êú∫„ÄÇ 
2„ÄÅÂèëÂ∏É/ËÆ¢ÈòÖÊ®°ÂºèÁöÑÁîü‰∫ßÊñπÊòØÈù¢Âêë‰∫§Êç¢Êú∫ÂèëÈÄÅÊ∂àÊÅØÔºåworkÈòüÂàóÊ®°ÂºèÁöÑÁîü‰∫ßÊñπÊòØÈù¢ÂêëÈòüÂàóÂèëÈÄÅÊ∂àÊÅØ(Â∫ïÂ±Ç‰ΩøÁî®ÈªòËÆ§‰∫§Êç¢Êú∫)„ÄÇ
3„ÄÅÂèëÂ∏É/ËÆ¢ÈòÖÊ®°ÂºèÈúÄË¶ÅËÆæÁΩÆÈòüÂàóÂíå‰∫§Êç¢Êú∫ÁöÑÁªëÂÆöÔºåworkÈòüÂàóÊ®°Âºè‰∏çÈúÄË¶ÅËÆæÁΩÆÔºåÂÆûÈôÖ‰∏äworkÈòüÂàóÊ®°Âºè‰ºöÂ∞ÜÈòüÂàóÁªë ÂÆöÂà∞ÈªòËÆ§ÁöÑ‰∫§Êç¢Êú∫ „ÄÇ
</code></pre>
<h2 id="43-routingË∑ØÁî±Ê®°Âºè">4.3 RoutingË∑ØÁî±Ê®°Âºè
</h2><h3 id="431-Ê®°ÂºèËØ¥Êòé">4.3.1. Ê®°ÂºèËØ¥Êòé
</h3><p>Ë∑ØÁî±Ê®°ÂºèÁâπÁÇπÔºö</p>
<pre><code class="language-properties">1.ÈòüÂàó‰∏é‰∫§Êç¢Êú∫ÁöÑÁªëÂÆöÔºå‰∏çËÉΩÊòØ‰ªªÊÑèÁªëÂÆö‰∫ÜÔºåËÄåÊòØË¶ÅÊåáÂÆö‰∏Ä‰∏™RoutingKeyÔºàË∑ØÁî±keyÔºâ
2.Ê∂àÊÅØÁöÑÂèëÈÄÅÊñπÂú® Âêë ExchangeÂèëÈÄÅÊ∂àÊÅØÊó∂Ôºå‰πüÂøÖÈ°ªÊåáÂÆöÊ∂àÊÅØÁöÑ RoutingKey„ÄÇ
3.Exchange‰∏çÂÜçÊääÊ∂àÊÅØ‰∫§ÁªôÊØè‰∏Ä‰∏™ÁªëÂÆöÁöÑÈòüÂàóÔºåËÄåÊòØÊ†πÊçÆÊ∂àÊÅØÁöÑRouting KeyËøõË°åÂà§Êñ≠ÔºåÂè™ÊúâÈòüÂàóÁöÑRoutingkey‰∏éÊ∂àÊÅØÁöÑ Routing keyÂÆåÂÖ®‰∏ÄËá¥ÔºåÊâç‰ºöÊé•Êî∂Âà∞Ê∂àÊÅØ
</code></pre>
<p><img src="/p/rabbitmq_1/assets/1562522054280.png"
	width="1269"
	height="330"
	
	loading="lazy"
	
		alt="1562522054280"
	
	
		class="gallery-image" 
		data-flex-grow="384"
		data-flex-basis="922px"
	
></p>
<p>ÂõæËß£Ôºö</p>
<pre><code class="language-properties">PÔºöÁîü‰∫ßËÄÖÔºåÂêëExchangeÂèëÈÄÅÊ∂àÊÅØÔºåÂèëÈÄÅÊ∂àÊÅØÊó∂Ôºå‰ºöÊåáÂÆö‰∏Ä‰∏™routing key„ÄÇ
XÔºöExchangeÔºà‰∫§Êç¢Êú∫ÔºâÔºåÊé•Êî∂Áîü‰∫ßËÄÖÁöÑÊ∂àÊÅØÔºåÁÑ∂ÂêéÊääÊ∂àÊÅØÈÄí‰∫§Áªô ‰∏érouting keyÂÆåÂÖ®ÂåπÈÖçÁöÑÈòüÂàó
C1ÔºöÊ∂àË¥πËÄÖÔºåÂÖ∂ÊâÄÂú®ÈòüÂàóÊåáÂÆö‰∫ÜÈúÄË¶Årouting key ‰∏∫ error ÁöÑÊ∂àÊÅØ
C2ÔºöÊ∂àË¥πËÄÖÔºåÂÖ∂ÊâÄÂú®ÈòüÂàóÊåáÂÆö‰∫ÜÈúÄË¶Årouting key ‰∏∫ info„ÄÅerror„ÄÅwarning ÁöÑÊ∂àÊÅØ
</code></pre>
<h3 id="432-‰ª£Á†Å">4.3.2 ‰ª£Á†Å
</h3><p>Âú®ÁºñÁ†Å‰∏ä‰∏é <code>Publish/SubscribeÂèëÂ∏É‰∏éËÆ¢ÈòÖÊ®°Âºè</code> ÁöÑÂå∫Âà´ÊòØ‰∫§Êç¢Êú∫ÁöÑÁ±ªÂûã‰∏∫ÔºöDirectÔºåËøòÊúâÈòüÂàóÁªëÂÆö‰∫§Êç¢Êú∫ÁöÑÊó∂ÂÄôÈúÄË¶ÅÊåáÂÆörouting key„ÄÇ</p>
<h4 id="4321-ÂàõÂª∫Áîü‰∫ßËÄÖ">4.3.2.1 ÂàõÂª∫Áîü‰∫ßËÄÖ
</h4><p>ÂàõÂª∫RoutingKeyProducerÊ∂àÊÅØÁîü‰∫ßËÄÖÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class RoutingKeyProducer {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;routing_key_queue1&quot;, true, false, false, null);
        channel.queueDeclare(&quot;routing_key_queue2&quot;, true, false, false, null);
        // ÂàõÂª∫‰∫§Êç¢Êú∫Ôºöarg0,‰∫§Êç¢Êú∫ÂêçÁß∞  arg1,‰∫§Êç¢Êú∫Á±ªÂûãÔºàÂπøÊí≠Ôºâ
        channel.exchangeDeclare(&quot;routing_key_exchange&quot;, BuiltinExchangeType.DIRECT);
        // Â∞ÜÈòüÂàóÁªëÂÆöÂà∞‰∫§Êç¢Êú∫
        // routing_key_queue1Ôºöerror
        // routing_key_queue2Ôºöerror„ÄÅinfo„ÄÅwarning
        channel.queueBind(&quot;routing_key_queue1&quot;, &quot;routing_key_exchange&quot;, &quot;error&quot;);
        channel.queueBind(&quot;routing_key_queue2&quot;, &quot;routing_key_exchange&quot;, &quot;error&quot;);
        channel.queueBind(&quot;routing_key_queue2&quot;, &quot;routing_key_exchange&quot;, &quot;info&quot;);
        channel.queueBind(&quot;routing_key_queue2&quot;, &quot;routing_key_exchange&quot;, &quot;warning&quot;);
        for (int i = 0; i &lt; 10; i++){
            // ÂàõÂª∫Ê∂àÊÅØ
            String message = &quot;‰Ω†Â•ΩÔºåÊ¨¢ËøéÊù•Âà∞ÈªëÈ©¨Á®ãÂ∫èÂëòÔºårouting_keyÔºö&quot; + i;
            String routingKey = &quot;&quot;;
            if (i%2 == 0){ // routing_key_queue1„ÄÅrouting_key_queue2 0„ÄÅ2„ÄÅ4„ÄÅ6„ÄÅ8
                routingKey = &quot;error&quot;;
            }else if (i%5 == 0){    // routing_key_queue2Ôºö5
                routingKey = &quot;info&quot;;
            }else { // 0„ÄÅ1„ÄÅ5
                routingKey = &quot;warning&quot;;
            }
            message += &quot;---&gt;&quot; + routingKey;

            // Ê∂àÊÅØÂèëÈÄÅ
            channel.basicPublish(&quot;routing_key_exchange&quot;, routingKey, null, message.getBytes());
        }
        // ÂÖ≥Èó≠ËµÑÊ∫ê
        channel.close();
        connection.close();
    }
}
</code></pre>
<h4 id="4322-ÂàõÂª∫Ê∂àË¥πËÄÖ1">4.3.2.2 ÂàõÂª∫Ê∂àË¥πËÄÖ1
</h4><p>ÂàõÂª∫RoutingKeyConsumer1Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class RoutingKeyConsumer1 {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;routing_key_queue1&quot;, true, false, false, null);
        // ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂Ê∂àË¥πÊ∂àÊÅØ
        DefaultConsumer consumer = new DefaultConsumer(channel){
            @Override
            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {
                // Ë∑ØÁî±
                String routingKey = envelope.getRoutingKey();
                // ‰∫§Êç¢Êú∫
                String exchange = envelope.getExchange();
                // Ê∂àÊÅØid
                long deliveryTag = envelope.getDeliveryTag();
                // Ê∂àÊÅØ‰Ωì
                String message = new String(body, &quot;UTF-8&quot;);
                System.out.println(&quot;Ê∂àË¥πËÄÖ1Ëé∑ÂèñÁöÑÊï∞ÊçÆÔºö&quot; + &quot;Ë∑ØÁî±Ôºö&quot; + routingKey + &quot;,‰∫§Êç¢Êú∫Ôºö&quot; + exchange + &quot;,Ê∂àÊÅØidÔºö&quot; + deliveryTag + &quot;,Ê∂àÊÅØ‰ΩìÔºö&quot; + message);
            }
        };
        // 11.Ê∂àÊÅØÁõëÂê¨ arg0ÔºöÁõëÂê¨ÁöÑÈòüÂàóÂêçÁß∞
        channel.basicConsume(&quot;routing_key_queue1&quot;, true, consumer);
    }
}
</code></pre>
<h4 id="4323-ÂàõÂª∫Ê∂àË¥πËÄÖ2">4.3.2.3 ÂàõÂª∫Ê∂àË¥πËÄÖ2
</h4><p>ÂàõÂª∫RoutingKeyConsumer2Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class RoutingKeyConsumer2 {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;routing_key_queue2&quot;, true, false, false, null);
        // ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂Ê∂àË¥πÊ∂àÊÅØ
        DefaultConsumer consumer = new DefaultConsumer(channel){
            @Override
            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {
                // Ë∑ØÁî±
                String routingKey = envelope.getRoutingKey();
                // ‰∫§Êç¢Êú∫
                String exchange = envelope.getExchange();
                // Ê∂àÊÅØid
                long deliveryTag = envelope.getDeliveryTag();
                // Ê∂àÊÅØ‰Ωì
                String message = new String(body, &quot;UTF-8&quot;);
                System.out.println(&quot;Ê∂àË¥πËÄÖ2Ëé∑ÂèñÁöÑÊï∞ÊçÆÔºö&quot; + &quot;Ë∑ØÁî±Ôºö&quot; + routingKey + &quot;,‰∫§Êç¢Êú∫Ôºö&quot; + exchange + &quot;,Ê∂àÊÅØidÔºö&quot; + deliveryTag + &quot;,Ê∂àÊÅØ‰ΩìÔºö&quot; + message);
            }
        };
        // 11.Ê∂àÊÅØÁõëÂê¨ arg0ÔºöÁõëÂê¨ÁöÑÈòüÂàóÂêçÁß∞
        channel.basicConsume(&quot;routing_key_queue2&quot;, true, consumer);
    }
}
</code></pre>
<h3 id="433-ÊµãËØï">4.3.3 ÊµãËØï
</h3><p>ÂêØÂä®ÊâÄÊúâÊ∂àË¥πËÄÖÔºåÁÑ∂Âêé‰ΩøÁî®Áîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØÔºõÂú®Ê∂àË¥πËÄÖÂØπÂ∫îÁöÑÊéßÂà∂Âè∞ÂèØ‰ª•Êü•ÁúãÂà∞Áîü‰∫ßËÄÖÂèëÈÄÅÂØπÂ∫îrouting keyÂØπÂ∫îÈòüÂàóÁöÑÊ∂àÊÅØÔºõÂà∞Ëææ<strong>ÊåâÁÖßÈúÄË¶ÅÊé•Êî∂</strong>ÁöÑÊïàÊûú„ÄÇ</p>
<p>Ê∂àË¥πËÄÖ1Ôºö</p>
<p><img src="/p/rabbitmq_1/assets/1564500966364.png"
	width="1167"
	height="125"
	
	loading="lazy"
	
		alt="1564500966364"
	
	
		class="gallery-image" 
		data-flex-grow="933"
		data-flex-basis="2240px"
	
></p>
<p>Ê∂àË¥πËÄÖ2Ôºö</p>
<p><img src="/p/rabbitmq_1/assets/1564501008020.png"
	width="1215"
	height="229"
	
	loading="lazy"
	
		alt="1564501008020"
	
	
		class="gallery-image" 
		data-flex-grow="530"
		data-flex-basis="1273px"
	
></p>
<p>Âú®ÊâßË°åÂÆåÊµãËØï‰ª£Á†ÅÂêéÔºåÂÖ∂ÂÆûÂà∞RabbitMQÁöÑÁÆ°ÁêÜÂêéÂè∞ÊâæÂà∞<code>Exchanges</code>ÈÄâÈ°πÂç°ÔºåÁÇπÂáª <code>direct_exchange</code> ÁöÑ‰∫§Êç¢Êú∫ÔºåÂèØ‰ª•Êü•ÁúãÂà∞Â¶Ç‰∏ãÁöÑÁªëÂÆöÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564501086365.png"
	width="680"
	height="412"
	
	loading="lazy"
	
		alt="1564501086365"
	
	
		class="gallery-image" 
		data-flex-grow="165"
		data-flex-basis="396px"
	
></p>
<h3 id="434-Â∞èÁªì">4.3.4 Â∞èÁªì
</h3><p>RoutingÊ®°ÂºèË¶ÅÊ±ÇÈòüÂàóÂú®ÁªëÂÆö‰∫§Êç¢Êú∫Êó∂Ë¶ÅÊåáÂÆörouting keyÔºåÊ∂àÊÅØ‰ºöËΩ¨ÂèëÂà∞Á¨¶Âêàrouting keyÁöÑÈòüÂàó„ÄÇ</p>
<h2 id="44-topicsÈÄöÈÖçÁ¨¶Ê®°Âºè">4.4 TopicsÈÄöÈÖçÁ¨¶Ê®°Âºè
</h2><h3 id="441-Ê®°ÂºèËØ¥Êòé">4.4.1 Ê®°ÂºèËØ¥Êòé
</h3><p><img src="/p/rabbitmq_1/assets/1562524697140.png"
	width="1286"
	height="346"
	
	loading="lazy"
	
		alt="1562524697140"
	
	
		class="gallery-image" 
		data-flex-grow="371"
		data-flex-basis="892px"
	
></p>
<p><code>Topic</code>Á±ªÂûã‰∏é<code>Direct</code>Áõ∏ÊØîÔºåÈÉΩÊòØÂèØ‰ª•Ê†πÊçÆ<code>RoutingKey</code>ÊääÊ∂àÊÅØË∑ØÁî±Âà∞‰∏çÂêåÁöÑÈòüÂàó„ÄÇÂè™‰∏çËøá<code>Topic</code>Á±ªÂûã<code>Exchange</code>ÂèØ‰ª•ËÆ©ÈòüÂàóÂú®ÁªëÂÆö<code>Routing key</code> ÁöÑÊó∂ÂÄô<strong>‰ΩøÁî®ÈÄöÈÖçÁ¨¶</strong>ÔºÅ</p>
<p><code>Routingkey</code> ‰∏ÄËà¨ÈÉΩÊòØÊúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂçïËØçÁªÑÊàêÔºåÂ§ö‰∏™ÂçïËØç‰πãÈó¥‰ª•‚Äù.‚ÄùÂàÜÂâ≤Ôºå‰æãÂ¶ÇÔºö <code>item.insert</code></p>
<p>ÈÄöÈÖçÁ¨¶ËßÑÂàôÔºö</p>
<p><code>#</code>ÔºöÂåπÈÖç‰∏Ä‰∏™ÊàñÂ§ö‰∏™ËØç</p>
<p><code>*</code>ÔºöÂåπÈÖç‰∏çÂ§ö</p>
<p>‰∏æ‰æãÔºö</p>
<p><code>item.#</code>ÔºöËÉΩÂ§üÂåπÈÖç<code>item.insert.abc</code> ÊàñËÄÖ <code>item.insert</code></p>
<p><code>item.*</code>ÔºöÂè™ËÉΩÂåπÈÖç<code>item.insert</code></p>
<p><img src="/p/rabbitmq_1/assets/1562524972321.png"
	width="880"
	height="311"
	
	loading="lazy"
	
		alt="1562524972321"
	
	
		class="gallery-image" 
		data-flex-grow="282"
		data-flex-basis="679px"
	
></p>
<p>ÂõæËß£Ôºö</p>
<ul>
<li>Á∫¢Ëâ≤QueueÔºöÁªëÂÆöÁöÑÊòØ<code>usa.#</code> ÔºåÂõ†Ê≠§Âá°ÊòØ‰ª• <code>usa.</code>ÂºÄÂ§¥ÁöÑ<code>routing key</code> ÈÉΩ‰ºöË¢´ÂåπÈÖçÂà∞</li>
<li>ÈªÑËâ≤QueueÔºöÁªëÂÆöÁöÑÊòØ<code>#.news</code> ÔºåÂõ†Ê≠§Âá°ÊòØ‰ª• <code>.news</code>ÁªìÂ∞æÁöÑ <code>routing key</code> ÈÉΩ‰ºöË¢´ÂåπÈÖç</li>
</ul>
<h3 id="442-‰ª£Á†Å">4.4.2 ‰ª£Á†Å
</h3><h4 id="4421-ÂàõÂª∫Áîü‰∫ßËÄÖ">4.4.2.1 ÂàõÂª∫Áîü‰∫ßËÄÖ
</h4><p>ÂàõÂª∫TopicProducerÂÆûÁé∞Ê∂àÊÅØÁîü‰∫ßËÄÖÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class TopicProducer {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;topic_queue1&quot;, true, false, false, null);
        channel.queueDeclare(&quot;topic_queue2&quot;, true, false, false, null);
        // ÂàõÂª∫‰∫§Êç¢Êú∫Ôºöarg0,‰∫§Êç¢Êú∫ÂêçÁß∞  arg1,‰∫§Êç¢Êú∫Á±ªÂûãÔºàÂπøÊí≠Ôºâ
        channel.exchangeDeclare(&quot;topic_exchange&quot;, BuiltinExchangeType.TOPIC);
        // Â∞ÜÈòüÂàóÁªëÂÆöÂà∞‰∫§Êç¢Êú∫
        channel.queueBind(&quot;topic_queue1&quot;, &quot;topic_exchange&quot;, &quot;*.orange.*&quot;);
        channel.queueBind(&quot;topic_queue2&quot;, &quot;topic_exchange&quot;, &quot;*.*.rabbit&quot;);
        channel.queueBind(&quot;topic_queue2&quot;, &quot;topic_exchange&quot;, &quot;lazy.#&quot;);
        // ÂèëÈÄÅÊ∂àÊÅØ
        String msg = &quot;Ê¨¢ËøéÊù•Âà∞ÈªëÈ©¨Â≠¶‰π†quick.orange.rabbit&quot;;
        byte[] body = msg.getBytes(&quot;UTF-8&quot;);
        channel.basicPublish(&quot;topic_exchange&quot;, &quot;quick.orange.rabbit&quot;, null, body);  // 1/2

        String msg2 = &quot;Ê¨¢ËøéÊù•Âà∞ÈªëÈ©¨Â≠¶‰π†lazy.pink.rabbit&quot;;
        byte[] body2 = msg2.getBytes(&quot;UTF-8&quot;);
        channel.basicPublish(&quot;topic_exchange&quot;, &quot;lazy.pink.rabbit&quot;, null, body2);     // 1
        // ÂÖ≥Èó≠ËµÑÊ∫ê
        channel.close();
        connection.close();
    }
}
</code></pre>
<h4 id="4422-ÂàõÂª∫Ê∂àË¥πËÄÖ1">4.4.2.2 ÂàõÂª∫Ê∂àË¥πËÄÖ1
</h4><p>ÂàõÂª∫TopicConsumer1Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class TopicConsumer1 {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;topic_queue1&quot;, true, false, false, null);
        // ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂Ê∂àË¥πÊ∂àÊÅØ
        DefaultConsumer consumer = new DefaultConsumer(channel){
            @Override
            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {
                // Ë∑ØÁî±
                String routingKey = envelope.getRoutingKey();
                // ‰∫§Êç¢Êú∫
                String exchange = envelope.getExchange();
                // Ê∂àÊÅØid
                long deliveryTag = envelope.getDeliveryTag();
                // Ê∂àÊÅØ‰Ωì
                String message = new String(body, &quot;UTF-8&quot;);
                System.out.println(&quot;Ê∂àË¥πËÄÖ1Ëé∑ÂèñÁöÑÊï∞ÊçÆÔºö&quot; + &quot;Ë∑ØÁî±Ôºö&quot; + routingKey + &quot;,‰∫§Êç¢Êú∫Ôºö&quot; + exchange + &quot;,Ê∂àÊÅØidÔºö&quot; + deliveryTag + &quot;,Ê∂àÊÅØ‰ΩìÔºö&quot; + message);
            }
        };
        // 11.Ê∂àÊÅØÁõëÂê¨ arg0ÔºöÁõëÂê¨ÁöÑÈòüÂàóÂêçÁß∞
        channel.basicConsume(&quot;topic_queue1&quot;, true, consumer);
    }
}
</code></pre>
<h4 id="4423-ÂàõÂª∫Ê∂àË¥πËÄÖ2">4.4.2.3 ÂàõÂª∫Ê∂àË¥πËÄÖ2
</h4><p>ÂàõÂª∫TopicConsumer2Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">public class TopicConsumer2 {

    public static void main(String[] args) throws IOException, TimeoutException {
        // Ëé∑ÂèñËøûÊé•
        Connection connection = ConnectionUtils.getConnection();
        // ÂàõÂª∫Ê∂àÊÅØÈÄöÈÅì
        Channel channel = connection.createChannel();
        // ÂàõÂª∫ÈòüÂàó
        channel.queueDeclare(&quot;topic_queue2&quot;, true, false, false, null);
        // ÂàõÂª∫Ê∂àË¥πËÄÖÔºåÂπ∂Ê∂àË¥πÊ∂àÊÅØ
        DefaultConsumer consumer = new DefaultConsumer(channel){
            @Override
            public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {
                // Ë∑ØÁî±
                String routingKey = envelope.getRoutingKey();
                // ‰∫§Êç¢Êú∫
                String exchange = envelope.getExchange();
                // Ê∂àÊÅØid
                long deliveryTag = envelope.getDeliveryTag();
                // Ê∂àÊÅØ‰Ωì
                String message = new String(body, &quot;UTF-8&quot;);
                System.out.println(&quot;Ê∂àË¥πËÄÖ2Ëé∑ÂèñÁöÑÊï∞ÊçÆÔºö&quot; + &quot;Ë∑ØÁî±Ôºö&quot; + routingKey + &quot;,‰∫§Êç¢Êú∫Ôºö&quot; + exchange + &quot;,Ê∂àÊÅØidÔºö&quot; + deliveryTag + &quot;,Ê∂àÊÅØ‰ΩìÔºö&quot; + message);
            }
        };
        // 11.Ê∂àÊÅØÁõëÂê¨ arg0ÔºöÁõëÂê¨ÁöÑÈòüÂàóÂêçÁß∞
        channel.basicConsume(&quot;topic_queue2&quot;, true, consumer);
    }
}

</code></pre>
<h3 id="443-ÊµãËØï">4.4.3 ÊµãËØï
</h3><p>ÂêØÂä®ÊâÄÊúâÊ∂àË¥πËÄÖÔºåÁÑ∂Âêé‰ΩøÁî®Áîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØÔºõÂú®Ê∂àË¥πËÄÖÂØπÂ∫îÁöÑÊéßÂà∂Âè∞ÂèØ‰ª•Êü•ÁúãÂà∞Áîü‰∫ßËÄÖÂèëÈÄÅÂØπÂ∫îrouting keyÂØπÂ∫îÈòüÂàóÁöÑÊ∂àÊÅØÔºõÂà∞Ëææ<strong>ÊåâÁÖßÈúÄË¶ÅÊé•Êî∂</strong>ÁöÑÊïàÊûúÔºõÂπ∂‰∏îËøô‰∫õrouting keyÂèØ‰ª•‰ΩøÁî®ÈÄöÈÖçÁ¨¶„ÄÇ</p>
<p>Ê∂àË¥πËÄÖ1Ôºö</p>
<p><img src="/p/rabbitmq_1/assets/1576679250472.png"
	width="1145"
	height="136"
	
	loading="lazy"
	
		alt="1576679250472"
	
	
		class="gallery-image" 
		data-flex-grow="841"
		data-flex-basis="2020px"
	
></p>
<p>Ê∂àË¥πËÄÖ2Ôºö</p>
<p><img src="/p/rabbitmq_1/assets/1576679268274.png"
	width="1126"
	height="149"
	
	loading="lazy"
	
		alt="1576679268274"
	
	
		class="gallery-image" 
		data-flex-grow="755"
		data-flex-basis="1813px"
	
></p>
<p>Âú®ÊâßË°åÂÆåÊµãËØï‰ª£Á†ÅÂêéÔºåÂÖ∂ÂÆûÂà∞RabbitMQÁöÑÁÆ°ÁêÜÂêéÂè∞ÊâæÂà∞<code>Exchanges</code>ÈÄâÈ°πÂç°ÔºåÁÇπÂáª <code>topic_exchange</code> ÁöÑ‰∫§Êç¢Êú∫ÔºåÂèØ‰ª•Êü•ÁúãÂà∞Â¶Ç‰∏ãÁöÑÁªëÂÆöÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564502526555.png"
	width="714"
	height="382"
	
	loading="lazy"
	
		alt="1564502526555"
	
	
		class="gallery-image" 
		data-flex-grow="186"
		data-flex-basis="448px"
	
></p>
<h3 id="444-Â∞èÁªì">4.4.4 Â∞èÁªì
</h3><p>Topic‰∏ªÈ¢òÊ®°ÂºèÂèØ‰ª•ÂÆûÁé∞ <code>Publish/SubscribeÂèëÂ∏É‰∏éËÆ¢ÈòÖÊ®°Âºè</code> Âíå <code> RoutingË∑ØÁî±Ê®°Âºè</code> ÁöÑÂäüËÉΩÔºõÂè™ÊòØTopicÂú®ÈÖçÁΩÆrouting key ÁöÑÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî®ÈÄöÈÖçÁ¨¶ÔºåÊòæÂæóÊõ¥Âä†ÁÅµÊ¥ª„ÄÇ</p>
<h2 id="45-rabbitmqÂ∑•‰ΩúÊ®°ÂºèÊÄªÁªì">4.5 RabbitMQÂ∑•‰ΩúÊ®°ÂºèÊÄªÁªì
</h2><p>RabbitMQÂ∑•‰ΩúÊ®°ÂºèÔºö
<strong>1„ÄÅÁÆÄÂçïÊ®°Âºè HelloWorld</strong>
‰∏Ä‰∏™Áîü‰∫ßËÄÖ„ÄÅ‰∏Ä‰∏™Ê∂àË¥πËÄÖÔºå‰∏çÈúÄË¶ÅËÆæÁΩÆ‰∫§Êç¢Êú∫Ôºà‰ΩøÁî®ÈªòËÆ§ÁöÑ‰∫§Êç¢Êú∫Ôºâ</p>
<p><strong>2„ÄÅÂ∑•‰ΩúÈòüÂàóÊ®°Âºè Work Queue</strong>
‰∏Ä‰∏™Áîü‰∫ßËÄÖ„ÄÅÂ§ö‰∏™Ê∂àË¥πËÄÖÔºàÁ´û‰∫âÂÖ≥Á≥ªÔºâÔºå‰∏çÈúÄË¶ÅËÆæÁΩÆ‰∫§Êç¢Êú∫Ôºà‰ΩøÁî®ÈªòËÆ§ÁöÑ‰∫§Êç¢Êú∫Ôºâ</p>
<p><strong>3„ÄÅÂèëÂ∏ÉËÆ¢ÈòÖÊ®°Âºè Publish/subscribe</strong>
ÈúÄË¶ÅËÆæÁΩÆÁ±ªÂûã‰∏∫fanoutÁöÑ‰∫§Êç¢Êú∫ÔºåÂπ∂‰∏î‰∫§Êç¢Êú∫ÂíåÈòüÂàóËøõË°åÁªëÂÆöÔºåÂΩìÂèëÈÄÅÊ∂àÊÅØÂà∞‰∫§Êç¢Êú∫ÂêéÔºå‰∫§Êç¢Êú∫‰ºöÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞ÁªëÂÆöÁöÑÈòüÂàó</p>
<p><strong>4„ÄÅË∑ØÁî±Ê®°Âºè Routing</strong>
ÈúÄË¶ÅËÆæÁΩÆÁ±ªÂûã‰∏∫directÁöÑ‰∫§Êç¢Êú∫Ôºå‰∫§Êç¢Êú∫ÂíåÈòüÂàóËøõË°åÁªëÂÆöÔºåÂπ∂‰∏îÊåáÂÆörouting keyÔºåÂΩìÂèëÈÄÅÊ∂àÊÅØÂà∞‰∫§Êç¢Êú∫ÂêéÔºå‰∫§Êç¢Êú∫‰ºöÊ†πÊçÆrouting keyÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞ÂØπÂ∫îÁöÑÈòüÂàó</p>
<p><strong>5„ÄÅÈÄöÈÖçÁ¨¶Ê®°Âºè Topic</strong>
ÈúÄË¶ÅËÆæÁΩÆÁ±ªÂûã‰∏∫topicÁöÑ‰∫§Êç¢Êú∫Ôºå‰∫§Êç¢Êú∫ÂíåÈòüÂàóËøõË°åÁªëÂÆöÔºåÂπ∂‰∏îÊåáÂÆöÈÄöÈÖçÁ¨¶ÊñπÂºèÁöÑrouting keyÔºåÂΩìÂèëÈÄÅÊ∂àÊÅØÂà∞‰∫§Êç¢Êú∫ÂêéÔºå‰∫§Êç¢Êú∫‰ºöÊ†πÊçÆrouting keyÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞ÂØπÂ∫îÁöÑÈòüÂàó</p>
<h1 id="5-spring-bootÈõÜÊàêrabbitmq">5 Spring BootÈõÜÊàêRabbitMQ
</h1><h2 id="51-ÁÆÄ‰ªã">5.1 ÁÆÄ‰ªã
</h2><p>Âú®SpringÈ°πÁõÆ‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®Spring-RabbitÂéªÊìç‰ΩúRabbitMQ
<a class="link" href="https://github.com/spring-projects/spring-amqp"  target="_blank" rel="noopener"
    >https://github.com/spring-projects/spring-amqp</a></p>
<p>Â∞§ÂÖ∂ÊòØÂú®spring bootÈ°πÁõÆ‰∏≠Âè™ÈúÄË¶ÅÂºïÂÖ•ÂØπÂ∫îÁöÑamqpÂêØÂä®Âô®‰æùËµñÂç≥ÂèØÔºåÊñπ‰æøÁöÑ‰ΩøÁî®RabbitTemplateÂèëÈÄÅÊ∂àÊÅØÔºå‰ΩøÁî®Ê≥®Ëß£Êé•Êî∂Ê∂àÊÅØ„ÄÇ</p>
<p><em>‰∏ÄËà¨Âú®ÂºÄÂèëËøáÁ®ã‰∏≠</em>Ôºö</p>
<p><strong>Áîü‰∫ßËÄÖÂ∑•Á®ãÔºö</strong></p>
<ol>
<li>
<p>application.ymlÊñá‰ª∂ÈÖçÁΩÆRabbitMQÁõ∏ÂÖ≥‰ø°ÊÅØÔºõ</p>
</li>
<li>
<p>Âú®Áîü‰∫ßËÄÖÂ∑•Á®ã‰∏≠ÁºñÂÜôÈÖçÁΩÆÁ±ªÔºåÁî®‰∫éÂàõÂª∫‰∫§Êç¢Êú∫ÂíåÈòüÂàóÔºåÂπ∂ËøõË°åÁªëÂÆö</p>
</li>
<li>
<p>Ê≥®ÂÖ•RabbitTemplateÂØπË±°ÔºåÈÄöËøáRabbitTemplateÂØπË±°ÂèëÈÄÅÊ∂àÊÅØÂà∞‰∫§Êç¢Êú∫</p>
</li>
</ol>
<p><strong>Ê∂àË¥πËÄÖÂ∑•Á®ãÔºö</strong></p>
<ol>
<li>
<p>application.ymlÊñá‰ª∂ÈÖçÁΩÆRabbitMQÁõ∏ÂÖ≥‰ø°ÊÅØ</p>
</li>
<li>
<p>ÂàõÂª∫Ê∂àÊÅØÂ§ÑÁêÜÁ±ªÔºåÁî®‰∫éÊé•Êî∂ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØÂπ∂ËøõË°åÂ§ÑÁêÜ</p>
</li>
</ol>
<h2 id="52-Êê≠Âª∫Áîü‰∫ßËÄÖÂ∑•Á®ã">5.2 Êê≠Âª∫Áîü‰∫ßËÄÖÂ∑•Á®ã
</h2><h3 id="521-ÂàõÂª∫Â∑•Á®ã">5.2.1 ÂàõÂª∫Â∑•Á®ã
</h3><p>ÂàõÂª∫Áîü‰∫ßËÄÖÂ∑•Á®ãspringboot-rabbitmq-producerÔºöÁï•„ÄÇ</p>
<h3 id="522-Ê∑ªÂä†‰æùËµñ">5.2.2 Ê∑ªÂä†‰æùËµñ
</h3><p>‰øÆÊîπpom.xmlÊñá‰ª∂ÂÜÖÂÆπ‰∏∫Â¶Ç‰∏ãÔºö</p>
<pre><code class="language-xml">&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;
    &lt;relativePath/&gt;
&lt;/parent&gt;

&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;

</code></pre>
<h3 id="523-ÂêØÂä®Á±ª">5.2.3 ÂêØÂä®Á±ª
</h3><p>ÂàõÂª∫ÂêØÂä®Á±ªcom.itheima.ProducerApplicationÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">@SpringBootApplication
public class RabbitMqProviderApplication {

	public static void main(String[] args) {
		SpringApplication.run(RabbitMqProviderApplication.class, args);
	}

	// ÂàõÂª∫ÈòüÂàó
	@Bean
	public Queue topicQueue(){
		return new Queue(&quot;topic_queue_spring_boot&quot;);
	}

	// ÂàõÂª∫‰∫§Êç¢Êú∫
	@Bean
	public Exchange topicExchange(){
		return new TopicExchange(&quot;topic_exchange_spring_boot&quot;);
	}

	// Â∞ÜÈòüÂàóÁªëÂÆöÂà∞‰∫§Êç¢Êú∫
	@Bean
	public Binding topicQueueBind(Queue topicQueue, Exchange topicExchange){
		return BindingBuilder.bind(topicQueue).to(topicExchange).with(&quot;item.#&quot;).noargs();
	}

}
</code></pre>
<h3 id="524-ÈÖçÁΩÆrabbitmq">5.2.4 ÈÖçÁΩÆRabbitMQ
</h3><p>application.ymlÈÖçÁΩÆÊñá‰ª∂</p>
<pre><code class="language-yaml">spring:
  rabbitmq:
    host: localhost
    port: 5672
    virtual-host: /sz_itcast
    username: admin
    password: 123456
</code></pre>
<h2 id="53-Êê≠Âª∫Ê∂àË¥πËÄÖÂ∑•Á®ã">5.3 Êê≠Âª∫Ê∂àË¥πËÄÖÂ∑•Á®ã
</h2><h3 id="531-ÂàõÂª∫Â∑•Á®ã">5.3.1 ÂàõÂª∫Â∑•Á®ã
</h3><p>ÂàõÂª∫Ê∂àË¥πËÄÖÂ∑•Á®ãspringboot-rabbitmq-consumer,Â∑•Á®ãÂùêÊ†áÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-xml">&lt;groupId&gt;com.itheima&lt;/groupId&gt;
&lt;artifactId&gt;springboot-rabbitmq-consumer&lt;/artifactId&gt;
&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
</code></pre>
<h3 id="532-Ê∑ªÂä†‰æùËµñ">5.3.2 Ê∑ªÂä†‰æùËµñ
</h3><p>‰øÆÊîπpom.xmlÊñá‰ª∂ÂÜÖÂÆπ‰∏∫Â¶Ç‰∏ãÔºö</p>
<pre><code class="language-xml">&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;2.1.4.RELEASE&lt;/version&gt;
    &lt;relativePath/&gt;
&lt;/parent&gt;

&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
        &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<h3 id="533-ÂêØÂä®Á±ª">5.3.3 ÂêØÂä®Á±ª
</h3><p>ÂàõÂª∫ÂêØÂä®Á±ªcom.itheima.ConsumerApplicationÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">@SpringBootApplication
public class ConsumerApplication {

    public static void main(String[] args) {
        SpringApplication.run(ConsumerApplication.class);
    }
}
</code></pre>
<h3 id="534-ÈÖçÁΩÆrabbitmq">5.3.4 ÈÖçÁΩÆRabbitMQ
</h3><p>ÂàõÂª∫application.ymlÔºåÂÜÖÂÆπÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-properties">spring:
  rabbitmq:
    host: localhost
    port: 5672
    virtual-host: /sz_itcast
    username: admin
    password: 123456
</code></pre>
<h3 id="535-Ê∂àÊÅØÁõëÂê¨Â§ÑÁêÜÁ±ª">5.3.5 Ê∂àÊÅØÁõëÂê¨Â§ÑÁêÜÁ±ª
</h3><p>ÁºñÂÜôÊ∂àÊÅØÁõëÂê¨Âô®com.itheima.listener.MessageListenerÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p>
<pre><code class="language-java">@Component
public class MessageListener {

    /**
     * ÁõëÂê¨Êüê‰∏™ÈòüÂàóÁöÑÊ∂àÊÅØ
     * @param message Êé•Êî∂Âà∞ÁöÑÊ∂àÊÅØ
     */
    @RabbitListener(queues = &quot;topic_queue_spring_boot&quot;)
    public void myListener1(String message){
        System.out.println(&quot;Ê∂àË¥πËÄÖÊé•Êî∂Âà∞ÁöÑÊ∂àÊÅØ‰∏∫Ôºö&quot; + message);
    }
}
</code></pre>
<h2 id="54-ÊµãËØï">5.4 ÊµãËØï
</h2><p>Âú®Áîü‰∫ßËÄÖÂ∑•Á®ãrabbitmq-producer‰∏≠ÂàõÂª∫ÊµãËØïÁ±ªcom.itheima.test.RabbitMQTestÔºåÂèëÈÄÅÊ∂àÊÅØÔºö</p>
<pre><code class="language-java">@RunWith(SpringRunner.class)
@SpringBootTest
public class RabbitMqProviderApplicationTests {

	@Autowired
	private RabbitTemplate rabbitTemplate;

	@Test
	public void contextLoads() {
		rabbitTemplate.convertAndSend(&quot;topic_exchange_spring_boot&quot;,&quot;item.update&quot;, &quot;Êõ¥Êñ∞&quot;);
		rabbitTemplate.convertAndSend(&quot;topic_exchange_spring_boot&quot;,&quot;item.brand.insert&quot;, &quot;ÊèíÂÖ•&quot;);
	}

}
</code></pre>
<p>ÂÖàËøêË°å‰∏äËø∞ÊµãËØïÁ®ãÂ∫èÔºà‰∫§Êç¢Êú∫ÂíåÈòüÂàóÊâçËÉΩÂÖàË¢´Â£∞ÊòéÂíåÁªëÂÆöÔºâÔºåÁÑ∂ÂêéÂêØÂä®Ê∂àË¥πËÄÖÔºõÂú®Ê∂àË¥πËÄÖÂ∑•Á®ãspringboot-rabbitmq-consumer‰∏≠ÊéßÂà∂Âè∞Êü•ÁúãÊòØÂê¶Êé•Êî∂Âà∞ÂØπÂ∫îÊ∂àÊÅØ„ÄÇ</p>
<p><img src="/p/rabbitmq_1/assets/1564504900674.png"
	width="866"
	height="383"
	
	loading="lazy"
	
		alt="1564504900674"
	
	
		class="gallery-image" 
		data-flex-grow="226"
		data-flex-basis="542px"
	
></p>
<p>Âè¶Â§ñÔºõ‰πüÂèØ‰ª•Âú®RabbitMQÁöÑÁÆ°ÁêÜÊéßÂà∂Âè∞‰∏≠Êü•ÁúãÂà∞‰∫§Êç¢Êú∫‰∏éÈòüÂàóÁöÑÁªëÂÆöÔºö</p>
<p><img src="/p/rabbitmq_1/assets/1564504920414.png"
	width="746"
	height="325"
	
	loading="lazy"
	
		alt="1564504920414"
	
	
		class="gallery-image" 
		data-flex-grow="229"
		data-flex-basis="550px"
	
></p>
<h1 id="6-ÂÆâË£ÖÈóÆÈ¢ò">6 ÂÆâË£ÖÈóÆÈ¢ò
</h1><p>ËÆ°ÁÆóÊú∫ÂêçÁß∞ÊòØ‰∏≠ÊñáÊó†Ê≥ïÂêØÂä®RabbitMQËß£ÂÜ≥ÊñπÊ°àÔºö</p>
<pre><code class="language-java">1„ÄÅÁÆ°ÁêÜÂëòËøêË°åcmdÁÑ∂ÂêéÊâìÂºÄRabbitMQÂÆâË£ÖÁõÆÂΩï
2„ÄÅrabbitmq-service.bat remove
3„ÄÅset RABBITMQ_BASE=D:\rabbitmq_server\data
4„ÄÅrabbitmq-service.bat install
5„ÄÅrabbitmq-plugins enable rabbitmq_management
</code></pre>
<p><img src="/p/rabbitmq_1/assets/1589959806808.png"
	width="787"
	height="553"
	
	loading="lazy"
	
		alt="1589959806808"
	
	
		class="gallery-image" 
		data-flex-grow="142"
		data-flex-basis="341px"
	
></p>
<p><img src="/p/rabbitmq_1/assets/1589959826016.png"
	width="630"
	height="91"
	
	loading="lazy"
	
		alt="1589959826016"
	
	
		class="gallery-image" 
		data-flex-grow="692"
		data-flex-basis="1661px"
	
></p>
<h1 id="ÊÄªÁªì">ÊÄªÁªì
</h1><p>1„ÄÅÂØπMQ‰ªãÁªç‰ª•Âèä‰ΩøÁî®Âú∫ÊôØ</p>
<ul>
<li>MQÔºöÂú®Ê∂àÊÅØ‰º†ËæìËøáÁ®ã‰∏≠Áî®Êù•‰øùÂ≠òÊ∂àÊÅØÁöÑÂÆπÂô®   Message Queue</li>
<li>‰ΩøÁî®Âú∫ÊôØÔºö
<ul>
<li>‰∏öÂä°Ëß£ËÄ¶</li>
<li>ÂºÇÊ≠•ÈÄö‰ø°</li>
<li>ÊµÅÈáèÂâäÂ≥∞</li>
</ul>
</li>
<li>MQÁöÑ‰∫ßÂìÅÊúâÂæàÂ§öÔºöÁï•</li>
</ul>
<p>2„ÄÅRabbitMQ</p>
<ul>
<li>‰ªãÁªçÔºöÁï•</li>
<li>ÂÆâË£ÖÔºöÁï•</li>
<li>ÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑ÔºöÈÖçÁΩÆÁî®Êà∑  +  ÈÖçÁΩÆËôöÊãü‰∏ªÊú∫„ÄêÊï∞ÊçÆÂ∫ì„Äë</li>
</ul>
<p>3„ÄÅÁºñÂÜôRabbitMQÁ®ãÂ∫èÔºö5ÁßçÈÄö‰ø°ÊñπÂºè„Äê<strong>ÈáçÁÇπ</strong>„Äë</p>
<ul>
<li>ÁÆÄÂçïÊ®°Âºè</li>
<li>Â∑•‰ΩúÊ®°Âºè</li>
<li>ÂπøÊí≠Ê®°Âºè</li>
<li>Ë∑ØÁî±Ê®°Âºè</li>
<li>‰∏ªÈ¢òÊ®°Âºè</li>
</ul>
<p>4„ÄÅSpringBootÈõÜÊàêRabbitMQÔºö‰ª£Á†ÅÁÆÄÂåñ‰∫Ü„ÄÇ</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/rabbitmq/">RabbitMq</a>
        
            <a href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">Ê∂àÊÅØÈòüÂàó</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/rabbitmq_2/">
        
        

        <div class="article-details">
            <h2 class="article-title">RabbitMq_2</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2019 - 
        
        2025 LexqinMike
    </section>
    
    <section class="powerby">
        
            ‰Ω†Ê∞∏Ëøú‰∏çÁü•ÈÅìÔºåÊàëÁöÑ‰ª£Á†ÅÈáåËóè‰∫ÜÂ§öÂ∞ëÊïÖ‰∫ã„ÄÇ <br/>
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<div id="particles-js"></div>

<script src=https://mikeLing-qx.github.io/background/particles.min.js></script>
<script>
  particlesJS.load('particles-js', "https://mikeLing-qx.github.io/background/particlesjs-config.json", function() {
    console.log('particles.js loaded - callback');
  });
</script>

<style>
  #particles-js {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: -1;
  }
</style>

<style>
  body {
    background: url(https://mikeLing-qx.github.io/background/background-01.png) no-repeat center top;
    background-size: cover;
    background-attachment: fixed;
  }
</style>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
		<script>hljs.highlightAll();</script>
    </body>
</html>
