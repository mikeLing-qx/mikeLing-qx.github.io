<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="0. å‰è¨€ è®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“\n1. åˆ›å»ºå‹æ¨¡å¼ å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰ æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰ å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰ åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰ 2. ç»“æ„å‹æ¨¡å¼ é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰ æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰ è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰ ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰ å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰ äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ 3. è¡Œä¸ºå‹æ¨¡å¼ è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰ è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰ è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰ ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰ å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰ ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ ä¸¤ä¸ªé—®é¢˜:\n">
<title>è®¾è®¡æ¨¡å¼</title>

<link rel='canonical' href='https://mikeLing-qx.github.io/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="è®¾è®¡æ¨¡å¼">
<meta property='og:description' content="0. å‰è¨€ è®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“\n1. åˆ›å»ºå‹æ¨¡å¼ å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰ æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰ å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰ åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰ 2. ç»“æ„å‹æ¨¡å¼ é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰ æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰ è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰ ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰ å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰ äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ 3. è¡Œä¸ºå‹æ¨¡å¼ è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰ è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰ è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰ ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰ å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰ ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ ä¸¤ä¸ªé—®é¢˜:\n">
<meta property='og:url' content='https://mikeLing-qx.github.io/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/'>
<meta property='og:site_name' content='lexqinMike'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2025-01-03T15:25:43&#43;08:00'/><meta property='article:modified_time' content='2025-01-03T15:25:43&#43;08:00'/>
<meta name="twitter:title" content="è®¾è®¡æ¨¡å¼">
<meta name="twitter:description" content="0. å‰è¨€ è®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“\n1. åˆ›å»ºå‹æ¨¡å¼ å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰ æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰ å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰ å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰ åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰ 2. ç»“æ„å‹æ¨¡å¼ é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰ æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰ è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰ ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰ è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰ å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰ äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰ ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰ 3. è¡Œä¸ºå‹æ¨¡å¼ è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰ è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰ è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰ ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰ å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰ è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰ çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰ ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰ ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰ æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰ è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰ ä¸¤ä¸ªé—®é¢˜:\n">
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avator_hu1060881492573662444.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">lexqinMike</a></h1>
            <h2 class="site-description">welcome to my blog, ä»£ç æ—  bugï¼Œå’–å•¡æ— é™ç»­ã€‚</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>ä¸»é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>æš—è‰²æ¨¡å¼</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#0-å‰è¨€">0. å‰è¨€</a>
      <ul>
        <li><a href="#1-åˆ›å»ºå‹æ¨¡å¼">1. åˆ›å»ºå‹æ¨¡å¼</a></li>
        <li><a href="#2-ç»“æ„å‹æ¨¡å¼">2. ç»“æ„å‹æ¨¡å¼</a></li>
        <li><a href="#3-è¡Œä¸ºå‹æ¨¡å¼">3. è¡Œä¸ºå‹æ¨¡å¼</a></li>
      </ul>
    </li>
    <li><a href="#1-å·¥å‚æ¨¡å¼-factory">1. å·¥å‚æ¨¡å¼ Factory</a>
      <ul>
        <li><a href="#10-æ¦‚è¿°">1.0 æ¦‚è¿°</a></li>
        <li><a href="#11-å®ç°æ–¹å¼">1.1 å®ç°æ–¹å¼</a>
          <ul>
            <li><a href="#11-1-ç®€å•å·¥å‚">1.1. 1 ç®€å•å·¥å‚</a></li>
            <li><a href="#112--æŠ½è±¡å·¥å‚">1.1.2  æŠ½è±¡å·¥å‚</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#2-å•ä¾‹æ¨¡å¼-singleton">2. å•ä¾‹æ¨¡å¼ SingleTon</a>
      <ul>
        <li><a href="#21-æ¦‚è¿°">2.1 æ¦‚è¿°</a></li>
        <li><a href="#22-å®ç°æ–¹å¼">2.2 å®ç°æ–¹å¼</a></li>
      </ul>
    </li>
    <li><a href="#3-æ„é€ æ¨¡å¼-builder">3. æ„é€ æ¨¡å¼ Builder</a>
      <ul>
        <li><a href="#31-æ¦‚è¿°">3.1 æ¦‚è¿°</a></li>
        <li><a href="#32-å®ç°">3.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#4-åŸå‹æ¨¡å¼-prototype">4. åŸå‹æ¨¡å¼ Prototype</a>
      <ul>
        <li><a href="#41-æ¦‚è¿°">4.1 æ¦‚è¿°</a>
          <ul>
            <li><a href="#411-æ·±æ‹·è´å’Œæµ…æ‹·è´">4.1.1 æ·±æ‹·è´å’Œæµ…æ‹·è´</a></li>
          </ul>
        </li>
        <li><a href="#42-å®ç°">4.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#5-é€‚é…å™¨æ¨¡å¼-adapterwrapper">5. é€‚é…å™¨æ¨¡å¼ Adapter(Wrapper)</a>
      <ul>
        <li><a href="#51-æ¦‚è¿°">5.1 æ¦‚è¿°</a></li>
        <li><a href="#52-å®ç°">5.2 å®ç°</a>
          <ul>
            <li><a href="#520-å®ç°æ­¥éª¤">5.2.0 å®ç°æ­¥éª¤</a></li>
            <li><a href="#521-ç±»çš„é€‚é…å™¨æ¨¡å¼">5.2.1 ç±»çš„é€‚é…å™¨æ¨¡å¼</a></li>
            <li><a href="#522-å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼">5.2.2 å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼</a></li>
            <li><a href="#523-æ¥å£çš„é€‚é…å™¨æ¨¡å¼">5.2.3 æ¥å£çš„é€‚é…å™¨æ¨¡å¼</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#6-è£…é¥°æ¨¡å¼-decorator">6. è£…é¥°æ¨¡å¼ Decorator</a>
      <ul>
        <li><a href="#61-æ¦‚è¿°">6.1 æ¦‚è¿°</a></li>
        <li><a href="#62-å®ç°">6.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#7-ä»£ç†æ¨¡å¼-proxy">7 .ä»£ç†æ¨¡å¼ Proxy</a>
      <ul>
        <li><a href="#71--æ¦‚è¿°">7.1  æ¦‚è¿°</a></li>
        <li><a href="#72-å®ç°-é™æ€ä»£ç†">7.2 å®ç° (é™æ€ä»£ç†)</a></li>
        <li><a href="#73-å®ç°-åŠ¨æ€ä»£ç†">7.3 å®ç° (åŠ¨æ€ä»£ç†)</a>
          <ul>
            <li><a href="#1-å¼•å…¥ä¾èµ–">1. å¼•å…¥ä¾èµ–</a></li>
            <li><a href="#aspectj">AspectJ</a></li>
            <li><a href="#2-åˆ›å»ºæ¥å£-å’Œ-å®ç°ç±»">2. åˆ›å»ºæ¥å£ å’Œ å®ç°ç±»</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#8-å¤–è§‚æ¨¡å¼-facade-é—¨é¢">8. å¤–è§‚æ¨¡å¼ Facade (é—¨é¢)</a>
      <ul>
        <li><a href="#81-æ¦‚è¿°">8.1 æ¦‚è¿°</a></li>
        <li><a href="#82-å®ç°">8.2 å®ç°</a>
          <ul>
            <li><a href="#1-æ•°æ®åº“è¿æ¥">1. æ•°æ®åº“è¿æ¥</a></li>
            <li><a href="#2-ç»„è£…ç”µè„‘">2. ç»„è£…ç”µè„‘</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#9-æ¡¥æ¥æ¨¡å¼">9. æ¡¥æ¥æ¨¡å¼</a>
      <ul>
        <li><a href="#91-æ¦‚è¿°">9.1 æ¦‚è¿°</a>
          <ul>
            <li><a href="#910-jdbc-è¿æ¥æ•°æ®åº“">9.1.0 JDBC è¿æ¥æ•°æ®åº“</a></li>
            <li><a href="#911-ä½¿ç”¨åœºæ™¯">9.1.1 ä½¿ç”¨åœºæ™¯</a></li>
          </ul>
        </li>
        <li><a href="#92-å®ç°">9.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#10--ç»„åˆæ¨¡å¼-composite">10.  ç»„åˆæ¨¡å¼ Composite</a></li>
    <li><a href="#11-äº«å…ƒæ¨¡å¼-flyweight">11. äº«å…ƒæ¨¡å¼ Flyweight</a>
      <ul>
        <li><a href="#1111-æ¦‚è¿°">11.1.1 æ¦‚è¿°</a></li>
        <li><a href="#1112-åŒ…è£…ç±»">11.1.2 åŒ…è£…ç±»</a></li>
        <li><a href="#112--å®ç°">11.2  å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#12-ç­–ç•¥æ¨¡å¼-category">12. ç­–ç•¥æ¨¡å¼ Category</a>
      <ul>
        <li><a href="#121-æ¦‚è¿°">12.1 æ¦‚è¿°</a></li>
        <li><a href="#122-å®ç°">12.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#13-æ¨¡æ¿æ–¹æ³•-template-method">13. æ¨¡æ¿æ–¹æ³• Template Method</a>
      <ul>
        <li><a href="#131-æ¦‚è¿°">13.1 æ¦‚è¿°</a></li>
        <li><a href="#132-å®ç°">13.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#14-è§‚å¯Ÿè€…æ¨¡å¼-observer">14. è§‚å¯Ÿè€…æ¨¡å¼ Observer</a>
      <ul>
        <li><a href="#141-æ¦‚è¿°">14.1 æ¦‚è¿°</a></li>
        <li><a href="#142-å®ç°">14.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#15-è¿­ä»£å™¨æ¨¡å¼-iterator">15. è¿­ä»£å™¨æ¨¡å¼ <strong>Iterator</strong></a>
      <ul>
        <li><a href="#151-æ¦‚è¿°">15.1 æ¦‚è¿°</a></li>
        <li><a href="#152-å®ç°">15.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#16-è´£ä»»é“¾æ¨¡å¼-chain-of-responsibility">16. è´£ä»»é“¾æ¨¡å¼ Chain of Responsibility</a>
      <ul>
        <li><a href="#161-æ¦‚è¿°">16.1 æ¦‚è¿°</a></li>
        <li><a href="#162-å®ç°">16.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#18-å‘½ä»¤æ¨¡å¼-command">18. å‘½ä»¤æ¨¡å¼ Command</a>
      <ul>
        <li><a href="#181-æ¦‚è¿°">18.1 æ¦‚è¿°</a></li>
        <li><a href="#182-å®ç°">18.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#19-å¤‡å¿˜å½•æ¨¡å¼-memento">19. å¤‡å¿˜å½•æ¨¡å¼ Memento</a>
      <ul>
        <li><a href="#191-æ¦‚è¿°">19.1 æ¦‚è¿°</a></li>
        <li><a href="#192-å®ç°">19.2 å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#20-çŠ¶æ€æ¨¡å¼-state">20. çŠ¶æ€æ¨¡å¼ State</a>
      <ul>
        <li><a href="#201-æ¦‚è¿°">20.1 æ¦‚è¿°</a></li>
        <li><a href="#202--å®ç°">20.2  å®ç°</a></li>
      </ul>
    </li>
    <li><a href="#21-è®¿é—®è€…æ¨¡å¼-visitor">21. è®¿é—®è€…æ¨¡å¼ Visitor</a>
      <ul>
        <li><a href="#211-æ¦‚è¿°">21.1 æ¦‚è¿°</a></li>
        <li><a href="#212-å®ç°">21.2 å®ç°</a></li>
        <li><a href="#213--å®ç°-é€’å½’æ”¹é€ ">21.3  å®ç° (é€’å½’æ”¹é€ )</a></li>
      </ul>
    </li>
    <li><a href="#22-ä¸­ä»‹æ¨¡å¼-mediator">22. ä¸­ä»‹æ¨¡å¼ Mediator</a>
      <ul>
        <li><a href="#221--æ¦‚è¿°">22.1  æ¦‚è¿°</a></li>
      </ul>
    </li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jan 03, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    é˜…è¯»æ—¶é•¿: 20 åˆ†é’Ÿ
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="0-å‰è¨€">0. å‰è¨€
</h1><p>è®¾è®¡æ¨¡å¼æ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨çš„ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“</p>
<h2 id="1-åˆ›å»ºå‹æ¨¡å¼">1. åˆ›å»ºå‹æ¨¡å¼
</h2><ul>
<li>å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰</li>
<li>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factory Patternï¼‰</li>
<li>å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰</li>
<li>å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰</li>
<li>åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰</li>
</ul>
<h2 id="2-ç»“æ„å‹æ¨¡å¼">2. ç»“æ„å‹æ¨¡å¼
</h2><ul>
<li>é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰</li>
<li>æ¡¥æ¥æ¨¡å¼ï¼ˆBridge Patternï¼‰</li>
<li>è¿‡æ»¤å™¨æ¨¡å¼ï¼ˆFilterã€Criteria Patternï¼‰</li>
<li>ç»„åˆæ¨¡å¼ï¼ˆComposite Patternï¼‰</li>
<li>è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰</li>
<li>å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰</li>
<li>äº«å…ƒæ¨¡å¼ï¼ˆFlyweight Patternï¼‰</li>
<li>ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰</li>
</ul>
<h2 id="3-è¡Œä¸ºå‹æ¨¡å¼">3. è¡Œä¸ºå‹æ¨¡å¼
</h2><ul>
<li>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰</li>
<li>å‘½ä»¤æ¨¡å¼ï¼ˆCommand Patternï¼‰</li>
<li>è§£é‡Šå™¨æ¨¡å¼ï¼ˆInterpreter Patternï¼‰</li>
<li>è¿­ä»£å™¨æ¨¡å¼ï¼ˆIterator Patternï¼‰</li>
<li>ä¸­ä»‹è€…æ¨¡å¼ï¼ˆMediator Patternï¼‰</li>
<li>å¤‡å¿˜å½•æ¨¡å¼ï¼ˆMemento Patternï¼‰</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</li>
<li>çŠ¶æ€æ¨¡å¼ï¼ˆState Patternï¼‰</li>
<li>ç©ºå¯¹è±¡æ¨¡å¼ï¼ˆNull Object Patternï¼‰</li>
<li>ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰</li>
<li>æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Patternï¼‰</li>
<li>è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰</li>
</ul>
<p>ä¸¤ä¸ªé—®é¢˜:</p>
<ol>
<li>ä½¿ç”¨åœºæ™¯, å¥½å¤„</li>
<li>æ€ä¹ˆç”¨çš„</li>
</ol>
<h1 id="1-å·¥å‚æ¨¡å¼-factory">1. å·¥å‚æ¨¡å¼ Factory
</h1><h2 id="10-æ¦‚è¿°">1.0 æ¦‚è¿°
</h2><p>å°±æ˜¯å»ºç«‹ä¸€ä¸ªå·¥å‚ç±», å¯¹å®ç°äº†åŒä¸€æ¥å£çš„ä¸€äº›ç±»è¿›è¡Œå®ä¾‹çš„åˆ›å»º</p>
<blockquote>
<ol>
<li>æ™®é€šå·¥å‚</li>
<li>å¤šå·¥å‚æ–¹æ³•</li>
<li>é™æ€å·¥å‚æ–¹æ³•</li>
</ol>
</blockquote>
<p>ä½¿ç”¨åœºæ™¯</p>
<blockquote>
<p>å‡ºç°äº†å¤§é‡çš„äº§å“éœ€è¦åˆ›å»º, å¹¶ä¸”å…·æœ‰å…±åŒçš„æ¥å£æ—¶, å¯ä»¥é€šè¿‡å·¥å‚æ–¹æ³•æ¨¡å¼è¿›è¡Œåˆ›å»º, å»ºè®®ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•æ¨¡å¼</p>
</blockquote>
<h2 id="11-å®ç°æ–¹å¼">1.1 å®ç°æ–¹å¼
</h2><h3 id="11-1-ç®€å•å·¥å‚">1.1. 1 ç®€å•å·¥å‚
</h3><p>é¦–å…ˆ, åˆ›å»ºäºŒè€…å…±åŒæ¥å£</p>
<pre><code class="language-java">public interface Sender (){
	public void Send();
}
</code></pre>
<p>åˆ›å»ºå®ç°ç±»</p>
<pre><code class="language-java">public class MailSender implements Sender {  
    @Override  
    public void Send() {  
        System.out.println(&quot;this is mailsender!&quot;);  
    }  
} 
</code></pre>
<pre><code class="language-java">public class SmsSender implements Sender {    
    @Override  
    public void Send() {  
        System.out.println(&quot;this is sms sender!&quot;);  
    }  
}
</code></pre>
<p>å»ºå·¥å‚ç±»</p>
<pre><code>public class SendFactory {  
   public Sender produce(String type) {
           if (&quot;mail&quot;.equals(type)) {
                   return new MailSender();
           } else if (&quot;sms&quot;.equals(type)) {
                   return new SmsSender();
           } else {
                   System.out.println(&quot;è¯·è¾“å…¥æ­£ç¡®çš„ç±»å‹!&quot;);
                    return null;
           }
    }  
}
</code></pre>
<h3 id="112--æŠ½è±¡å·¥å‚">1.1.2  æŠ½è±¡å·¥å‚
</h3><p>==<strong>æ¦‚è¿°</strong>==</p>
<blockquote>
<p>ç±»çš„åˆ›å»ºä¾èµ–äºå·¥å‚, å¦‚æœæƒ³è¦æ‹“å±•ç¨‹åºå°±å¿…é¡»è¦å¯¹å·¥å‚ç±»è¿›è¡Œä¿®æ”¹, è¿™è¿èƒŒäº†é—­åŒ…åŸåˆ™ (å¯¹æ‹“å±•å¼€æ”¾, å¯¹ä¿®æ”¹å…³é—­); ==å½“ç¨‹åºä¿®æ”¹çš„æ—¶å€™ä¸éœ€è¦å»ä¿®æ”¹åŸæ¥çš„ä»£ç ,  å®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœ (ä½¿ç”¨æ¥å£å’ŒæŠ½è±¡ç±»)==</p>
</blockquote>
<p>å®ç°æ–¹å¼</p>
<pre><code>1. Cpuæ¥å£
2. å†æœ‰ä¸¤ä¸ªå®ç°ç±» Kirin990 å’Œ 888 
3. å±å¹•Screenæ¥å£
4. ä¸¤ä¸ªå±å¹•å®ç°ç±» ä¸‰æ˜Ÿ å’Œ äº¬ä¸œæ–¹
5. phoneå·¥å‚æ¥å£ 
6. æ‰‹æœºå·¥å‚å®ç°ç±» 
å°ç±³å·¥å‚ (ä¸‰æ˜Ÿå±å¹• + 888Cpu) åä¸ºå·¥å‚ (Kirin990 + äº¬ä¸œæ–¹)

7. 

</code></pre>
<pre><code class="language-java">public class AbstractFactory {

    // æ‰‹æœºcpu
    public interface Cpu {

        void run();


        class Cpu660 implements Cpu {
            @Override
            public void run() {
                System.out.println(&quot;660&quot;);
            }
        }

        class Cpu845 implements Cpu {
            @Override
            public void run() {
                System.out.println(&quot;845&quot;);
            }
        }

        class CpuKirin9000 implements Cpu {
            @Override
            public void run() {
                System.out.println(&quot;Kirin9000&quot;);
            }
        }

    }

    // æ‰‹æœºå±å¹•
    public interface Screen {

        void Size();

        class Screen5 implements Screen {
            @Override
            public void Size() {
                System.out.println(&quot;5&quot;);
            }
        }

        class Screen6 implements Screen {
            @Override
            public void Size() {
                System.out.println(&quot;6&quot;);
            }
        }

    }


    // å·¥å‚æ¥å£
    public interface PhoneFactory {

        Cpu getCpu();

        Screen getScreen();
    }

    public class XiaoMiFactory implements PhoneFactory {
        @Override
        public Cpu getCpu() {
            return new Cpu.Cpu845();
        }

        @Override
        public Screen getScreen() {
            return new Screen.Screen6();
        }
    }

    public class HongMiFactory implements PhoneFactory {
        @Override
        public Cpu getCpu() {
            return new Cpu.Cpu660();
        }

        @Override
        public Screen getScreen() {
            return new Screen.Screen5();
        }
    }

    public class HuaweiFactory implements PhoneFactory {

        @Override
        public Cpu getCpu() {
            return new Cpu.CpuKirin9000();
        }

        @Override
        public Screen getScreen() {
            return new Screen.Screen6();
        }
    }


    @Test
    public void test01() {

        HongMiFactory hongMiFactory = new HongMiFactory();

        Cpu cpu = hongMiFactory.getCpu();
        Screen screen = hongMiFactory.getScreen();

        cpu.run();
        screen.Size();
    }

}
</code></pre>
<h1 id="2-å•ä¾‹æ¨¡å¼-singleton">2. å•ä¾‹æ¨¡å¼ SingleTon
</h1><h2 id="21-æ¦‚è¿°">2.1 æ¦‚è¿°
</h2><p>å‚è€ƒèµ„æ–™</p>
<blockquote>
<p><a class="link" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1281319214514210#0"  target="_blank" rel="noopener"
    >https://www.liaoxuefeng.com/wiki/1252599548343744/1281319214514210#0</a></p>
</blockquote>
<p>å®ç°æ–¹å¼</p>
<blockquote>
<ol>
<li>
<p>åªç”¨private æ„é€ æ–¹æ³•, ç¡®ä¿å¤–éƒ¨æ— æ³•å®ä¾‹åŒ–</p>
</li>
<li>
<p>é€šè¿‡ private static å˜é‡æŒæœ‰å”¯ä¸€æ²»ç†, ä¿è¯å…¨å±€å”¯ä¸€æ€§</p>
</li>
<li>
<p>é€šè¿‡public static æ–¹æ³•è¿”å›å”¯ä¸€å®ä¾‹, ä½¿å¤–éƒ¨è°ƒç”¨æ–¹èƒ½è·å–</p>
</li>
</ol>
</blockquote>
<p>==Singletonæ¨¡å¼ä¸€èˆ¬ä»¥â€œçº¦å®šâ€ä¸ºä¸» è®©æ¡†æ¶ï¼ˆä¾‹å¦‚Springï¼‰æ¥å®ä¾‹åŒ–è¿™äº›ç±»ï¼Œä¿è¯åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¸ä¼šåˆ»æ„å®ç°å®ƒ==</p>
<blockquote>
<p>åŒé‡æ£€æŸ¥</p>
<p>çœŸæ­£å®ç°å»¶è¿ŸåŠ è½½ï¼Œåªèƒ½é€šè¿‡Javaçš„ClassLoaderæœºåˆ¶å®Œæˆã€‚å¦‚æœæ²¡æœ‰ç‰¹æ®Šçš„éœ€æ±‚ï¼Œä½¿ç”¨Singletonæ¨¡å¼çš„æ—¶å€™ï¼Œæœ€å¥½ä¸è¦å»¶è¿ŸåŠ è½½ï¼Œè¿™æ ·ä¼šä½¿ä»£ç æ›´ç®€å•ã€‚</p>
</blockquote>
<h2 id="22-å®ç°æ–¹å¼">2.2 å®ç°æ–¹å¼
</h2><ol>
<li>æ™®é€šå®ç°</li>
</ol>
<pre><code class="language-java">public class Singleton {
    // é™æ€å­—æ®µå¼•ç”¨å”¯ä¸€å®ä¾‹:
    public static final Singleton INSTANCE = null;

    // privateæ„é€ æ–¹æ³•ä¿è¯å¤–éƒ¨æ— æ³•å®ä¾‹åŒ–:
    private Singleton() {
    }
    
    public synchronized static Singleton getInstance() {
    	if (INSTANCE == null) {
        	INSTANCE = new Singleton();
    	}
	    return INSTANCE;
	}
}
</code></pre>
<ol start="2">
<li>enum å®ç°</li>
</ol>
<pre><code>public enum World {
    // å”¯ä¸€æšä¸¾:
	INSTANCE;

	private String name = &quot;world&quot;;

	public String getName() {
		return this.name;
	}

	public void setName(String name) {
		this.name = name;
	}
}
</code></pre>
<h1 id="3-æ„é€ æ¨¡å¼-builder">3. æ„é€ æ¨¡å¼ Builder
</h1><h2 id="31-æ¦‚è¿°">3.1 æ¦‚è¿°
</h2><blockquote>
<p>ä½¿ç”¨Builderæ¨¡å¼æ˜¯, é€‚ç”¨äºåˆ›å»ºæ¯”è¾ƒå¤æ‚çš„å¯¹è±¡, ä¸€æ­¥ä¸€æ­¥çš„åˆ›å»ºå‡ºé›¶ä»¶, æœ€ååœ¨è£…é…èµ·æ¥</p>
</blockquote>
<pre><code class="language-java">String url = URLBuilder.builder() // åˆ›å»ºBuilder
            .setDomain(&quot;www.liaoxuefeng.com&quot;) // è®¾ç½®domain
            .setScheme(&quot;https&quot;) // è®¾ç½®scheme
            .setPath(&quot;/&quot;) // è®¾ç½®è·¯å¾„
            .setQuery(Map.of(&quot;a&quot;, &quot;123&quot;, &quot;q&quot;, &quot;K&amp;R&quot;)) // è®¾ç½®query
            .build(); // å®Œæˆbuild

</code></pre>
<h2 id="32-å®ç°">3.2 å®ç°
</h2><h1 id="4-åŸå‹æ¨¡å¼-prototype">4. åŸå‹æ¨¡å¼ Prototype
</h1><h2 id="41-æ¦‚è¿°">4.1 æ¦‚è¿°
</h2><blockquote>
<p>åˆ›å»ºæ–°å¯¹è±¡çš„æ—¶å€™, æ ¹æ®ç°æœ‰çš„ä¸€ä¸ªåŸå‹æ¥åˆ›å»º,</p>
</blockquote>
<h3 id="411-æ·±æ‹·è´å’Œæµ…æ‹·è´">4.1.1 æ·±æ‹·è´å’Œæµ…æ‹·è´
</h3><blockquote>
<p>æµ…: å°†ä¸€ä¸ªå¯¹è±¡å¤åˆ¶å, åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡éƒ½ä¼šé‡æ–°åˆ›å»º, è€Œ å¼•ç”¨ç±»å‹, æŒ‡å‘çš„è¿˜æ˜¯ åŸå¯¹è±¡æ‰€æŒ‡å‘çš„</p>
<p>æ·±: å°†ä¸€ä¸ªå¯¹è±¡å¤åˆ¶å, ä¸è®ºæ˜¯åŸºæœ¬æ•°æ®ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹, éƒ½æ˜¯é‡æ–°åˆ›å»ºçš„, , å°±æ˜¯æ·±å¤åˆ¶æ˜¯å½»åº•çš„å¤åˆ¶</p>
</blockquote>
<pre><code class="language-java">public class Prototype implements Cloneable, Serializable {
    private static final long serialVersionUID = 1L;
    private String string;
    private SerializableObject obj;

    /* æµ…å¤åˆ¶ */
    public Object clone() throws CloneNotSupportedException {
        Prototype proto = (Prototype) super.clone();
        return proto;
    }

    /* æ·±å¤åˆ¶ */
    public Object deepClone() throws IOException, ClassNotFoundException {

        /* å†™å…¥å½“å‰å¯¹è±¡çš„äºŒè¿›åˆ¶æµ */
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        ObjectOutputStream oos = new ObjectOutputStream(bos);
        oos.writeObject(this);

        /* è¯»å‡ºäºŒè¿›åˆ¶æµäº§ç”Ÿçš„æ–°å¯¹è±¡ */
        ByteArrayInputStream bis = new ByteArrayInputStream(bos.toByteArray());
        ObjectInputStream ois = new ObjectInputStream(bis);
        return ois.readObject();
    }

    public String getString() {
        return string;
    }

    public void setString(String string) {
        this.string = string;
    }

    public SerializableObject getObj() {
        return obj;
    }

    public void setObj(SerializableObject obj) {
        this.obj = obj;
    }

}

class SerializableObject implements Serializable {
    private static final long serialVersionUID = 1L;
}

</code></pre>
<h2 id="42-å®ç°">4.2 å®ç°
</h2><p>Q: å¦‚æœæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª<code>String[]</code>æ•°ç»„ï¼Œæƒ³å†åˆ›å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„<code>String[]</code>æ•°ç»„ï¼Œæ€ä¹ˆå†™ï¼Ÿ</p>
<p>==è¿™ä¸ªåˆ›å»ºè¿‡ç¨‹å°è£…ä¸€ä¸‹ï¼Œå°±æˆäº†åŸå‹æ¨¡å¼==</p>
<pre><code class="language-java">// åŸå‹:
String[] original = { &quot;Apple&quot;, &quot;Pear&quot;, &quot;Banana&quot; };
// æ–°å¯¹è±¡:
String[] copy = Arrays.copyOf(original, original.length);

</code></pre>
<h1 id="5-é€‚é…å™¨æ¨¡å¼-adapterwrapper">5. é€‚é…å™¨æ¨¡å¼ Adapter(Wrapper)
</h1><p>ç›¸å½“ä¸€ä¸ªè½¬æ¢å™¨, è¾“å…¥ä¸º æ¥å£A , è¾“å‡ºä¸º æ¥å£B</p>
<h2 id="51-æ¦‚è¿°">5.1 æ¦‚è¿°
</h2><blockquote>
<ol>
<li>ç±»çš„é€‚é…å™¨æ¨¡å¼ï¼šå½“å¸Œæœ›å°†<strong>ä¸€ä¸ªç±»</strong>è½¬æ¢æˆæ»¡è¶³<strong>å¦ä¸€ä¸ªæ–°æ¥å£</strong>çš„ç±»æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç±»çš„é€‚é…å™¨æ¨¡å¼ï¼Œåˆ›å»ºä¸€ä¸ªæ–°ç±»ï¼Œç»§æ‰¿åŸæœ‰çš„ç±»ï¼Œå®ç°æ–°çš„æ¥å£å³å¯ã€‚</li>
<li>å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼ï¼šå½“å¸Œæœ›å°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢æˆæ»¡è¶³å¦ä¸€ä¸ªæ–°æ¥å£çš„å¯¹è±¡æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªWrapperç±»ï¼ŒæŒæœ‰åŸç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œåœ¨Wrapperç±»çš„æ–¹æ³•ä¸­ï¼Œè°ƒç”¨å®ä¾‹çš„æ–¹æ³•å°±è¡Œã€‚</li>
<li>æ¥å£çš„é€‚é…å™¨æ¨¡å¼ï¼šå½“ä¸å¸Œæœ›å®ç°ä¸€ä¸ªæ¥å£ä¸­æ‰€æœ‰çš„æ–¹æ³•æ—¶ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæŠ½è±¡ç±»Wrapperï¼Œå®ç°æ‰€æœ‰æ–¹æ³•ï¼Œæˆ‘ä»¬å†™åˆ«çš„ç±»çš„æ—¶å€™ï¼Œç»§æ‰¿æŠ½è±¡ç±»å³å¯ã€‚</li>
</ol>
</blockquote>
<p>ç±»</p>
<p><img src="/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/images/%E7%B1%BB%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F.png"
	width="605"
	height="285"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="212"
		data-flex-basis="509px"
	
></p>
<p>==ä½¿ç”¨åœºæ™¯==</p>
<blockquote>
<p>å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£, æ˜¯çš„åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œ</p>
</blockquote>
<p>é€‚é…å™¨æ¨¡å¼åœ¨Javaæ ‡å‡†åº“ä¸­æœ‰å¹¿æ³›åº”ç”¨</p>
<pre><code class="language-java">String[] exist = new String[] {&quot;Good&quot;, &quot;morning&quot;, &quot;Bob&quot;, &quot;and&quot;, &quot;Alice&quot;};
Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(exist));

</code></pre>
<h2 id="52-å®ç°">5.2 å®ç°
</h2><h3 id="520-å®ç°æ­¥éª¤">5.2.0 å®ç°æ­¥éª¤
</h3><blockquote>
<ol>
<li>å®ç°ç›®æ ‡æ¥å£</li>
<li>å†…éƒ¨æŒæœ‰ä¸€ä¸ªå¾…è½¬æ¢æ¥å£çš„å¼•ç”¨, å¯é€šè¿‡å­—æ®µ</li>
<li>åœ¨ç›®æ ‡æ¥å£çš„å®ç°æ–¹æ³•å†…éƒ¨, è°ƒç”¨å¾…è½¬æ¢æ¥å£çš„æ–¹æ³•</li>
</ol>
</blockquote>
<h3 id="521-ç±»çš„é€‚é…å™¨æ¨¡å¼">5.2.1 ç±»çš„é€‚é…å™¨æ¨¡å¼
</h3><p>==sum==</p>
<blockquote>
</blockquote>
<ol>
<li>åŸæœ¬Sourceç±»åªç”¨method1 æ–¹æ³•</li>
</ol>
<pre><code class="language-java">public class Source {

    public void method1() {
        System.out.println(&quot;this is original method!&quot;);
    }

}

</code></pre>
<ol start="2">
<li>TargetTable æ¥å£</li>
</ol>
<pre><code class="language-java">public interface TargetTable {

    void method1();

    void method2();
}

</code></pre>
<ol start="3">
<li>==Adapterç±»ï¼Œå°†Sourceçš„åŠŸèƒ½æ‰©å±•åˆ°Targetableé‡Œ==</li>
</ol>
<pre><code class="language-java">public class Adapter extends Source implements TargetTable {

    @Override
    public void method2() {

    }

    public static void main(String[] args) {
        Adapter adapter = new Adapter();
        adapter.method1();
        adapter.method2();
    }

}

</code></pre>
<ol start="4">
<li>test</li>
</ol>
<pre><code class="language-java">public static void main(String[] args) {
        Adapter adapter = new Adapter();
        adapter.method1();
        adapter.method2();
}

</code></pre>
<h3 id="522-å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼">5.2.2 å¯¹è±¡çš„é€‚é…å™¨æ¨¡å¼
</h3><p>ä¸ç»§æ‰¿Sourceç±»ï¼Œ==è€Œæ˜¯æŒæœ‰Sourceç±»çš„å®ä¾‹==ï¼Œä»¥è¾¾åˆ°è§£å†³å…¼å®¹æ€§çš„é—®é¢˜</p>
<p><img src="/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/images/%E5%AF%B9%E8%B1%A1%E9%80%82%E9%85%8D%E5%99%A8.png"
	width="587"
	height="293"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="200"
		data-flex-basis="480px"
	
></p>
<pre><code class="language-java">public class Wrapper implements Targetable {  

           private Source source;  

           public Wrapper(Source source){
                   super();
                   this.source = source;
            }  
           @Override  
            public void method2() {
                System.out.println(&quot;this is the targetable method!&quot;);
            }  

            @Override
            public void method1() {
                source.method1();
            }  
    }

</code></pre>
<h3 id="523-æ¥å£çš„é€‚é…å™¨æ¨¡å¼">5.2.3 æ¥å£çš„é€‚é…å™¨æ¨¡å¼
</h3><p>â€‹	æ¥å£å®šä¹‰äº†å¤ªå¤šæ–¹æ³•, ä½†æ˜¯å¹¶ä¸æ˜¯éƒ½éœ€è¦</p>
<blockquote>
<p>å®ç°æ–¹å¼</p>
<ol>
<li>æŠ½è±¡ç±»å®ç°åŸæ¥å£</li>
<li>æ–°çš„ç±»ç»§æ‰¿æŠ½è±¡ç±», é‡å†™æˆ‘ä»¬éœ€è¦çš„æ–¹æ³•å°±å¯ä»¥äº†</li>
</ol>
</blockquote>
<h1 id="6-è£…é¥°æ¨¡å¼-decorator">6. è£…é¥°æ¨¡å¼ Decorator
</h1><h2 id="61-æ¦‚è¿°">6.1 æ¦‚è¿°
</h2><p>ç»™å¯¹è±¡åŠ¨æ€çš„æ·»åŠ ä¸€äº›æ–°åŠŸèƒ½, è¦æ±‚è£…é¥°å¯¹è±¡å’Œ è¢«è£…é¥°å¯¹è±¡å®ç°åŒä¸€æ¥å£, è£…é¥°å¯¹è±¡æŒæœ‰è¢«è£…é¥°å¯¹è±¡çš„å®ä¾‹</p>
<p>==åº”ç”¨åœºæ™¯==</p>
<blockquote>
<ol>
<li>éœ€è¦æ‹“å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½</li>
<li>åŠ¨æ€çš„ä¸ºä¸€ä¸ªå¯¹è±¡æ–°å¢åŠŸèƒ½, è€Œä¸”è¿˜èƒ½åŠ¨æ€çš„æ’¤é”€ (ç»§æ‰¿æ— æ³•åšåˆ°, ç»§æ‰¿æ˜¯é™æ€çš„, ä¸èƒ½åŠ¨æ€å¢åˆ )</li>
</ol>
</blockquote>
<p>==ç¼ºç‚¹==:  äº§ç”Ÿè¿‡å¤šç›¸ä¼¼çš„å¯¹è±¡, ä¸æ˜“æ’é”™</p>
<h2 id="62-å®ç°">6.2 å®ç°
</h2><p>æ¥å£</p>
<pre><code class="language-java">public interface Sourceable {
	public void method();
}

</code></pre>
<p>è¢«è£…é¥°ç±»</p>
<pre><code class="language-java">public class Source implents Sourceable{
	
	@Override
	public void method(){
		sout(&quot;the original mehtod&quot;);
	}
}

</code></pre>
<p>è£…é¥°ç±»</p>
<pre><code class="language-java">public class Decorator implement Sourceable{
	
	private Sourceable source;
	
	public Decorator(Sourceable source){
		super();
		this.source = source;
	}

	@Override
	public void method(){
		sout('before decorator');
		source.method();
		sout(&quot;after decorator&quot;);
	}

}

</code></pre>
<p>test</p>
<pre><code class="language-java"> psvm{
 	Sourceable source = new Source();
	Sourceable obj = new Decoratoe(source);
	obj.method();
 }

</code></pre>
<h1 id="7-ä»£ç†æ¨¡å¼-proxy">7 .ä»£ç†æ¨¡å¼ Proxy
</h1><h2 id="71--æ¦‚è¿°">7.1  æ¦‚è¿°
</h2><p>ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®</p>
<p>==åº”ç”¨åœºæ™¯==</p>
<blockquote>
<p>å¦‚æœå·²æœ‰çš„æ–¹æ³•åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦å¯¹åŸæœ‰çš„æ–¹æ³•è¿›è¡Œæ”¹è¿›, å°±å¯ä»¥é‡‡ç”¨ä»£ç†æ¨¡å¼, å¯¹äº§ç”Ÿçš„ç»“æœè¿›è¡Œæ§åˆ¶</p>
</blockquote>
<p>==è£…é¥°æ¨¡å¼å’Œä»£ç†æ¨¡å¼çš„åŒºåˆ«==</p>
<blockquote>
<p>å¯¹è£…é¥°å™¨æ¨¡å¼æ¥è¯´ï¼Œè£…é¥°è€…ï¼ˆdecoratorï¼‰å’Œè¢«è£…é¥°è€…ï¼ˆdecorateeï¼‰éƒ½å®ç°åŒä¸€ä¸ª æ¥å£ã€‚å¯¹ä»£ç†æ¨¡å¼æ¥è¯´ï¼Œä»£ç†ç±»ï¼ˆproxy classï¼‰å’ŒçœŸå®å¤„ç†çš„ç±»ï¼ˆreal classï¼‰éƒ½å®ç°åŒä¸€ä¸ªæ¥å£ã€‚ä»–ä»¬ä¹‹é—´çš„è¾¹ç•Œç¡®å®æ¯”è¾ƒæ¨¡ç³Šï¼Œä¸¤è€…éƒ½æ˜¯å¯¹ç±»çš„æ–¹æ³•è¿›è¡Œæ‰©å±•ï¼Œå…·ä½“åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<p>1ã€è£…é¥°å™¨æ¨¡å¼å¼ºè°ƒçš„æ˜¯å¢å¼ºè‡ªèº«ï¼Œåœ¨è¢«è£…é¥°ä¹‹åä½ èƒ½å¤Ÿåœ¨è¢«å¢å¼ºçš„ç±»ä¸Šä½¿ç”¨å¢å¼ºåçš„åŠŸèƒ½ã€‚å¢å¼ºåä½ è¿˜æ˜¯ä½ ï¼Œåªä¸è¿‡èƒ½åŠ›æ›´å¼ºäº†è€Œå·²ï¼›ä»£ç†æ¨¡å¼å¼ºè°ƒè¦è®©åˆ«äººå¸®ä½ å»åšä¸€äº›æœ¬èº«ä¸ä½ ä¸šåŠ¡æ²¡æœ‰å¤ªå¤šå…³ç³»çš„èŒè´£ï¼ˆè®°å½•æ—¥å¿—ã€è®¾ç½®ç¼“å­˜ï¼‰ã€‚ä»£ç†æ¨¡å¼æ˜¯ä¸ºäº†å®ç°å¯¹è±¡çš„æ§åˆ¶ï¼Œå› ä¸ºè¢«ä»£ç†çš„å¯¹è±¡å¾€å¾€éš¾ä»¥ç›´æ¥è·å¾—æˆ–è€…æ˜¯å…¶å†…éƒ¨ä¸æƒ³æš´éœ²å‡ºæ¥ã€‚</p>
<p>2ã€è£…é¥°æ¨¡å¼æ˜¯ä»¥å¯¹å®¢æˆ·ç«¯é€æ˜çš„æ–¹å¼æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½ï¼Œæ˜¯ç»§æ‰¿æ–¹æ¡ˆçš„ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆï¼›ä»£ç†æ¨¡å¼åˆ™æ˜¯ç»™ä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ¥æ§åˆ¶å¯¹åŸæœ‰å¯¹è±¡çš„å¼•ç”¨ï¼›</p>
<p>3ã€è£…é¥°æ¨¡å¼æ˜¯ä¸ºè£…é¥°çš„å¯¹è±¡å¢å¼ºåŠŸèƒ½ï¼›è€Œä»£ç†æ¨¡å¼å¯¹ä»£ç†çš„å¯¹è±¡æ–½åŠ æ§åˆ¶ï¼Œä½†ä¸å¯¹å¯¹è±¡æœ¬èº«çš„åŠŸèƒ½è¿›è¡Œå¢å¼ºï¼›</p>
</blockquote>
<h2 id="72-å®ç°-é™æ€ä»£ç†">7.2 å®ç° (é™æ€ä»£ç†)
</h2><p>ä»£ç†æ¨¡å¼é€šè¿‡å°è£…ä¸€ä¸ªå·²æœ‰çš„æ¥å£, å¹¶å‘è°ƒç”¨æ”¾è¿”å›ç›¸åŒçš„æ¥å£ç±»å‹, èƒ½åœ¨è°ƒç”¨æ”¾ä¸æ”¹å˜ä»£ç çš„å‰æä¸‹ å¢å¼ºåŠŸèƒ½(é‰´æƒ, å»¶è¿ŸåŠ è½½, è¿æ¥æ± å¤ç”¨)</p>
<p>==è¦æ±‚è°ƒç”¨æ–¹æŒæœ‰æ¥å£, ä½œä¸º Proxyçš„ç±» ä¹Ÿå¿…é¡»å®ç°ç›¸åŒçš„æ¥å£==</p>
<p>æ­¥éª¤</p>
<ol>
<li>ä»£ç†ç±»å’Œç›®æ ‡ç±»å®ç°åŒä¸€ä¸ªæ¥å£</li>
<li>ä»£ç†ç±»ä¸­é™¤äº†è¦è°ƒç”¨ç›®æ ‡ç±»çš„æ–¹æ³•å®ç°ä¸šåŠ¡é€»è¾‘, è¿˜è¦å®ç°é¢å¤–çš„åŠŸèƒ½</li>
</ol>
<p>æ¥å£</p>
<pre><code class="language-java">public interface Sourceable{
	void method;
}

</code></pre>
<p>è¢«ä»£ç†æ–¹æ³•</p>
<pre><code class="language-java">public class Source implements Sourceable{
	@Override
	public void method(){
  		sout(&quot;111&quot;)';
	}
}

</code></pre>
<p>ä»£ç†</p>
<pre><code class="language-java">public class Proxy implemts Sourcealble {
	private Source source;
	
	public Proxy(){
		super();
		this.source = new source();
	}

	@Override
	public void method(){
		sout(&quot;befor&quot;);
		source.method();
	}

}

</code></pre>
<h2 id="73-å®ç°-åŠ¨æ€ä»£ç†">7.3 å®ç° (åŠ¨æ€ä»£ç†)
</h2><p>åŠ¨æ€ä»£ç†: åŠ¨æ€çš„ä¸ºç›®æ ‡ç±»åˆ›å»ºä»£ç†ç±»</p>
<h3 id="1-å¼•å…¥ä¾èµ–">1. å¼•å…¥ä¾èµ–
</h3><pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
    &lt;version&gt;5.2.16.RELEASE&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
    &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;
    &lt;version&gt;1.9.5&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;
    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;
    &lt;version&gt;1.9.5&lt;/version&gt;
&lt;/dependency

</code></pre>
<blockquote>
<h3 id="aspectj">AspectJ
</h3><p>AspectJ æ˜¯ä¸€ä¸ªåŸºäº Java è¯­è¨€çš„ AOP æ¡†æ¶ï¼Œæä¾›äº†å¼ºå¤§çš„ AOP åŠŸèƒ½ï¼Œå…¶ä»–å¾ˆå¤š AOP æ¡†æ¶éƒ½å€Ÿé‰´æˆ–é‡‡çº³å…¶ä¸­çš„ä¸€äº›æ€æƒ³ã€‚</p>
<p>AspectJ æ˜¯ Java è¯­è¨€çš„ä¸€ä¸ª AOP å®ç°ï¼Œå…¶ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼šç¬¬ä¸€ä¸ªéƒ¨åˆ†å®šä¹‰äº†å¦‚ä½•è¡¨è¾¾ã€å®šä¹‰ AOP ç¼–ç¨‹ä¸­çš„è¯­æ³•è§„èŒƒï¼Œé€šè¿‡è¿™å¥—è¯­è¨€è§„èŒƒï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°ç”¨ AOP æ¥è§£å†³ Java è¯­è¨€ä¸­å­˜åœ¨çš„äº¤å‰å…³æ³¨ç‚¹é—®é¢˜ï¼›å¦ä¸€ä¸ªéƒ¨åˆ†æ˜¯å·¥å…·éƒ¨åˆ†ï¼ŒåŒ…æ‹¬ç¼–è¯‘å™¨ã€è°ƒè¯•å·¥å…·ç­‰ã€‚</p>
<p>AspectJ æ˜¯æœ€æ—©ã€åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§çš„ AOP å®ç°ä¹‹ä¸€ï¼Œå¯¹æ•´å¥— AOP æœºåˆ¶éƒ½æœ‰è¾ƒå¥½çš„å®ç°ï¼Œå¾ˆå¤šå…¶ä»–è¯­è¨€çš„ AOP å®ç°ï¼Œä¹Ÿå€Ÿé‰´æˆ–é‡‡çº³äº† AspectJ ä¸­å¾ˆå¤šè®¾è®¡ã€‚åœ¨ Java é¢†åŸŸï¼ŒAspectJ ä¸­çš„å¾ˆå¤šè¯­æ³•ç»“æ„åŸºæœ¬ä¸Šå·²æˆä¸º AOP é¢†åŸŸçš„æ ‡å‡†ã€‚</p>
</blockquote>
<h3 id="2-åˆ›å»ºæ¥å£-å’Œ-å®ç°ç±»">2. åˆ›å»ºæ¥å£ å’Œ å®ç°ç±»
</h3><p>æ¥å£</p>
<pre><code class="language-java">public interface CalculateService {
    // åŠ æ³•
    int add(int a,int b);
    // å‡æ³•
    int sub(int a,int b);
}

</code></pre>
<p>å®ç°ç±»(ç›®æ ‡ç±»)</p>
<pre><code class="language-java">@Service
public class CalculateServiceImpl implements CalculateService {
     @Override
    public int add(int a, int b) {
        int result = a + b;
        System.out.println(&quot;åŠ æ³•æ“ä½œã€‚ã€‚ã€‚&quot;);
        return result;
    }

    @Override
    public int sub(int a, int b) {
        int result = a - b;
        System.out.println(&quot;å‡æ³•æ“ä½œã€‚ã€‚ã€‚&quot;);
        return result;
    }
}

</code></pre>
<h1 id="8-å¤–è§‚æ¨¡å¼-facade-é—¨é¢">8. å¤–è§‚æ¨¡å¼ Facade (é—¨é¢)
</h1><h2 id="81-æ¦‚è¿°">8.1 æ¦‚è¿°
</h2><p>ä¸ºäº†è§£å†³ç±»ä¸ç±»ä¹‹é—´çš„ä¾èµ–å…³ç³», å¤–è§‚æ¨¡å¼å°±æ˜¯æŠŠä»–ä»¬çš„å…³ç³»æ”¾åœ¨ä¸€ä¸ªFacedeç±»ä¸­, é™ä½ç±»ç±»ä¹‹é—´çš„è€¦åˆåº¦, è¯¥æ¨¡å¼æ²¡æœ‰æ¶‰åŠåˆ°æ¥å£</p>
<h2 id="82-å®ç°">8.2 å®ç°
</h2><h3 id="1-æ•°æ®åº“è¿æ¥">1. æ•°æ®åº“è¿æ¥
</h3><blockquote>
<p>Facadeæ¨¡å¼çš„ä¸€ä¸ªå…¸å‹åº”ç”¨å°±æ˜¯è¿›è¡Œæ•°æ®åº“è¿æ¥ã€‚ä¸€èˆ¬æˆ‘ä»¬åœ¨æ¯ä¸€æ¬¡å¯¹æ•°æ®åº“è¿›è¡Œè®¿é—®ï¼Œéƒ½è¦è¿›è¡Œä»¥ä¸‹æ“ä½œï¼šå…ˆå¾—åˆ°connectå®ä¾‹ï¼Œç„¶åæ‰“å¼€connectè·å¾—è¿æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªstatement,.æ‰§è¡Œsqlè¯­å¥è¿›è¡ŒæŸ¥è¯¢ï¼Œå¾—åˆ°æŸ¥è¯¢ç»“æœé›†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†è¿™äº›æ­¥éª¤æå–å‡ºæ¥ï¼Œå°è£…åœ¨ä¸€ä¸ªç±»é‡Œé¢ã€‚è¿™æ ·ï¼Œæ¯æ¬¡æ‰§è¡Œæ•°æ®åº“è®¿é—®åªéœ€è¦
å°†å¿…è¦çš„å‚æ•°ä¼ é€’åˆ°è¿™ä¸ªç±»ä¸­å°±å¯ä»¥äº†ã€‚</p>
</blockquote>
<h3 id="2-ç»„è£…ç”µè„‘">2. ç»„è£…ç”µè„‘
</h3><ol>
<li>cpu ç±»</li>
</ol>
<pre><code class="language-java">public void Cpu {
	
 public void startup() {
 	sout(&quot;&quot;)
 };
	
 public void shutdown() {
 	sout(&quot;&quot;);
 }
	
}

</code></pre>
<ol start="2">
<li>
<p>memory ç±»</p>
</li>
<li>
<p>disk ç±»</p>
</li>
<li>
<p>computer è¿›è¡Œç»Ÿä¸€ç®¡ç†</p>
</li>
</ol>
<pre><code class="language-java">public void Computer {
	private Cpu cpu;
	pirvate Memory memory;
	private Disk disk;
	
	public Computer (){
		cpu = new Cpu();
		memory = new Memory();
		disk = new Disk();
	}
	
	public void startup (){
		sout();
		cpu.startup();
		memory.startup();
		disk.startup();
	}
	
	public void shutdown() {
		sout();
		cpu.shutdown();
		memory.shutdown();
		disk.shutdown();
	}
}

</code></pre>
<h1 id="9-æ¡¥æ¥æ¨¡å¼">9. æ¡¥æ¥æ¨¡å¼
</h1><h2 id="91-æ¦‚è¿°">9.1 æ¦‚è¿°
</h2><blockquote>
<p>æ¡¥æ¥æ¨¡å¼å°±æ˜¯æŠŠäº‹ç‰©å’Œå…¶å…·ä½“å®ç°åˆ†å¼€ï¼Œä½¿ä»–ä»¬å¯ä»¥å„è‡ªç‹¬ç«‹çš„å˜åŒ–ã€‚æ¡¥æ¥çš„ç”¨æ„æ˜¯ï¼š<strong>å°†æŠ½è±¡åŒ–ä¸å®ç°åŒ–è§£è€¦ï¼Œä½¿å¾—äºŒè€…å¯ä»¥ç‹¬ç«‹å˜åŒ–</strong>ï¼Œåƒæˆ‘ä»¬å¸¸ç”¨çš„JDBCæ¡¥DriverManagerä¸€æ ·ï¼ŒJDBCè¿›è¡Œè¿æ¥æ•°æ®åº“çš„æ—¶å€™ï¼Œåœ¨å„ä¸ªæ•°æ®åº“ä¹‹é—´è¿›è¡Œåˆ‡æ¢ï¼ŒåŸºæœ¬ä¸éœ€è¦åŠ¨å¤ªå¤šçš„ä»£ç ï¼Œç”šè‡³ä¸æ¯«ä¸ç”¨åŠ¨ï¼ŒåŸå› å°±æ˜¯JDBCæä¾›ç»Ÿä¸€æ¥å£ï¼Œæ¯ä¸ªæ•°æ®åº“æä¾›å„è‡ªçš„å®ç°ï¼Œç”¨ä¸€ä¸ªå«åšæ•°æ®åº“é©±åŠ¨çš„ç¨‹åºæ¥æ¡¥æ¥å°±è¡Œäº†</p>
</blockquote>
<p>å°†æŠ½è±¡éƒ¨åˆ†å’Œå®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦», ä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹çš„å˜åŒ–;</p>
<p>ä¸‰ä¸ªå“ç‰Œçš„æ±½è½¦, éƒ½ç”Ÿäº§å¯ä»¥ç‡ƒæ²¹, æ··åŠ¨, çº¯ç”µ æ±½è½¦, æ­¤æ—¶æ–°å¢äº†ç¬¬å››ç§å“ç‰Œä¹‹å, éƒ½ä¼šå¯¼è‡´å­ç±»çš„æ•°é‡å¿«é€Ÿå¢é•¿</p>
<h3 id="910-jdbc-è¿æ¥æ•°æ®åº“">9.1.0 JDBC è¿æ¥æ•°æ®åº“
</h3><p><img src="/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/images/JDBC%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%28%E6%A1%A5%E6%8E%A5%29.png"
	width="607"
	height="191"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="317"
		data-flex-basis="762px"
	
></p>
<h3 id="911-ä½¿ç”¨åœºæ™¯">9.1.1 ä½¿ç”¨åœºæ™¯
</h3><blockquote>
<p>æ¡¥æ¥æ¨¡å¼å®ç°æ¯”è¾ƒå¤æ‚ï¼Œå®é™…åº”ç”¨ä¹Ÿéå¸¸å°‘ï¼Œ==ä½†å®ƒæä¾›çš„è®¾è®¡æ€æƒ³å€¼å¾—å€Ÿé‰´==ï¼Œå³ä¸è¦è¿‡åº¦ä½¿ç”¨ç»§æ‰¿ï¼Œè€Œæ˜¯==ä¼˜å…ˆæ‹†åˆ†æŸäº›éƒ¨ä»¶==ï¼Œä½¿ç”¨==ç»„åˆçš„æ–¹å¼==æ¥æ‰©å±•åŠŸèƒ½ã€‚</p>
</blockquote>
<p><img src="/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/images/%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F.png"
	width="492"
	height="315"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="156"
		data-flex-basis="374px"
	
></p>
<h2 id="92-å®ç°">9.2 å®ç°
</h2><ol>
<li>Car æŠ½è±¡ç±», æ‹¥æœ‰åŸºç¡€çš„å±æ€§å’Œæ–¹æ³•; å¼•ç”¨å¼•æ“engine</li>
</ol>
<pre><code class="language-java">public abstract class Car {
    // å¼•ç”¨Engine:
    protected Engine engine;

    public Car(Engine engine) {
        this.engine = engine;
    }

    public abstract void drive();
}

</code></pre>
<ol start="2">
<li>engine æ˜¯ä¸€ä¸ªæ¥å£;</li>
</ol>
<pre><code class="language-java">public interface Engine {
    void start();
}

</code></pre>
<ol start="3">
<li>ä¸åŒçš„å¼•æ“å®ç° engine</li>
</ol>
<pre><code class="language-java">public class HybridEngine implements Engine {
    public void start() {
        System.out.println(&quot;Start Hybrid Engine...&quot;);
    }
}

</code></pre>
<ol start="4">
<li>ä¸€ä¸ªä¿®æ­£çš„æŠ½è±¡ç±» RefinedCar , å®šä¹‰é¢å¤–çš„æ–¹æ³•, æ±½è½¦å“ç‰Œ</li>
</ol>
<pre><code class="language-java">public abstract class RefinedCar extends Car {
    public RefinedCar(Engine engine) {
        super(engine);
    }

    public void drive() {
        this.engine.start();
        System.out.println(&quot;Drive &quot; + getBrand() + &quot; car...&quot;);
    }

    public abstract String getBrand();
}

</code></pre>
<ol start="5">
<li>ä¸åŒçš„å“ç‰Œæ±½è½¦ç»§æ‰¿è‡ª ä¿®æ­£ç±»</li>
</ol>
<pre><code class="language-java">public class BossCar extends RefinedCar {
    public BossCar(Engine engine) {
        super(engine);
    }

    public String getBrand() {
        return &quot;Boss&quot;;
    }
}

</code></pre>
<ol start="6">
<li>é€‰æ‹©å“ç‰Œ, å’Œå¼•æ“ å¾—åˆ°Car  ==å³ä¸€è¾†æ±½è½¦çš„ä¸¤ä¸ªç»´åº¦ï¼šå“ç‰Œå’Œå¼•æ“éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚==</li>
</ol>
<pre><code class="language-java">RefinedCar car = new BossCar(new HybridEngine());
car.drive();

</code></pre>
<h1 id="10--ç»„åˆæ¨¡å¼-composite">10.  ç»„åˆæ¨¡å¼ Composite
</h1><p><img src="/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/images/%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F.png"
	width="416"
	height="171"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="243"
		data-flex-basis="583px"
	
></p>
<p>==ä½¿ç”¨Compositeæ¨¡å¼æ—¶ï¼Œéœ€è¦å…ˆç»Ÿä¸€å•ä¸ªèŠ‚ç‚¹ä»¥åŠâ€œå®¹å™¨â€èŠ‚ç‚¹çš„æ¥å£==</p>
<p>==ä½œä¸ºå®¹å™¨èŠ‚ç‚¹çš„<code>ElementNode</code>åˆå¯ä»¥æ·»åŠ ä»»æ„ä¸ª<code>Node</code>ï¼Œè¿™æ ·å°±å¯ä»¥æ„æˆå±‚çº§ç»“æ„==</p>
<h1 id="11-äº«å…ƒæ¨¡å¼-flyweight">11. äº«å…ƒæ¨¡å¼ Flyweight
</h1><h2 id="1111-æ¦‚è¿°">11.1.1 æ¦‚è¿°
</h2><p>ä¸»è¦ç›®çš„æ˜¯å®ç°å¯¹è±¡çš„å…±äº« , å‡å°‘å†…å­˜çš„å¼€é”€, ==é€šå¸¸å’Œå·¥å‚æ¨¡å¼ä¸€èµ·ä½¿ç”¨, å·¥å‚å†…éƒ¨è¿”å›çš„æ˜¯ç¼“å­˜çš„å®ä¾‹==;</p>
<p>æ€æƒ³æ˜¯: å¦‚æœä¸€ä¸ªå¯¹è±¡å®ä¾‹ä¸€ç»åˆ›å»ºå°±ä¸å¯å˜, é‚£ä¹ˆåå¤åˆ›å»ºç›¸åŒçš„å®ä¾‹å°±æ˜¯ éå¿…è¦çš„, ç›´æ¥å‘è°ƒç”¨æ–¹è¿”å›ä¸€ä¸ªå…±äº«çš„å®ä¾‹</p>
<blockquote>
<p>ä½ è¦å…ˆç†è§£åˆ›å»ºå®ä¾‹å’Œå®ä¾‹å˜åŒ–çš„åŒºåˆ«ï¼š</p>
<pre><code>åˆ›å»ºå®ä¾‹ï¼švar s = new StringBuilder();
å®ä¾‹å˜åŒ–ï¼šs.append(&quot;changed&quot;);
å®ä¾‹ä¸èƒ½å˜åŒ–ï¼šString s = &quot;cannot-change&quot;;
å•ä¾‹ä¸æ˜¯ä¸å˜ï¼Œæ˜¯ä¸å…è®¸åˆ›å»ºæ–°å®ä¾‹ã€‚

</code></pre>
<p>==äº«å…ƒè¦æ±‚å®ä¾‹ä¸å˜ï¼Œæ‰€ä»¥æ‰èƒ½æŠŠâ€œåº”è¯¥åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹â€çš„æ“ä½œç»™ä¼˜åŒ–æˆâ€œç›´æ¥è¿”å›ä¸€ä¸ªç¼“å­˜çš„å®ä¾‹â€==</p>
</blockquote>
<h2 id="1112-åŒ…è£…ç±»">11.1.2 åŒ…è£…ç±»
</h2><blockquote>
<p>åŒ…è£…ç±»å‹å¦‚<code>Byte</code>ã€<code>Integer</code>éƒ½æ˜¯ä¸å˜ç±»ï¼Œå› æ­¤ï¼Œåå¤åˆ›å»ºåŒä¸€ä¸ªå€¼ç›¸åŒçš„åŒ…è£…ç±»å‹æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚ä»¥<code>Integer</code>ä¸ºä¾‹ï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡<code>Integer.valueOf()</code>è¿™ä¸ªé™æ€å·¥å‚æ–¹æ³•åˆ›å»º<code>Integer</code>å®ä¾‹ï¼Œå½“ä¼ å…¥çš„<code>int</code>èŒƒå›´åœ¨<code>-128</code>~<code>+127</code>ä¹‹é—´æ—¶ï¼Œä¼šç›´æ¥è¿”å›ç¼“å­˜çš„<code>Integer</code>å®ä¾‹ï¼š</p>
</blockquote>
<h2 id="112--å®ç°">11.2  å®ç°
</h2><p>==ä¸»è¦åº”ç”¨äºç¼“å­˜==</p>
<pre><code>public class Student {
    // æŒæœ‰ç¼“å­˜:
    private static final Map&lt;String, Student&gt; cache = new HashMap&lt;&gt;();

    // é™æ€å·¥å‚æ–¹æ³•:
    public static Student create(int id, String name) {
        String key = id + &quot;\n&quot; + name;
        // å…ˆæŸ¥æ‰¾ç¼“å­˜:
        Student std = cache.get(key);
        if (std == null) {
            // æœªæ‰¾åˆ°,åˆ›å»ºæ–°å¯¹è±¡:
            System.out.println(String.format(&quot;create new Student(%s, %s)&quot;, id, name));
            std = new Student(id, name);
            // æ”¾å…¥ç¼“å­˜:
            cache.put(key, std);
        } else {
            // ç¼“å­˜ä¸­å­˜åœ¨:
            System.out.println(String.format(&quot;return cached Student(%s, %s)&quot;, std.id, std.name));
        }
        return std;
    }

    private final int id;
    private final String name;

    public Student(int id, String name) {
        this.id = id;
        this.name = name;
    }
}

</code></pre>
<h1 id="12-ç­–ç•¥æ¨¡å¼-category">12. ç­–ç•¥æ¨¡å¼ Category
</h1><p>æ ¸å¿ƒæ€æƒ³: åœ¨ä¸€ä¸ªè®¡ç®—æ–¹æ³•ä¸­æŠŠç»Ÿä¸€å˜åŒ–çš„ç®—æ³•æŠ½å‡ºæ¥ ä½œä¸º<code>ç­–ç•¥</code>å‚æ•°ä¼ è¿›å», ä»è€Œä½¿å¾—æ–°å¢ç­–ç•¥ä¸å¿…ä¿®æ”¹åŸæœ‰é€»è¾‘;</p>
<h2 id="121-æ¦‚è¿°">12.1 æ¦‚è¿°
</h2><p>åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œæµç¨‹æ˜¯ç¡®å®šçš„ï¼Œä½†æ˜¯ï¼ŒæŸäº›å…³é”®æ­¥éª¤çš„ç®—æ³•ä¾èµ–è°ƒç”¨æ–¹ä¼ å…¥çš„ç­–ç•¥ï¼Œè¿™æ ·ï¼Œä¼ å…¥ä¸åŒçš„ç­–ç•¥ï¼Œå³å¯è·å¾—ä¸åŒçš„ç»“æœï¼Œå¤§å¤§å¢å¼ºäº†ç³»ç»Ÿçš„çµæ´»æ€§ã€‚</p>
<h2 id="122-å®ç°">12.2 å®ç°
</h2><ol>
<li>
<p>ä¸€ä¸ªæŠ˜æ‰£æ¥å£</p>
<ul>
<li>
<pre><code class="language-java">public interface DiscountStrategy {
    // è®¡ç®—æŠ˜æ‰£é¢åº¦:
    BigDecimal getDiscount(BigDecimal total);
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>ä¸¤ä¸ªå®ç°ç±»</p>
<ul>
<li>
<p>æ™®é€šç”¨æˆ·æŠ˜æ‰£</p>
<ul>
<li>
<pre><code class="language-java">public class UserDiscountStrategy implements DiscountStrategy {
    public BigDecimal getDiscount(BigDecimal total) {
        // æ™®é€šä¼šå‘˜æ‰“ä¹æŠ˜:
        return total.multiply(new BigDecimal(&quot;0.1&quot;)).setScale(2, RoundingMode.DOWN);
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>æ»¡å‡</p>
<ul>
<li>
<pre><code class="language-java">public class OverDiscountStrategy implements DiscountStrategy {
    public BigDecimal getDiscount(BigDecimal total) {
        // æ»¡100å‡20ä¼˜æƒ :
        return total.compareTo(BigDecimal.valueOf(100)) &gt;= 0 ? BigDecimal.valueOf(20) : BigDecimal.ZERO;
    }
}

</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>æŠ˜æ‰£ç±» (åº”ç”¨ç­–ç•¥) æœ¬èº«æŒæœ‰é»˜è®¤çš„æ™®é€šç”¨æˆ·æŠ˜æ‰£ç­–ç•¥</p>
<ul>
<li>
<pre><code class="language-java">public class DiscountContext {
    // æŒæœ‰æŸä¸ªç­–ç•¥:
    private DiscountStrategy strategy = new UserDiscountStrategy();

    // å…è®¸å®¢æˆ·ç«¯è®¾ç½®æ–°ç­–ç•¥:
    public void setStrategy(DiscountStrategy strategy) {
        this.strategy = strategy;
    }

    public BigDecimal calculatePrice(BigDecimal total) {
        return total.subtract(this.strategy.getDiscount(total)).setScale(2);
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>è°ƒç”¨</p>
<ul>
<li>
<pre><code class="language-java">DiscountContext ctx = new DiscountContext();

// é»˜è®¤ä½¿ç”¨æ™®é€šä¼šå‘˜æŠ˜æ‰£:
BigDecimal pay1 = ctx.calculatePrice(BigDecimal.valueOf(105));
System.out.println(pay1);

// ä½¿ç”¨æ»¡å‡æŠ˜æ‰£:
ctx.setStrategy(new OverDiscountStrategy());
BigDecimal pay2 = ctx.calculatePrice(BigDecimal.valueOf(105));
System.out.println(pay2);

// ä½¿ç”¨Primeä¼šå‘˜æŠ˜æ‰£:
ctx.setStrategy(new PrimeDiscountStrategy());
BigDecimal pay3 = ctx.calculatePrice(BigDecimal.valueOf(105));
System.out.println(pay3);

</code></pre>
</li>
</ul>
</li>
</ol>
<h1 id="13-æ¨¡æ¿æ–¹æ³•-template-method">13. æ¨¡æ¿æ–¹æ³• Template Method
</h1><blockquote>
<p>å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶, è€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å», ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å°±å¯ä»¥é‡æ–°å®šä¹‰æ”¹ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤</p>
</blockquote>
<h2 id="131-æ¦‚è¿°">13.1 æ¦‚è¿°
</h2><p>ä¸ºäº†é˜²æ­¢å­ç±»é‡å†™çˆ¶ç±»çš„éª¨æ¶æ–¹æ³•ï¼Œå¯ä»¥åœ¨çˆ¶ç±»ä¸­å¯¹éª¨æ¶æ–¹æ³•ä½¿ç”¨==<code>final</code>==ã€‚å¯¹äºéœ€è¦å­ç±»å®ç°çš„æŠ½è±¡æ–¹æ³•ï¼Œä¸€èˆ¬==å£°æ˜ä¸º<code>protected</code>==ï¼Œä½¿å¾—è¿™äº›æ–¹æ³•å¯¹å¤–éƒ¨å®¢æˆ·ç«¯ä¸å¯è§ã€‚</p>
<p>Javaæ ‡å‡†åº“ä¹Ÿæœ‰å¾ˆå¤šæ¨¡æ¿æ–¹æ³•çš„åº”ç”¨ã€‚åœ¨é›†åˆç±»ä¸­ï¼Œ<code>AbstractList</code>å’Œ<code>AbstractQueuedSynchronizer</code>éƒ½å®šä¹‰äº†å¾ˆå¤šé€šç”¨æ“ä½œï¼Œå­ç±»åªéœ€è¦å®ç°æŸäº›å¿…è¦æ–¹æ³•ã€‚</p>
<h2 id="132-å®ç°">13.2 å®ç°
</h2><p>æŠ½è±¡çˆ¶ç±»,  ç”¨æŠ½è±¡æ–¹æ³•è®©å­ç±»å»å®ç°</p>
<ol>
<li>
<p>è¯»å–è®¾ç½®çš„ç±»</p>
<ul>
<li>
<pre><code class="language-java">public abstract class AbstractSetting {
    public final String getSetting(String key) {
        String value = lookupCache(key);
        if (value == null) {
            value = readFromDatabase(key);
            putIntoCache(key, value);
        }
        return value;
    }

    protected abstract String lookupCache(String key);

    protected abstract void putIntoCache(String key, String value);
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>å¯ä»¥é€‰æ‹©ä½¿ç”¨ä¸åŒçš„ç¼“å­˜</p>
<ul>
<li>
<p>ç”¨Mapç¼“å­˜</p>
<ul>
<li>
<pre><code class="language-java">public class LocalSetting extends AbstractSetting {
    private Map&lt;String, String&gt; cache = new HashMap&lt;&gt;();

    protected String lookupCache(String key) {
        return cache.get(key);
    }

    protected void putIntoCache(String key, String value) {
        cache.put(key, value);
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>ç”¨Redisç¼“å­˜</p>
<ul>
<li>
<pre><code class="language-java">public class RedisSetting extends AbstractSetting {
    private RedisClient client = RedisClient.create(&quot;redis://localhost:6379&quot;);

    protected String lookupCache(String key) {
        try (StatefulRedisConnection&lt;String, String&gt; connection = client.connect()) {
            RedisCommands&lt;String, String&gt; commands = connection.sync();
            return commands.get(key);
        }
    }

    protected void putIntoCache(String key, String value) {
        try (StatefulRedisConnection&lt;String, String&gt; connection = client.connect()) {
            RedisCommands&lt;String, String&gt; commands = connection.sync();
            commands.set(key, value);
        }
    }
}

</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨ (é€šè¿‡è°ƒç”¨æŠ½è±¡ç±», å®ç°å¯¹å­ç±»çš„è°ƒç”¨)</p>
<ul>
<li>
<p>æœ¬åœ°ç¼“å­˜</p>
<pre><code class="language-java">AbstractSetting setting1 = new LocalSetting();
System.out.println(&quot;test = &quot; + setting1.getSetting(&quot;test&quot;));
System.out.println(&quot;test = &quot; + setting1.getSetting(&quot;test&quot;));

</code></pre>
</li>
<li>
<p>redis ç¼“å­˜</p>
<pre><code>AbstractSetting setting2 = new RedisSetting();
System.out.println(&quot;autosave = &quot; + setting2.getSetting(&quot;autosave&quot;));
System.out.println(&quot;autosave = &quot; + setting2.getSetting(&quot;autosave&quot;));

</code></pre>
</li>
</ul>
</li>
</ol>
<h1 id="14-è§‚å¯Ÿè€…æ¨¡å¼-observer">14. è§‚å¯Ÿè€…æ¨¡å¼ Observer
</h1><h2 id="141-æ¦‚è¿°">14.1 æ¦‚è¿°
</h2><p>å½“ä¸€ä¸ªå¯¹è±¡å˜åŒ–æ˜¯, å…¶ä»–ä¾èµ–è¯¥å¯¹è±¡çš„å¯¹è±¡éƒ½ä¼šæ”¶åˆ°é€šçŸ¥,å¹¶ä¸”éšä¹‹å˜åŒ–, è¿™æ˜¯ä¸€ç§==ä¸€å¯¹å¤šçš„æ–¹å¼==; ç±»ä¼¼äºå‘å¸ƒè®¢é˜…</p>
<p>==å®šä¹‰äº†ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³», è®©å¤šä¸ªå¯¹è±¡èƒ½å¤ŸåŒæ—¶ç›‘å¬ä¸€ä¸ªä¸»é¢˜å¯¹è±¡, å¦‚æœè¿™ä¸ªä¸»é¢˜å¯¹è±¡å‘ç”Ÿäº†å˜åŒ–, ä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…å¯¹è±¡==</p>
<p>å¥½å¤„: ä¸»é¢˜å¯¹è±¡å’Œè§‚å¯Ÿè€…ä¹‹é—´é™ä½è€¦åˆ</p>
<h2 id="142-å®ç°">14.2 å®ç°
</h2><ol>
<li>
<p>è§‚å¯Ÿæ¥å£</p>
<pre><code class="language-java">public interface Observer {

    void update();
}

</code></pre>
</li>
<li>
<p>è§‚å¯Ÿç±»</p>
<ul>
<li>
<p>ä¸¤ä¸ªè§‚å¯Ÿç±»</p>
</li>
<li>
<pre><code>public class Observer1 implements Observer {
    @Override
    public void update() {
        System.out.println(&quot;Observer1 update&quot;);
    }
}

</code></pre>
</li>
<li>
<pre><code>public class Observer2 implements Observer {

    @Override
    public void update() {
        System.out.println(&quot;Observer2 update&quot;);
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>è®¢é˜…ç®¡ç†æ¥å£</p>
<ul>
<li>
<pre><code class="language-java">public interface Subject {

    void add(Observer observer);

    void remove(Observer observer);

    void notifyObservers();

    void operation();
}


</code></pre>
</li>
</ul>
</li>
<li>
<p>è®¢é˜…æŠ½è±¡ç±» (==è®°å½•å¹¶ç®¡ç†è®¢é˜…å…³ç³»==, å½“è®¢é˜…å¯¹è±¡æ”¾ç”Ÿå˜åŒ–æ—¶, è´Ÿè´£é€šçŸ¥è®¢é˜…ç±»)</p>
<ul>
<li>
<pre><code class="language-java">public abstract class AbstarctSubject implements Subject {

	// ç”¨æ•°ç»„ç®¡ç†
    private Vector&lt;Observer&gt; vector = new Vector&lt;&gt;();

    @Override
    public void add(Observer observer) {
        vector.add(observer);
    }

    @Override
    public void remove(Observer observer) {
        vector.remove(observer);
    }

	// é€šçŸ¥
    @Override
    public void notifyObservers() {
        Enumeration&lt;Observer&gt; elements = vector.elements();
        while (elements.hasMoreElements()) {
            elements.nextElement().update();
        }
    }

}

</code></pre>
</li>
</ul>
</li>
<li>
<p>å®é™…è®¢é˜…ç±»</p>
<ul>
<li>
<pre><code class="language-java">public class MySubject extends AbstarctSubject {
    @Override
    public void operation() {
        System.out.println(&quot;observer update 11111&quot;);
        notifyObservers();
    }

	// æµ‹è¯•
    public static void main(String[] args) {
        MySubject mySubject = new MySubject();
        mySubject.add(new Observer1());
        mySubject.add(new Observer2());

        mySubject.operation();
    }
}

</code></pre>
</li>
</ul>
</li>
</ol>
<h1 id="15-è¿­ä»£å™¨æ¨¡å¼-iterator">15. è¿­ä»£å™¨æ¨¡å¼ <strong>Iterator</strong>
</h1><h2 id="151-æ¦‚è¿°">15.1 æ¦‚è¿°
</h2><blockquote>
<p>æä¾›ä¸€ä¸ªæ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ , è€Œåˆä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤º;</p>
</blockquote>
<p>åœ¨Javaçš„é›†åˆç±»ä¸­å¹¿æ³›ä½¿ç”¨,  è¿­ä»£æ¨¡å¼ Java å…è®¸ä»»ä½•æ”¯æŒIterator çš„é›†åˆå¯¹è±¡ç”¨foreach å¾ªç¯å†™å‡ºæ¥;</p>
<h2 id="152-å®ç°">15.2 å®ç°
</h2><blockquote>
<ol>
<li>å®ç° Iterable æ¥å£</li>
<li>å†…éƒ¨å®šä¹‰æ•°æ®ç±»å‹</li>
<li>å†…éƒ¨ç±»(å¯ä»¥éšå«çš„æŒæœ‰å®ƒæ‰€åœ¨å¯¹è±¡çš„thiså¼•ç”¨, å³å¯ä»¥é€šè¿‡<code>ReverseArrayCollection.this</code>æ‹¿åˆ°å®ƒæ‰€åœ¨çš„é›†åˆ), è¿”å›ä¸€ä¸ªIterator å¯¹è±¡,(==è¿­ä»£å™¨æ¨¡å¼çš„å…³é”®==)</li>
</ol>
</blockquote>
<pre><code class="language-java">public class ReverseArrayCollection&lt;T&gt; implements Iterable&lt;T&gt; {

    private T[] array;

    @Override
    public Iterator&lt;T&gt; iterator() {
        return new ReverserIterator();
    }


    class ReverserIterator implements Iterator&lt;T&gt;{

        int  index;

        // åˆ›å»ºçš„æ—¶å€™, ç´¢å¼•åœ¨æ•°ç»„æœ«å°¾
        public ReverserIterator() {
            this.index = ReverseArrayCollection.this.array.length;
        }

        @Override
        public boolean hasNext() {
            return index &gt; 0;
        }

        @Override
        public T next() {
            // å°†ç´¢å¼•ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ , å¹¶è¿”å›
            index --;
            return array[index];
        }
    }
}

</code></pre>
<h1 id="16-è´£ä»»é“¾æ¨¡å¼-chain-of-responsibility">16. è´£ä»»é“¾æ¨¡å¼ Chain of Responsibility
</h1><h2 id="161-æ¦‚è¿°">16.1 æ¦‚è¿°
</h2><blockquote>
<p>æ˜¯ä¸€ç§å¤„ç†è¯·æ±‚çš„æ¨¡å¼, å®ƒä¼šè®©å¤šä¸ªå¤„ç†å™¨æœ‰æœºä¼šå¤„ç†è¯¥è¯·æ±‚, ç›´åˆ°è¯¥è¯·æ±‚è¢«å¤„ç†</p>
<p>æœ‰å¤šä¸ªå¯¹è±¡, æ¯ä¸ªå¯¹è±¡éƒ½æŒæœ‰ä¸‹ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨, è¿™æ ·ä¼šå½¢æˆä¸€æ¡é“¾, è¯·æ±‚åœ¨è¿™æ¡é“¾ä¸Šä¼ é€’, ç›´åˆ°æŸä¸€ä¸ªå¯¹è±¡å†³å®šå¤„ç†è¯¥è¯·æ±‚, æ‰€ä»¥å¯ä»¥å®ç°åœ¨ åœ¨éšç’å®¢æˆ·ç«¯</p>
<p>==é“¾æ¥ä¸Šçš„è¯·æ±‚å¯ä»¥æ˜¯ä¸€æ¡é“¾ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ ‘ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªç¯ï¼Œæ¨¡å¼æœ¬èº«ä¸çº¦æŸè¿™ä¸ªï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å»å®ç°ï¼ŒåŒæ—¶ï¼Œåœ¨ä¸€ä¸ªæ—¶åˆ»ï¼Œå‘½ä»¤åªå…è®¸ç”±ä¸€ä¸ªå¯¹è±¡ä¼ ç»™å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸å…è®¸ä¼ ç»™å¤šä¸ªå¯¹è±¡ã€‚==</p>
</blockquote>
<p>==</p>
<p>Servletè§„èŒƒå®šä¹‰çš„<code>Filter</code>å°±æ˜¯ä¸€ç§è´£ä»»é“¾æ¨¡å¼, å®ƒä¸ä½†å…è®¸æ¯ä¸ª<code>Filter</code>éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œè¿˜å…è®¸æ¯ä¸ª<code>Filter</code>å†³å®šæ˜¯å¦å°†è¯·æ±‚â€œæ”¾è¡Œâ€ç»™ä¸‹ä¸€ä¸ª<code>Filter</code>ï¼š</p>
<pre><code class="language-java">public class AuditFilter implements Filter {
    public void doFilter(ServletRequest req, ServletResponse resp, FilterChain chain) throws IOException, ServletException {
        log(req);
        if (check(req)) {
            // æ”¾è¡Œ:
            chain.doFilter(req, resp);
        } else {
            // æ‹’ç»:
            sendError(resp);
        }
    }
}

</code></pre>
<h2 id="162-å®ç°">16.2 å®ç°
</h2><blockquote>
<p>éœ€æ±‚; è´¢åŠ¡å®¡æ‰¹è´£ä»»é“¾  ==é¡ºåºéœ€æ­£ç¡®æ·»åŠ ==</p>
<ul>
<li>Managerï¼šåªèƒ½å®¡æ ¸1000å…ƒä»¥ä¸‹çš„æŠ¥é”€ï¼›</li>
<li>Directorï¼šåªèƒ½å®¡æ ¸10000å…ƒä»¥ä¸‹çš„æŠ¥é”€ï¼›</li>
<li>CEOï¼šå¯ä»¥å®¡æ ¸ä»»æ„é¢åº¦</li>
</ul>
</blockquote>
<ol>
<li>
<p>æŠ½è±¡å‡ºè¯·æ±‚å¯¹è±¡, å°†å®ƒåœ¨è´£ä»»é“¾ä¸Šä¼ é€’</p>
<ul>
<li>
<pre><code class="language-java">public class Request {
    private String name;
    private BigDecimal amount;

    public Request(String name, BigDecimal amount) {
        this.name = name;
        this.amount = amount;
    }

    public String getName() {
        return name;
    }

    public BigDecimal getAmount() {
        return amount;
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>æŠ½è±¡å¤„ç†å™¨</p>
<ul>
<li>
<pre><code>public interface Handler {
    // è¿”å›Boolean.TRUE = æˆåŠŸ
    // è¿”å›Boolean.FALSE = æ‹’ç»
    // è¿”å›null = äº¤ä¸‹ä¸€ä¸ªå¤„ç†
	Boolean process(Request request);
}

</code></pre>
</li>
<li>
<p>ä¾æ¬¡ç¼–å†™å¤„ç†ç±» ManagerHandler, DirectorHandler CEOHandler</p>
<pre><code class="language-java">public class ManagerHandler implements Handler {
    public Boolean process(Request request) {
        // å¦‚æœè¶…è¿‡1000å…ƒï¼Œå¤„ç†ä¸äº†ï¼Œäº¤ä¸‹ä¸€ä¸ªå¤„ç†:
        if (request.getAmount().compareTo(BigDecimal.valueOf(1000)) &gt; 0) {
            return null;
        }
        // å¯¹Bobæœ‰åè§:
        return !request.getName().equalsIgnoreCase(&quot;bob&quot;);
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>é“¾ç®¡ç†å™¨, æŠŠå¤„ç†å™¨ä¸²è”èµ·æ¥, ç»„æˆä¸€æ¡é“¾, å¹¶æä¾›ä¸€ä¸ªç»Ÿä¸€å…¥å£è¿›è¡Œå¤„ç†</p>
<ul>
<li>
<pre><code class="language-java">public class HandlerChain {
    // æŒæœ‰æ‰€æœ‰Handler:
    private List&lt;Handler&gt; handlers = new ArrayList&lt;&gt;();

    public void addHandler(Handler handler) {
        this.handlers.add(handler);
    }

    public boolean process(Request request) {
        // ä¾æ¬¡è°ƒç”¨æ¯ä¸ªHandler:
        for (Handler handler : handlers) {
            Boolean r = handler.process(request);
            if (r != null) {
                // å¦‚æœè¿”å›TRUEæˆ–FALSEï¼Œå¤„ç†ç»“æŸ:
                System.out.println(request + &quot; &quot; + (r ? &quot;Approved by &quot; : &quot;Denied by &quot;) + handler.getClass().getSimpleName());
                return r;
            }
        }
        throw new RuntimeException(&quot;Could not handle request: &quot; + request);
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>test</p>
<ul>
<li>
<pre><code class="language-java">// æ„é€ è´£ä»»é“¾:
HandlerChain chain = new HandlerChain();
chain.addHandler(new ManagerHandler());
chain.addHandler(new DirectorHandler());
chain.addHandler(new CEOHandler());
// å¤„ç†è¯·æ±‚:
chain.process(new Request(&quot;Bob&quot;, new BigDecimal(&quot;123.45&quot;)));
chain.process(new Request(&quot;Alice&quot;, new BigDecimal(&quot;1234.56&quot;)));
chain.process(new Request(&quot;Bill&quot;, new BigDecimal(&quot;12345.67&quot;)));
chain.process(new Request(&quot;John&quot;, new BigDecimal(&quot;123456.78&quot;)));

</code></pre>
</li>
</ul>
</li>
</ol>
<h1 id="18-å‘½ä»¤æ¨¡å¼-command">18. å‘½ä»¤æ¨¡å¼ Command
</h1><h2 id="181-æ¦‚è¿°">18.1 æ¦‚è¿°
</h2><blockquote>
<p>å°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡,ä»è€Œä½¿ä½ å¯ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–;</p>
<p>ç›®çš„å°±æ˜¯è¾¾åˆ°å‘½ä»¤çš„å‘å‡ºè€…å’Œæ‰§è¡Œè€…ä¹‹é—´è§£è€¦, å®ç°è¯·æ±‚å’Œæ‰§è¡Œåˆ†å¼€</p>
</blockquote>
<p><img src="/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/images/%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F.png"
	width="603"
	height="233"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="258"
		data-flex-basis="621px"
	
></p>
<h2 id="182-å®ç°">18.2 å®ç°
</h2><ol>
<li>
<p>å‘½ä»¤æ¥å£</p>
<ul>
<li>
<pre><code class="language-java">public void Command {
	void exe();
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>å‘½ä»¤ç±»</p>
<ul>
<li>
<pre><code class="language-java">public class MyCommand implements Command {
	private Receiver receiver;

	public MyCommand(Receiver receiver) {
		this.receiver = receiver;
	}

	@Override
	public void exe() {
		receiver.action();
	}
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>è¢«è°ƒç”¨è€…</p>
<ul>
<li>
<pre><code class="language-java">publicclass Receiver {
	public void action(){
		sout(&quot;command received&quot;);
	}
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>è°ƒç”¨æ–¹</p>
<ul>
<li>
<pre><code class="language-java">public class Invoker {

	private Command command;

	public Invoker (Command command) {
		this.command = command;
	}

	public void action (){
		command.exe();
	}
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨è¿‡ç¨‹</p>
<ul>
<li>
<pre><code class="language-java">public static void main(String[] args) {
        Receiver receiver = new Receiver();
        MyCommand cmd = new MyCommand(receiver);
        Invoker invoker = new Invoker(cmd);
        invoker.action();
    }

</code></pre>
</li>
</ul>
</li>
</ol>
<h1 id="19-å¤‡å¿˜å½•æ¨¡å¼-memento">19. å¤‡å¿˜å½•æ¨¡å¼ Memento
</h1><h2 id="191-æ¦‚è¿°">19.1 æ¦‚è¿°
</h2><blockquote>
<p>ç›®çš„æ˜¯: ä¿å­˜æŸä¸ªå¯¹è±¡çš„æŸç§çŠ¶æ€, ä»¥ä¾¿åœ¨é€‚å½“çš„æ—¶å€™æ¢å¤å¯¹è±¡, å¤‡ä»½æ¨¡å¼</p>
</blockquote>
<p><img src="/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/images/%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F.png"
	width="603"
	height="236"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="255"
		data-flex-basis="613px"
	
></p>
<h2 id="192-å®ç°">19.2 å®ç°
</h2><ol>
<li>
<p>åŸå§‹ç±», è®¾ç½®æ„é€ æ–¹æ³•å’Œ å­˜å‚¨å­—æ®µçš„get,set æ–¹æ³•, ä»¥åŠè®¾ç½®å­˜å‚¨å¤‡å¿˜å½•å’Œæ¢å¤å¤‡å¿˜å½•çš„æ–¹æ³•</p>
<ul>
<li>
<pre><code class="language-java">public class Original {

    private String value;

    public String getValue() {
        return value;
    }

    public void setValue(String value) {
        this.value = value;
    }

    public Original(String value) {
        this.value = value;
    }

    // åˆ›å»ºå¤‡å¿˜å½•
    public Memento createMemento() {
        return new Memento(value);
    }

    // å­˜å‚¨å¤‡å¿˜å½•
    public void storageMemento(Memento memento) {
        this.value = memento.getValue();
    }
}


</code></pre>
</li>
</ul>
</li>
<li>
<p>å¤‡å¿˜å½•ç±»</p>
<ul>
<li>
<pre><code class="language-java">public class Memento {

    private String value;

    public Memento(String value) {
        this.value = value;
    }

    public String getValue() {
        return value;
    }

    public void setValue(String value) {
        this.value = value;
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>å¤‡å¿˜å½•å­˜å‚¨ç±»</p>
<ul>
<li>
<pre><code>public class Storage {

    private Memento memento;

    public Storage(Memento memento) {
        this.memento = memento;
    }

    public Memento getMemento (){
        return memento;
    }

    public void setMemento(Memento memento) {
        this.memento = memento;
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>ä½¿ç”¨æµ‹è¯•</p>
<ul>
<li>
<pre><code class="language-java">public static void main(String[] args) {

        // åŸå§‹ç±»
        Original apple = new Original(&quot;apple&quot;);

        // åˆ›å»ºå¤‡å¿˜å½•
        Storage storage = new Storage(apple.createMemento());

        // ä¿®æ”¹åŸå§‹ç±»çš„çŠ¶æ€
        System.out.println(&quot;åˆå§‹ç±»çš„åŸå§‹çŠ¶æ€: &quot; + apple.getValue());
        apple.setValue(&quot;watermelon&quot;);
        System.out.println(&quot;åˆå§‹ç±»çš„åŸå§‹çŠ¶æ€è¢«ä¿®æ”¹æˆäº†: &quot; + apple.getValue());

        // æ¢å¤åŸå§‹ç±»çš„çŠ¶æ€
        apple.storageMemento(storage.getMemento());
        System.out.println(&quot;çŠ¶æ€å›å¤å: &quot; + apple.getValue());

    }

</code></pre>
</li>
</ul>
</li>
</ol>
<h1 id="20-çŠ¶æ€æ¨¡å¼-state">20. çŠ¶æ€æ¨¡å¼ State
</h1><h2 id="201-æ¦‚è¿°">20.1 æ¦‚è¿°
</h2><blockquote>
<p>æ ¸å¿ƒæ€æƒ³: å½“å¯¹è±¡çš„çŠ¶æ€æ”¹å˜, åŒæ—¶æ”¹å˜å®ƒçš„è¡Œä¸º</p>
</blockquote>
<p>çŠ¶æ€æ¨¡å¼åœ¨æ—¥å¸¸å¼€å‘ä¸­ç”¨çš„æŒºå¤šçš„ï¼Œå°¤å…¶æ˜¯åšç½‘ç«™çš„æ—¶å€™ï¼Œæˆ‘ä»¬æœ‰æ—¶å¸Œæœ›æ ¹æ®å¯¹è±¡çš„æŸä¸€å±æ€§ï¼ŒåŒºåˆ«å¼€ä»–ä»¬çš„ä¸€äº›åŠŸèƒ½ï¼Œæ¯”å¦‚è¯´ç®€å•çš„æƒé™æ§åˆ¶ç­‰ã€‚</p>
<h2 id="202--å®ç°">20.2  å®ç°
</h2><ol>
<li>
<p>çŠ¶æ€ç±»çš„æ ¸å¿ƒç±» (å†…åŒ…å«äº†æ‰€æœ‰çš„æ–¹æ³•)</p>
<ul>
<li>
<pre><code class="language-java">public class State {

    private String value;

    public String getValue() {
        return value;
    }

    public void setValue(String value) {
        this.value = value;
    }

    public void method1 (){
        System.out.println(&quot;method1() æ‰§è¡Œäº†&quot;);
    }

    public void method2 (){
        System.out.println(&quot;method2() æ‰§è¡Œäº†&quot;);
    }
}

</code></pre>
</li>
</ul>
</li>
<li>
<p>çŠ¶æ€æ¨¡å¼çš„åˆ‡æ¢ç±», æŒæœ‰çŠ¶æ€å­—æ®µ, æ„é€ æ–¹æ³•ä¾èµ–çŠ¶æ€, åŒæ—¶æä¾›çŠ¶æ€æ ¸å¿ƒç±»çš„</p>
<ul>
<li>
<pre><code class="language-java">public class Context {

    private State state;

    public Context(State state) {
        this.state = state;
    }

    public State getState() {
        return state;
    }

    public void setState(State state) {
        this.state = state;
    }

    public void method() {
        if (&quot;method1&quot;.equals(state.getValue())) {
            state.method1();
        } else if (&quot;method2&quot;.equals(state.getValue())){
            state.method2();
        }
    }

}

</code></pre>
</li>
</ul>
</li>
<li>
<p>æµ‹è¯•: ä½¿ç”¨çš„æ—¶å€™åªéœ€è¦ç”¨åˆ‡æ¢ç±»å°±å¯ä»¥äº†</p>
<ul>
<li>
<pre><code class="language-java">public static void main(String[] args) {
       State state = new State();
       Context context = new Context(state);

       state.setValue(&quot;method1&quot;);
       context.method();

       state.setValue(&quot;method2&quot;);
       context.method();
}

</code></pre>
</li>
</ul>
</li>
</ol>
<h1 id="21-è®¿é—®è€…æ¨¡å¼-visitor">21. è®¿é—®è€…æ¨¡å¼ Visitor
</h1><h2 id="211-æ¦‚è¿°">21.1 æ¦‚è¿°
</h2><blockquote>
<p>è®¿é—®è€…æ¨¡å¼: å°±æ˜¯ä¸€ç§åˆ†ç¦»å¯¹è±¡æ•°æ®æ¥å£ä¸è¡Œä¸ºçš„æ–¹æ³•, é€šè¿‡è¿™ç§åˆ†ç¦», å¯è¾¾åˆ°ä¸ºä¸€ä¸ªè¢«è®¿é—®è¿™åŠ¨æ€æ·»åŠ æ–°çš„æ“ä½œè€Œæ— éœ€åšå…¶ä»–çš„ä¿®æ”¹; ==è®¿é—®è€…æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä¸ºäº†è®¿é—®æ¯”è¾ƒå¤æ‚çš„æ•°æ®ç»“æ„==ï¼Œ==ä¸å»æ”¹å˜æ•°æ®ç»“æ„==ï¼Œè€Œæ˜¯æŠŠ==å¯¹æ•°æ®çš„æ“ä½œæŠ½è±¡==å‡ºæ¥ï¼Œåœ¨â€œè®¿é—®â€çš„è¿‡ç¨‹ä¸­==ä»¥å›è°ƒå½¢å¼åœ¨è®¿é—®è€…ä¸­å¤„ç†æ“ä½œé€»è¾‘==ã€‚å¦‚æœè¦æ–°å¢ä¸€ç»„æ“ä½œï¼Œé‚£ä¹ˆåªéœ€è¦å¢åŠ ä¸€ä¸ªæ–°çš„è®¿é—®è€…ã€‚</p>
</blockquote>
<p><img src="/p/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/images/%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F.png"
	width="499"
	height="255"
	
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="195"
		data-flex-basis="469px"
	
></p>
<blockquote>
<p>å¦‚æœæƒ³ä¸ºç°æœ‰çš„ç±»æ·»åŠ æ–°åŠŸèƒ½</p>
</blockquote>
<h2 id="212-å®ç°">21.2 å®ç°
</h2><ol>
<li>
<p>è®¿é—®è€…æ¥å£</p>
<ul>
<li>
<p>è®¾ç½®è®¿é—®å¯¹è±¡</p>
<pre><code class="language-java">public interface Vistor {
    public void visit(Subject sub);
}


</code></pre>
</li>
</ul>
</li>
<li>
<p>è®¿é—®è€…å®ç°ç±»</p>
<ul>
<li></li>
</ul>
</li>
</ol>
<pre><code> ```java
 public class MyVistor implements Vistor {
 
     @Override
     public void visit(Subject sub) {
         System.out.println(&quot;visit the subjectï¼š&quot;+ sub.getSubjet());
     }
 
 }
 
 ```
</code></pre>
<ol start="3">
<li>
<p>è®¿é—®æ¥å—è€…æ¥å£</p>
<ol>
<li>
<p>æ¥å—è®¿é—®è€…</p>
</li>
<li>
<p>è·å–è¢«è®¿é—®å±æ€§</p>
</li>
<li></li>
</ol>
</li>
</ol>
<pre><code>  ```java
  public interface Subject {
  
      void accept(Vistor vistor);
  
      String getSubjet();
  }
  
  
  ```
</code></pre>
<ol start="4">
<li>
<p>è®¿é—®æ¥å—è€…å®ç°ç±»</p>
<ul>
<li></li>
</ul>
</li>
</ol>
<pre><code> ```java
 public class MySubject implements Subject {
 
     @Override
     public void accept(Vistor vistor) {
         vistor.visit(this);
     }
 
     @Override
     public String getSubjet() {
         return &quot;love&quot;;
     }
 }
 
 ```
</code></pre>
<ol start="5">
<li>
<p>test</p>
<ul>
<li></li>
</ul>
</li>
</ol>
<pre><code> ```java
 public class Test {  
   
     public static void main(String[] args) {  
         
         Visitor visitor = new MyVisitor();  
         Subject sub = new MySubject();  
         sub.accept(visitor);      
     }  
 } 
 
 ```
</code></pre>
<h2 id="213--å®ç°-é€’å½’æ”¹é€ ">21.3  å®ç° (é€’å½’æ”¹é€ )
</h2><blockquote>
<p>è®¿é—®è€…æ¨¡å¼å…ˆæŠŠ==æ•°æ®ç»“æ„ï¼ˆè¿™é‡Œæ˜¯æ–‡ä»¶å¤¹å’Œæ–‡ä»¶æ„æˆçš„æ ‘å‹ç»“æ„ï¼‰==å’Œå¯¹å…¶çš„==æ“ä½œï¼ˆæŸ¥æ‰¾æ–‡ä»¶ï¼‰åˆ†ç¦»å¼€==ï¼Œä»¥å==å¦‚æœè¦æ–°å¢æ“ä½œ==ï¼ˆä¾‹å¦‚æ¸…ç†<code>.class</code>æ–‡ä»¶ï¼‰ï¼Œåªéœ€è¦==æ–°å¢è®¿é—®è€…==ï¼Œä¸éœ€è¦æ”¹å˜ç°æœ‰é€»è¾‘ã€‚</p>
</blockquote>
<p>åœºæ™¯æè¿°, å‡è®¾æˆ‘ä»¬è¦éå†æŸä¸ªæ–‡ä»¶å¤¹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹ å’Œæ–‡ä»¶, ç„¶åæ‰¾å‡ºjava æ–‡ä»¶</p>
<p>å†™é€’å½’</p>
<pre><code class="language-java">// é€’å½’çš„é—®é¢˜æ˜¯, æŠŠæ•°æ®æ‰«æ å’Œ å¯¹ æ•°æ®çš„æ“ä½œæ··åœ¨äº†ä¸€èµ·
    public void scan(File dir, List&lt;File&gt; fileList){
        for (File file : dir.listFiles()) {
            if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.java&quot;)) {
                fileList.add(file);
            } else if (file.isDirectory()){
                scan(file, fileList);
            }
        }
    }

</code></pre>
<ol>
<li>è®¿é—®è€…æ¥å£å®šä¹‰çš„è®¿é—®è€…çš„è¡Œä¸º</li>
</ol>
<pre><code class="language-java">public interface Vistor {

    // è®¿é—®æ–‡ä»¶å¤¹
    void visitDir(File dir);

    // è®¿é—®æ–‡ä»¶
    void visitFile(File file);
}

</code></pre>
<ol start="2">
<li>å®šä¹‰èƒ½æŒæœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„æ•°æ®ç»“æ„ <code>FileStructure</code></li>
</ol>
<pre><code class="language-java">public class FileStructure {

    // æ ¹ç›®å½•
    private File path;

    public FileStructure(File path) {
        this.path = path;
    }


    // handle æ–¹æ³•, ä¼ å…¥è®¿é—®è€…; è¿™é‡ŒæŠŠè®¿é—®è€…çš„è¡Œä¸ºæŠ½è±¡å‡ºæ¥äº†
    public void handle(Vistor vistor) {
        scan(this.path, vistor);
    }

    private void scan(File file, Vistor vistor) {
        if (file.isDirectory()) {
            // è®©è®¿é—®è€…å¤„ç†æ–‡ä»¶å¤¹:
            vistor.visitDir(file);
            for (File sub : file.listFiles()) {
                // é€’å½’å¤„ç†å­æ–‡ä»¶å¤¹:
                scan(sub, vistor);
            }
        } else if (file.isFile()) {
            // è®©è®¿é—®è€…å¤„ç†æ–‡ä»¶:
            vistor.visitFile(file);
        }
    }

}

</code></pre>
<ol start="3">
<li>è®¿é—®javalç±»çš„è®¿é—®è€…</li>
</ol>
<pre><code class="language-java">public class JavaFileVistor implements Vistor {
    @Override
    public void visitDir(File dir) {
        System.out.println(&quot;Visit dir: &quot; + dir);
    }

    @Override
    public void visitFile(File file) {
        System.out.println(&quot;Found java file: &quot; + file);
    }
}

</code></pre>
<ol start="4">
<li>æ¸…é™¤java æ–‡ä»¶çš„</li>
</ol>
<pre><code class="language-java">public class ClassFileCleanerVistor implements Vistor {
    @Override
    public void visitDir(File dir) {

    }

    @Override
    public void visitFile(File file) {
        if (file.getName().endsWith(&quot;.class&quot;)) {
            System.out.println(&quot;Will clean class file: &quot; + file);
        }
    }
}

</code></pre>
<h1 id="22-ä¸­ä»‹æ¨¡å¼-mediator">22. ä¸­ä»‹æ¨¡å¼ Mediator
</h1><h2 id="221--æ¦‚è¿°">22.1  æ¦‚è¿°
</h2><blockquote>
<p><em>ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„ä¸ªå¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚</em></p>
</blockquote>

</section>


    <footer class="article-footer">
    

    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2019 - 
        
        2025 LexqinMike
    </section>
    
    <section class="powerby">
        
            ä½ æ°¸è¿œä¸çŸ¥é“ï¼Œæˆ‘çš„ä»£ç é‡Œè—äº†å¤šå°‘æ•…äº‹ã€‚ <br/>
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<div id="particles-js"></div>

<script src=https://mikeLing-qx.github.io/background/particles.min.js></script>
<script>
  particlesJS.load('particles-js', "https://mikeLing-qx.github.io/background/particlesjs-config.json", function() {
    console.log('particles.js loaded - callback');
  });
</script>

<style>
  #particles-js {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: -1;
  }
</style>

<style>
  body {
    background: url(https://mikeLing-qx.github.io/background/background-01.png) no-repeat center top;
    background-size: cover;
    background-attachment: fixed;
  }
</style>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
		<script>hljs.highlightAll();</script>
    </body>
</html>
